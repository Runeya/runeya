import{S as dn,_ as Ha}from"./index-sqC47xDA.js";import{s as sC,u as Er,b as oC,c as eh,r as Le,d as aC,t as De,n as St,a as Br}from"./reactivity.esm-bundler-LrxtCAaW.js";import{l as Zi,n as si,m as Cl,c as At,q as gv,s as uu,t as vn,o as re,a as oe,u as Wr,e as W,F as it,g as pt,i as He,p as Vt,d as Kt,h as jt,r as br,b as Ue,j as at,k as rt,T as lC,f as er,v as th,w as Rt,x as cC,y as Bs,z as uC,A as hC}from"./runtime-core.esm-bundler-MKLD6zL_.js";import{a as _r,w as gn,b as wl,v as or,c as _v,d as Nn,e as fC}from"./vue.runtime.esm-bundler-9Vkzbhtf.js";import{_ as Pt}from"./_plugin-vue_export-helper-x3n3nnut.js";import{c as Ar,g as ci,r as mv,M as dC,a as pC}from"./vue3-markdown-it.umd.min-7JKSWcHD.js";import{a as We}from"./axios-_p75_7XV.js";/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Ds=typeof window<"u";function vC(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Ft=Object.assign;function hu(e,a){const c={};for(const b in a){const S=a[b];c[b]=kn(S)?S.map(e):e(S)}return c}const Ao=()=>{},kn=Array.isArray,gC=/\/$/,_C=e=>e.replace(gC,"");function fu(e,a,c="/"){let b,S={},x="",l="";const t=a.indexOf("#");let n=a.indexOf("?");return t<n&&t>=0&&(n=-1),n>-1&&(b=a.slice(0,n),x=a.slice(n+1,t>-1?t:a.length),S=e(x)),t>-1&&(b=b||a.slice(0,t),l=a.slice(t,a.length)),b=SC(b??a,c),{fullPath:b+(x&&"?")+x+l,path:b,query:S,hash:l}}function mC(e,a){const c=a.query?e(a.query):"";return a.path+(c&&"?")+c+(a.hash||"")}function Kd(e,a){return!a||!e.toLowerCase().startsWith(a.toLowerCase())?e:e.slice(a.length)||"/"}function yC(e,a,c){const b=a.matched.length-1,S=c.matched.length-1;return b>-1&&b===S&&$s(a.matched[b],c.matched[S])&&yv(a.params,c.params)&&e(a.query)===e(c.query)&&a.hash===c.hash}function $s(e,a){return(e.aliasOf||e)===(a.aliasOf||a)}function yv(e,a){if(Object.keys(e).length!==Object.keys(a).length)return!1;for(const c in e)if(!bC(e[c],a[c]))return!1;return!0}function bC(e,a){return kn(e)?Yd(e,a):kn(a)?Yd(a,e):e===a}function Yd(e,a){return kn(a)?e.length===a.length&&e.every((c,b)=>c===a[b]):e.length===1&&e[0]===a}function SC(e,a){if(e.startsWith("/"))return e;if(!e)return a;const c=a.split("/"),b=e.split("/"),S=b[b.length-1];(S===".."||S===".")&&b.push("");let x=c.length-1,l,t;for(l=0;l<b.length;l++)if(t=b[l],t!==".")if(t==="..")x>1&&x--;else break;return c.slice(0,x).join("/")+"/"+b.slice(l-(l===b.length?1:0)).join("/")}var $o;(function(e){e.pop="pop",e.push="push"})($o||($o={}));var To;(function(e){e.back="back",e.forward="forward",e.unknown=""})(To||(To={}));function CC(e){if(!e)if(Ds){const a=document.querySelector("base");e=a&&a.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),_C(e)}const wC=/^[^#]+#/;function xC(e,a){return e.replace(wC,"#")+a}function EC(e,a){const c=document.documentElement.getBoundingClientRect(),b=e.getBoundingClientRect();return{behavior:a.behavior,left:b.left-c.left-(a.left||0),top:b.top-c.top-(a.top||0)}}const xl=()=>({left:window.pageXOffset,top:window.pageYOffset});function AC(e){let a;if("el"in e){const c=e.el,b=typeof c=="string"&&c.startsWith("#"),S=typeof c=="string"?b?document.getElementById(c.slice(1)):document.querySelector(c):c;if(!S)return;a=EC(S,e)}else a=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(a):window.scrollTo(a.left!=null?a.left:window.pageXOffset,a.top!=null?a.top:window.pageYOffset)}function Xd(e,a){return(history.state?history.state.position-a:-1)+e}const Mu=new Map;function TC(e,a){Mu.set(e,a)}function LC(e){const a=Mu.get(e);return Mu.delete(e),a}let OC=()=>location.protocol+"//"+location.host;function bv(e,a){const{pathname:c,search:b,hash:S}=a,x=e.indexOf("#");if(x>-1){let t=S.includes(e.slice(x))?e.slice(x).length:1,n=S.slice(t);return n[0]!=="/"&&(n="/"+n),Kd(n,"")}return Kd(c,e)+b+S}function RC(e,a,c,b){let S=[],x=[],l=null;const t=({state:u})=>{const g=bv(e,location),_=c.value,m=a.value;let r=0;if(u){if(c.value=g,a.value=u,l&&l===_){l=null;return}r=m?u.position-m.position:0}else b(g);S.forEach(f=>{f(c.value,_,{delta:r,type:$o.pop,direction:r?r>0?To.forward:To.back:To.unknown})})};function n(){l=c.value}function i(u){S.push(u);const g=()=>{const _=S.indexOf(u);_>-1&&S.splice(_,1)};return x.push(g),g}function h(){const{history:u}=window;u.state&&u.replaceState(Ft({},u.state,{scroll:xl()}),"")}function o(){for(const u of x)u();x=[],window.removeEventListener("popstate",t),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",t),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:n,listen:i,destroy:o}}function Jd(e,a,c,b=!1,S=!1){return{back:e,current:a,forward:c,replaced:b,position:window.history.length,scroll:S?xl():null}}function kC(e){const{history:a,location:c}=window,b={value:bv(e,c)},S={value:a.state};S.value||x(b.value,{back:null,current:b.value,forward:null,position:a.length-1,replaced:!0,scroll:null},!0);function x(n,i,h){const o=e.indexOf("#"),u=o>-1?(c.host&&document.querySelector("base")?e:e.slice(o))+n:OC()+e+n;try{a[h?"replaceState":"pushState"](i,"",u),S.value=i}catch(g){console.error(g),c[h?"replace":"assign"](u)}}function l(n,i){const h=Ft({},a.state,Jd(S.value.back,n,S.value.forward,!0),i,{position:S.value.position});x(n,h,!0),b.value=n}function t(n,i){const h=Ft({},S.value,a.state,{forward:n,scroll:xl()});x(h.current,h,!0);const o=Ft({},Jd(b.value,n,null),{position:h.position+1},i);x(n,o,!1),b.value=n}return{location:b,state:S,push:t,replace:l}}function DC(e){e=CC(e);const a=kC(e),c=RC(e,a.state,a.location,a.replace);function b(x,l=!0){l||c.pauseListeners(),history.go(x)}const S=Ft({location:"",base:e,go:b,createHref:xC.bind(null,e)},a,c);return Object.defineProperty(S,"location",{enumerable:!0,get:()=>a.location.value}),Object.defineProperty(S,"state",{enumerable:!0,get:()=>a.state.value}),S}function IC(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),DC(e)}function MC(e){return typeof e=="string"||e&&typeof e=="object"}function Sv(e){return typeof e=="string"||typeof e=="symbol"}const Ai={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Cv=Symbol("");var Qd;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Qd||(Qd={}));function Fs(e,a){return Ft(new Error,{type:e,[Cv]:!0},a)}function ii(e,a){return e instanceof Error&&Cv in e&&(a==null||!!(e.type&a))}const qd="[^/]+?",PC={sensitive:!1,strict:!1,start:!0,end:!0},BC=/[.+*?^${}()[\]/\\]/g;function $C(e,a){const c=Ft({},PC,a),b=[];let S=c.start?"^":"";const x=[];for(const i of e){const h=i.length?[]:[90];c.strict&&!i.length&&(S+="/");for(let o=0;o<i.length;o++){const u=i[o];let g=40+(c.sensitive?.25:0);if(u.type===0)o||(S+="/"),S+=u.value.replace(BC,"\\$&"),g+=40;else if(u.type===1){const{value:_,repeatable:m,optional:r,regexp:f}=u;x.push({name:_,repeatable:m,optional:r});const p=f||qd;if(p!==qd){g+=10;try{new RegExp(`(${p})`)}catch(d){throw new Error(`Invalid custom RegExp for param "${_}" (${p}): `+d.message)}}let v=m?`((?:${p})(?:/(?:${p}))*)`:`(${p})`;o||(v=r&&i.length<2?`(?:/${v})`:"/"+v),r&&(v+="?"),S+=v,g+=20,r&&(g+=-8),m&&(g+=-20),p===".*"&&(g+=-50)}h.push(g)}b.push(h)}if(c.strict&&c.end){const i=b.length-1;b[i][b[i].length-1]+=.7000000000000001}c.strict||(S+="/?"),c.end?S+="$":c.strict&&(S+="(?:/|$)");const l=new RegExp(S,c.sensitive?"":"i");function t(i){const h=i.match(l),o={};if(!h)return null;for(let u=1;u<h.length;u++){const g=h[u]||"",_=x[u-1];o[_.name]=g&&_.repeatable?g.split("/"):g}return o}function n(i){let h="",o=!1;for(const u of e){(!o||!h.endsWith("/"))&&(h+="/"),o=!1;for(const g of u)if(g.type===0)h+=g.value;else if(g.type===1){const{value:_,repeatable:m,optional:r}=g,f=_ in i?i[_]:"";if(kn(f)&&!m)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const p=kn(f)?f.join("/"):f;if(!p)if(r)u.length<2&&(h.endsWith("/")?h=h.slice(0,-1):o=!0);else throw new Error(`Missing required param "${_}"`);h+=p}}return h||"/"}return{re:l,score:b,keys:x,parse:t,stringify:n}}function FC(e,a){let c=0;for(;c<e.length&&c<a.length;){const b=a[c]-e[c];if(b)return b;c++}return e.length<a.length?e.length===1&&e[0]===80?-1:1:e.length>a.length?a.length===1&&a[0]===80?1:-1:0}function jC(e,a){let c=0;const b=e.score,S=a.score;for(;c<b.length&&c<S.length;){const x=FC(b[c],S[c]);if(x)return x;c++}if(Math.abs(S.length-b.length)===1){if(Zd(b))return 1;if(Zd(S))return-1}return S.length-b.length}function Zd(e){const a=e[e.length-1];return e.length>0&&a[a.length-1]<0}const NC={type:0,value:""},HC=/[a-zA-Z0-9_]/;function UC(e){if(!e)return[[]];if(e==="/")return[[NC]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function a(g){throw new Error(`ERR (${c})/"${i}": ${g}`)}let c=0,b=c;const S=[];let x;function l(){x&&S.push(x),x=[]}let t=0,n,i="",h="";function o(){i&&(c===0?x.push({type:0,value:i}):c===1||c===2||c===3?(x.length>1&&(n==="*"||n==="+")&&a(`A repeatable param (${i}) must be alone in its segment. eg: '/:ids+.`),x.push({type:1,value:i,regexp:h,repeatable:n==="*"||n==="+",optional:n==="*"||n==="?"})):a("Invalid state to consume buffer"),i="")}function u(){i+=n}for(;t<e.length;){if(n=e[t++],n==="\\"&&c!==2){b=c,c=4;continue}switch(c){case 0:n==="/"?(i&&o(),l()):n===":"?(o(),c=1):u();break;case 4:u(),c=b;break;case 1:n==="("?c=2:HC.test(n)?u():(o(),c=0,n!=="*"&&n!=="?"&&n!=="+"&&t--);break;case 2:n===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+n:c=3:h+=n;break;case 3:o(),c=0,n!=="*"&&n!=="?"&&n!=="+"&&t--,h="";break;default:a("Unknown state");break}}return c===2&&a(`Unfinished custom RegExp for param "${i}"`),o(),l(),S}function WC(e,a,c){const b=$C(UC(e.path),c),S=Ft(b,{record:e,parent:a,children:[],alias:[]});return a&&!S.record.aliasOf==!a.record.aliasOf&&a.children.push(S),S}function zC(e,a){const c=[],b=new Map;a=rp({strict:!1,end:!0,sensitive:!1},a);function S(h){return b.get(h)}function x(h,o,u){const g=!u,_=GC(h);_.aliasOf=u&&u.record;const m=rp(a,h),r=[_];if("alias"in h){const v=typeof h.alias=="string"?[h.alias]:h.alias;for(const d of v)r.push(Ft({},_,{components:u?u.record.components:_.components,path:d,aliasOf:u?u.record:_}))}let f,p;for(const v of r){const{path:d}=v;if(o&&d[0]!=="/"){const C=o.record.path,w=C[C.length-1]==="/"?"":"/";v.path=o.record.path+(d&&w+d)}if(f=WC(v,o,m),u?u.alias.push(f):(p=p||f,p!==f&&p.alias.push(f),g&&h.name&&!tp(f)&&l(h.name)),_.children){const C=_.children;for(let w=0;w<C.length;w++)x(C[w],f,u&&u.children[w])}u=u||f,(f.record.components&&Object.keys(f.record.components).length||f.record.name||f.record.redirect)&&n(f)}return p?()=>{l(p)}:Ao}function l(h){if(Sv(h)){const o=b.get(h);o&&(b.delete(h),c.splice(c.indexOf(o),1),o.children.forEach(l),o.alias.forEach(l))}else{const o=c.indexOf(h);o>-1&&(c.splice(o,1),h.record.name&&b.delete(h.record.name),h.children.forEach(l),h.alias.forEach(l))}}function t(){return c}function n(h){let o=0;for(;o<c.length&&jC(h,c[o])>=0&&(h.record.path!==c[o].record.path||!wv(h,c[o]));)o++;c.splice(o,0,h),h.record.name&&!tp(h)&&b.set(h.record.name,h)}function i(h,o){let u,g={},_,m;if("name"in h&&h.name){if(u=b.get(h.name),!u)throw Fs(1,{location:h});m=u.record.name,g=Ft(ep(o.params,u.keys.filter(p=>!p.optional).map(p=>p.name)),h.params&&ep(h.params,u.keys.map(p=>p.name))),_=u.stringify(g)}else if("path"in h)_=h.path,u=c.find(p=>p.re.test(_)),u&&(g=u.parse(_),m=u.record.name);else{if(u=o.name?b.get(o.name):c.find(p=>p.re.test(o.path)),!u)throw Fs(1,{location:h,currentLocation:o});m=u.record.name,g=Ft({},o.params,h.params),_=u.stringify(g)}const r=[];let f=u;for(;f;)r.unshift(f.record),f=f.parent;return{name:m,path:_,params:g,matched:r,meta:KC(r)}}return e.forEach(h=>x(h)),{addRoute:x,resolve:i,removeRoute:l,getRoutes:t,getRecordMatcher:S}}function ep(e,a){const c={};for(const b of a)b in e&&(c[b]=e[b]);return c}function GC(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:VC(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function VC(e){const a={},c=e.props||!1;if("component"in e)a.default=c;else for(const b in e.components)a[b]=typeof c=="object"?c[b]:c;return a}function tp(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function KC(e){return e.reduce((a,c)=>Ft(a,c.meta),{})}function rp(e,a){const c={};for(const b in e)c[b]=b in a?a[b]:e[b];return c}function wv(e,a){return a.children.some(c=>c===e||wv(e,c))}const xv=/#/g,YC=/&/g,XC=/\//g,JC=/=/g,QC=/\?/g,Ev=/\+/g,qC=/%5B/g,ZC=/%5D/g,Av=/%5E/g,ew=/%60/g,Tv=/%7B/g,tw=/%7C/g,Lv=/%7D/g,rw=/%20/g;function rh(e){return encodeURI(""+e).replace(tw,"|").replace(qC,"[").replace(ZC,"]")}function nw(e){return rh(e).replace(Tv,"{").replace(Lv,"}").replace(Av,"^")}function Pu(e){return rh(e).replace(Ev,"%2B").replace(rw,"+").replace(xv,"%23").replace(YC,"%26").replace(ew,"`").replace(Tv,"{").replace(Lv,"}").replace(Av,"^")}function iw(e){return Pu(e).replace(JC,"%3D")}function sw(e){return rh(e).replace(xv,"%23").replace(QC,"%3F")}function ow(e){return e==null?"":sw(e).replace(XC,"%2F")}function cl(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function aw(e){const a={};if(e===""||e==="?")return a;const b=(e[0]==="?"?e.slice(1):e).split("&");for(let S=0;S<b.length;++S){const x=b[S].replace(Ev," "),l=x.indexOf("="),t=cl(l<0?x:x.slice(0,l)),n=l<0?null:cl(x.slice(l+1));if(t in a){let i=a[t];kn(i)||(i=a[t]=[i]),i.push(n)}else a[t]=n}return a}function np(e){let a="";for(let c in e){const b=e[c];if(c=iw(c),b==null){b!==void 0&&(a+=(a.length?"&":"")+c);continue}(kn(b)?b.map(x=>x&&Pu(x)):[b&&Pu(b)]).forEach(x=>{x!==void 0&&(a+=(a.length?"&":"")+c,x!=null&&(a+="="+x))})}return a}function lw(e){const a={};for(const c in e){const b=e[c];b!==void 0&&(a[c]=kn(b)?b.map(S=>S==null?null:""+S):b==null?b:""+b)}return a}const cw=Symbol(""),ip=Symbol(""),El=Symbol(""),nh=Symbol(""),Bu=Symbol("");function ho(){let e=[];function a(b){return e.push(b),()=>{const S=e.indexOf(b);S>-1&&e.splice(S,1)}}function c(){e=[]}return{add:a,list:()=>e.slice(),reset:c}}function Ti(e,a,c,b,S){const x=b&&(b.enterCallbacks[S]=b.enterCallbacks[S]||[]);return()=>new Promise((l,t)=>{const n=o=>{o===!1?t(Fs(4,{from:c,to:a})):o instanceof Error?t(o):MC(o)?t(Fs(2,{from:a,to:o})):(x&&b.enterCallbacks[S]===x&&typeof o=="function"&&x.push(o),l())},i=e.call(b&&b.instances[S],a,c,n);let h=Promise.resolve(i);e.length<3&&(h=h.then(n)),h.catch(o=>t(o))})}function du(e,a,c,b){const S=[];for(const x of e)for(const l in x.components){let t=x.components[l];if(!(a!=="beforeRouteEnter"&&!x.instances[l]))if(uw(t)){const i=(t.__vccOpts||t)[a];i&&S.push(Ti(i,c,b,x,l))}else{let n=t();S.push(()=>n.then(i=>{if(!i)return Promise.reject(new Error(`Couldn't resolve component "${l}" at "${x.path}"`));const h=vC(i)?i.default:i;x.components[l]=h;const u=(h.__vccOpts||h)[a];return u&&Ti(u,c,b,x,l)()}))}}return S}function uw(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function sp(e){const a=Zi(El),c=Zi(nh),b=At(()=>a.resolve(Er(e.to))),S=At(()=>{const{matched:n}=b.value,{length:i}=n,h=n[i-1],o=c.matched;if(!h||!o.length)return-1;const u=o.findIndex($s.bind(null,h));if(u>-1)return u;const g=op(n[i-2]);return i>1&&op(h)===g&&o[o.length-1].path!==g?o.findIndex($s.bind(null,n[i-2])):u}),x=At(()=>S.value>-1&&pw(c.params,b.value.params)),l=At(()=>S.value>-1&&S.value===c.matched.length-1&&yv(c.params,b.value.params));function t(n={}){return dw(n)?a[Er(e.replace)?"replace":"push"](Er(e.to)).catch(Ao):Promise.resolve()}return{route:b,href:At(()=>b.value.href),isActive:x,isExactActive:l,navigate:t}}const hw=Cl({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:sp,setup(e,{slots:a}){const c=eh(sp(e)),{options:b}=Zi(El),S=At(()=>({[ap(e.activeClass,b.linkActiveClass,"router-link-active")]:c.isActive,[ap(e.exactActiveClass,b.linkExactActiveClass,"router-link-exact-active")]:c.isExactActive}));return()=>{const x=a.default&&a.default(c);return e.custom?x:gv("a",{"aria-current":c.isExactActive?e.ariaCurrentValue:null,href:c.href,onClick:c.navigate,class:S.value},x)}}}),fw=hw;function dw(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const a=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(a))return}return e.preventDefault&&e.preventDefault(),!0}}function pw(e,a){for(const c in a){const b=a[c],S=e[c];if(typeof b=="string"){if(b!==S)return!1}else if(!kn(S)||S.length!==b.length||b.some((x,l)=>x!==S[l]))return!1}return!0}function op(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const ap=(e,a,c)=>e??a??c,vw=Cl({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:a,slots:c}){const b=Zi(Bu),S=At(()=>e.route||b.value),x=Zi(ip,0),l=At(()=>{let i=Er(x);const{matched:h}=S.value;let o;for(;(o=h[i])&&!o.components;)i++;return i}),t=At(()=>S.value.matched[l.value]);uu(ip,At(()=>l.value+1)),uu(cw,t),uu(Bu,S);const n=Le();return vn(()=>[n.value,t.value,e.name],([i,h,o],[u,g,_])=>{h&&(h.instances[o]=i,g&&g!==h&&i&&i===u&&(h.leaveGuards.size||(h.leaveGuards=g.leaveGuards),h.updateGuards.size||(h.updateGuards=g.updateGuards))),i&&h&&(!g||!$s(h,g)||!u)&&(h.enterCallbacks[o]||[]).forEach(m=>m(i))},{flush:"post"}),()=>{const i=S.value,h=e.name,o=t.value,u=o&&o.components[h];if(!u)return lp(c.default,{Component:u,route:i});const g=o.props[h],_=g?g===!0?i.params:typeof g=="function"?g(i):g:null,r=gv(u,Ft({},_,a,{onVnodeUnmounted:f=>{f.component.isUnmounted&&(o.instances[h]=null)},ref:n}));return lp(c.default,{Component:r,route:i})||r}}});function lp(e,a){if(!e)return null;const c=e(a);return c.length===1?c[0]:c}const gw=vw;function _w(e){const a=zC(e.routes,e),c=e.parseQuery||aw,b=e.stringifyQuery||np,S=e.history,x=ho(),l=ho(),t=ho(),n=sC(Ai);let i=Ai;Ds&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=hu.bind(null,B=>""+B),o=hu.bind(null,ow),u=hu.bind(null,cl);function g(B,j){let N,Q;return Sv(B)?(N=a.getRecordMatcher(B),Q=j):Q=B,a.addRoute(Q,N)}function _(B){const j=a.getRecordMatcher(B);j&&a.removeRoute(j)}function m(){return a.getRoutes().map(B=>B.record)}function r(B){return!!a.getRecordMatcher(B)}function f(B,j){if(j=Ft({},j||n.value),typeof B=="string"){const Te=fu(c,B,j.path),ve=a.resolve({path:Te.path},j),Ce=S.createHref(Te.fullPath);return Ft(Te,ve,{params:u(ve.params),hash:cl(Te.hash),redirectedFrom:void 0,href:Ce})}let N;if("path"in B)N=Ft({},B,{path:fu(c,B.path,j.path).path});else{const Te=Ft({},B.params);for(const ve in Te)Te[ve]==null&&delete Te[ve];N=Ft({},B,{params:o(Te)}),j.params=o(j.params)}const Q=a.resolve(N,j),ce=B.hash||"";Q.params=h(u(Q.params));const ue=mC(b,Ft({},B,{hash:nw(ce),path:Q.path})),pe=S.createHref(ue);return Ft({fullPath:ue,hash:ce,query:b===np?lw(B.query):B.query||{}},Q,{redirectedFrom:void 0,href:pe})}function p(B){return typeof B=="string"?fu(c,B,n.value.path):Ft({},B)}function v(B,j){if(i!==B)return Fs(8,{from:j,to:B})}function d(B){return A(B)}function C(B){return d(Ft(p(B),{replace:!0}))}function w(B){const j=B.matched[B.matched.length-1];if(j&&j.redirect){const{redirect:N}=j;let Q=typeof N=="function"?N(B):N;return typeof Q=="string"&&(Q=Q.includes("?")||Q.includes("#")?Q=p(Q):{path:Q},Q.params={}),Ft({query:B.query,hash:B.hash,params:"path"in Q?{}:B.params},Q)}}function A(B,j){const N=i=f(B),Q=n.value,ce=B.state,ue=B.force,pe=B.replace===!0,Te=w(N);if(Te)return A(Ft(p(Te),{state:typeof Te=="object"?Ft({},ce,Te.state):ce,force:ue,replace:pe}),j||N);const ve=N;ve.redirectedFrom=j;let Ce;return!ue&&yC(b,Q,N)&&(Ce=Fs(16,{to:ve,from:Q}),X(Q,Q,!0,!1)),(Ce?Promise.resolve(Ce):D(ve,Q)).catch(xe=>ii(xe)?ii(xe,2)?xe:z(xe):k(xe,ve,Q)).then(xe=>{if(xe){if(ii(xe,2))return A(Ft({replace:pe},p(xe.to),{state:typeof xe.to=="object"?Ft({},ce,xe.to.state):ce,force:ue}),j||ve)}else xe=I(ve,Q,!0,pe,ce);return R(ve,Q,xe),xe})}function E(B,j){const N=v(B,j);return N?Promise.reject(N):Promise.resolve()}function L(B){const j=V.values().next().value;return j&&typeof j.runWithContext=="function"?j.runWithContext(B):B()}function D(B,j){let N;const[Q,ce,ue]=mw(B,j);N=du(Q.reverse(),"beforeRouteLeave",B,j);for(const Te of Q)Te.leaveGuards.forEach(ve=>{N.push(Ti(ve,B,j))});const pe=E.bind(null,B,j);return N.push(pe),be(N).then(()=>{N=[];for(const Te of x.list())N.push(Ti(Te,B,j));return N.push(pe),be(N)}).then(()=>{N=du(ce,"beforeRouteUpdate",B,j);for(const Te of ce)Te.updateGuards.forEach(ve=>{N.push(Ti(ve,B,j))});return N.push(pe),be(N)}).then(()=>{N=[];for(const Te of ue)if(Te.beforeEnter)if(kn(Te.beforeEnter))for(const ve of Te.beforeEnter)N.push(Ti(ve,B,j));else N.push(Ti(Te.beforeEnter,B,j));return N.push(pe),be(N)}).then(()=>(B.matched.forEach(Te=>Te.enterCallbacks={}),N=du(ue,"beforeRouteEnter",B,j),N.push(pe),be(N))).then(()=>{N=[];for(const Te of l.list())N.push(Ti(Te,B,j));return N.push(pe),be(N)}).catch(Te=>ii(Te,8)?Te:Promise.reject(Te))}function R(B,j,N){t.list().forEach(Q=>L(()=>Q(B,j,N)))}function I(B,j,N,Q,ce){const ue=v(B,j);if(ue)return ue;const pe=j===Ai,Te=Ds?history.state:{};N&&(Q||pe?S.replace(B.fullPath,Ft({scroll:pe&&Te&&Te.scroll},ce)):S.push(B.fullPath,ce)),n.value=B,X(B,j,N,pe),z()}let P;function $(){P||(P=S.listen((B,j,N)=>{if(!se.listening)return;const Q=f(B),ce=w(Q);if(ce){A(Ft(ce,{replace:!0}),Q).catch(Ao);return}i=Q;const ue=n.value;Ds&&TC(Xd(ue.fullPath,N.delta),xl()),D(Q,ue).catch(pe=>ii(pe,12)?pe:ii(pe,2)?(A(pe.to,Q).then(Te=>{ii(Te,20)&&!N.delta&&N.type===$o.pop&&S.go(-1,!1)}).catch(Ao),Promise.reject()):(N.delta&&S.go(-N.delta,!1),k(pe,Q,ue))).then(pe=>{pe=pe||I(Q,ue,!1),pe&&(N.delta&&!ii(pe,8)?S.go(-N.delta,!1):N.type===$o.pop&&ii(pe,20)&&S.go(-1,!1)),R(Q,ue,pe)}).catch(Ao)}))}let F=ho(),U=ho(),Y;function k(B,j,N){z(B);const Q=U.list();return Q.length?Q.forEach(ce=>ce(B,j,N)):console.error(B),Promise.reject(B)}function H(){return Y&&n.value!==Ai?Promise.resolve():new Promise((B,j)=>{F.add([B,j])})}function z(B){return Y||(Y=!B,$(),F.list().forEach(([j,N])=>B?N(B):j()),F.reset()),B}function X(B,j,N,Q){const{scrollBehavior:ce}=e;if(!Ds||!ce)return Promise.resolve();const ue=!N&&LC(Xd(B.fullPath,0))||(Q||!N)&&history.state&&history.state.scroll||null;return si().then(()=>ce(B,j,ue)).then(pe=>pe&&AC(pe)).catch(pe=>k(pe,B,j))}const te=B=>S.go(B);let J;const V=new Set,se={currentRoute:n,listening:!0,addRoute:g,removeRoute:_,hasRoute:r,getRoutes:m,resolve:f,options:e,push:d,replace:C,go:te,back:()=>te(-1),forward:()=>te(1),beforeEach:x.add,beforeResolve:l.add,afterEach:t.add,onError:U.add,isReady:H,install(B){const j=this;B.component("RouterLink",fw),B.component("RouterView",gw),B.config.globalProperties.$router=j,Object.defineProperty(B.config.globalProperties,"$route",{enumerable:!0,get:()=>Er(n)}),Ds&&!J&&n.value===Ai&&(J=!0,d(S.location).catch(ce=>{}));const N={};for(const ce in Ai)Object.defineProperty(N,ce,{get:()=>n.value[ce],enumerable:!0});B.provide(El,j),B.provide(nh,oC(N)),B.provide(Bu,n);const Q=B.unmount;V.add(B),B.unmount=function(){V.delete(B),V.size<1&&(i=Ai,P&&P(),P=null,n.value=Ai,J=!1,Y=!1),Q()}}};function be(B){return B.reduce((j,N)=>j.then(()=>L(N)),Promise.resolve())}return se}function mw(e,a){const c=[],b=[],S=[],x=Math.max(a.matched.length,e.matched.length);for(let l=0;l<x;l++){const t=a.matched[l];t&&(e.matched.find(i=>$s(i,t))?b.push(t):c.push(t));const n=e.matched[l];n&&(a.matched.find(i=>$s(i,n))||S.push(n))}return[c,b,S]}function Di(){return Zi(El)}function Al(){return Zi(nh)}const yw=e=>(Vt("data-v-2ba579e0"),e=e(),Kt(),e),bw=yw(()=>W("div",{class:"background"},null,-1)),Sw={key:0,class:"title"},Cw={key:0},ww={class:"actions"},xw=["onClick"],Ew={key:1,class:"text"},Aw={__name:"Section",props:{header:{default:""},actions:{default:()=>[]},maxHeight:{default:"auto"},noStyle:{default:!1},noBodyPadding:{default:!1},headerBold:{default:!1},headerCenter:{default:!1}},setup(e){const a=e,c=aC(()=>a.actions.filter(b=>!b.hidden));return(b,S)=>(re(),oe("div",{class:St(["section",{noStyle:e.noStyle,noBodyPadding:e.noBodyPadding,headerBold:e.headerBold,headerCenter:e.headerCenter}])},[bw,e.header||e.actions?(re(),oe("div",Sw,[e.header?(re(),oe("div",Cw,De(e.header),1)):Wr(b.$slots,"header",{key:1},void 0,!0),W("div",ww,[(re(!0),oe(it,null,pt(Er(c),x=>(re(),oe("button",{onClick:l=>{var t;return(t=x==null?void 0:x.click)==null?void 0:t.call(x)},key:x.label,class:St(["action small",{mini:!x.label&&x.icon||x.small,active:x.active}])},[x.icon?(re(),oe("i",{key:0,class:St(x.icon),"aria-hidden":"true"},null,2)):He("",!0),x.label?(re(),oe("span",Ew,De(x.label),1)):He("",!0)],10,xw))),128))])])):He("",!0),W("div",{class:"content",style:Br({maxHeight:e.maxHeight})},[Wr(b.$slots,"default",{},void 0,!0)],4)],2))}},ar=Pt(Aw,[["__scopeId","data-v-2ba579e0"]]),ih=e=>({is:()=>ih(e),default:()=>e}),Ov=e=>({is:(a,c)=>a(e)?ih(c()):Ov(e),default:a=>a()}),Tw=e=>({is:(a,c)=>a(e)?ih(c()):Ov(e)}),fo=e=>()=>e,Lw={class:"json-view-item"},Ow={key:0},Rw=["aria-expanded"],kw={class:"properties"},Dw={key:0},Iw=["role","tabindex"],Mw={class:"value-key"};var yo=(e=>(e[e.OBJECT=0]="OBJECT",e[e.ARRAY=1]="ARRAY",e[e.VALUE=2]="VALUE",e))(yo||{});const Pw=Cl({name:"JsonTreeViewItem",__name:"JsonTreeViewItem",props:{data:{},maxDepth:{default:1},canSelect:{type:Boolean,default:!1}},emits:["selected"],setup(e,{emit:a}){const c=e,b=a,S=eh({open:c.data.depth<c.maxDepth}),x=()=>{S.open=!S.open},l=_=>b("selected",{key:_.key,value:_.value,path:_.path}),t=_=>b("selected",_),n=_=>{const m=Number(_.key);return isNaN(m)?`"${_.key}":`:`${_.key}":`},i=_=>Tw(typeof _).is(m=>m==="string",fo("var(--jtv-string-color)")).is(m=>m==="number",fo("var(--jtv-number-color)")).is(m=>m==="boolean",fo("var(--jtv-boolean-color)")).is(m=>m==="object",fo("var(--jtv-null-color)")).default(fo("var(--jtv-valueKey-color)")),h=At(()=>({"chevron-arrow":!0,opened:S.open})),o=At(()=>({"value-key":!0,"can-select":c.canSelect})),u=At(()=>{const _=c.data.length;return c.data.type===1?_===1?`${_} element`:`${_} elements`:_===1?`${_} property`:`${_} properties`}),g=At(()=>JSON.stringify(c.data.value));return(_,m)=>{const r=br("JsonTreeViewItem",!0);return re(),oe("div",Lw,[_.data.type===0||_.data.type===1?(re(),oe("div",Ow,[W("button",{class:"data-key","aria-expanded":S.open?"true":"false",onClick:_r(x,["stop"])},[W("div",{class:St(h.value)},null,2),Ue(" "+De(_.data.key)+": ",1),W("span",kw,De(u.value),1)],8,Rw),S.open?(re(),oe("div",Dw,[(re(!0),oe(it,null,pt(_.data.children,f=>(re(),jt(r,{key:n(f),data:f,maxDepth:_.maxDepth,canSelect:_.canSelect,onSelected:t},null,8,["data","maxDepth","canSelect"]))),128))])):He("",!0)])):He("",!0),_.data.type===2?(re(),oe("div",{key:1,class:St(o.value),role:_.canSelect?"button":void 0,tabindex:_.canSelect?"0":void 0,onClick:m[0]||(m[0]=f=>l(_.data)),onKeyup:[m[1]||(m[1]=gn(f=>l(_.data),["enter"])),m[2]||(m[2]=gn(f=>l(_.data),["space"]))]},[W("span",Mw,De(_.data.key)+":",1),W("span",{style:Br({color:i(_.data.value)})},De(g.value),5)],42,Iw)):He("",!0)])}}}),Bw=Cl({name:"JsonTreeView",__name:"JsonTreeView",props:{json:{},rootKey:{default:"/"},maxDepth:{default:1},colorScheme:{default:"light"}},emits:["selected"],setup(e,{emit:a}){const c=e,b=a,S=t=>b("selected",t),x=(t,n,i,h,o)=>{if(n instanceof Object){if(n instanceof Array){const g=n.map((_,m)=>x(m.toString(),_,i+1,o?`${h}${t}[${m}].`:`${h}`,!1));return{key:t,type:yo.ARRAY,depth:i,path:h,length:g.length,children:g}}const u=Object.entries(n).map(([g,_])=>x(g,_,i+1,o?`${h}${t}.`:`${h}`,!0));return{key:t,type:yo.OBJECT,depth:i,path:h,length:u.length,children:u}}else return{key:t,type:yo.VALUE,path:o?`${h}${t}`:h.slice(0,-1),depth:i,value:n}},l=At(()=>{const t=JSON.parse(c.json);return t instanceof Object?x(c.rootKey,{...t},0,"",!0):{key:c.rootKey,type:yo.VALUE,path:"",depth:0,value:c.json}});return(t,n)=>(re(),jt(Pw,{class:St([{"root-item":!0,dark:t.colorScheme==="dark"}]),data:l.value,maxDepth:t.maxDepth,onSelected:S},null,8,["class","data","maxDepth"]))}}),$w=(e,a)=>{const c=e.__vccOpts||e;for(const[b,S]of a)c[b]=S;return c},pu=$w(Bw,[["__scopeId","data-v-1cbd6770"]]);function Ua(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Rv={exports:{}};/*! jsonpath 1.1.1 */(function(e,a){(function(c){e.exports=c()})(function(){return function c(b,S,x){function l(i,h){if(!S[i]){if(!b[i]){var o=typeof Ua=="function"&&Ua;if(!h&&o)return o(i,!0);if(t)return t(i,!0);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var g=S[i]={exports:{}};b[i][0].call(g.exports,function(_){var m=b[i][1][_];return l(m||_)},g,g.exports,c,b,S,x)}return S[i].exports}for(var t=typeof Ua=="function"&&Ua,n=0;n<x.length;n++)l(x[n]);return l}({"./aesprim":[function(c,b,S){(function(x,l){l(typeof S<"u"?S:x.esprima={})})(this,function(x){var l,t,n,i,h,o,u,g,_,m,r,f,p,v,d,C,w,A;l={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9},t={},t[l.BooleanLiteral]="Boolean",t[l.EOF]="<end>",t[l.Identifier]="Identifier",t[l.Keyword]="Keyword",t[l.NullLiteral]="Null",t[l.NumericLiteral]="Numeric",t[l.Punctuator]="Punctuator",t[l.StringLiteral]="String",t[l.RegularExpression]="RegularExpression",n=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="],i={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"},h={Data:1,Get:2,Set:4},o={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},u={NonAsciiIdentifierStart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),NonAsciiIdentifierPart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮ̀-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҃-҇Ҋ-ԧԱ-Ֆՙա-և֑-ׇֽֿׁׂׅׄא-תװ-ײؐ-ؚؠ-٩ٮ-ۓە-ۜ۟-۪ۨ-ۼۿܐ-݊ݍ-ޱ߀-ߵߺࠀ-࠭ࡀ-࡛ࢠࢢ-ࢬࣤ-ࣾऀ-ॣ०-९ॱ-ॷॹ-ॿঁ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-ৱਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૯ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୯ୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௯ఁ-ఃఅ-ఌఎ-ఐఒ-నప-ళవ-హఽ-ౄె-ైొ-్ౕౖౘౙౠ-ౣ౦-౯ಂಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲംഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൎൗൠ-ൣ൦-൯ൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟෲෳก-ฺเ-๎๐-๙ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟༀ༘༙༠-༩༹༵༷༾-ཇཉ-ཬཱ-྄྆-ྗྙ-ྼ࿆က-၉ၐ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፟ᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-᜔ᜠ-᜴ᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-៓ៗៜ៝០-៩᠋-᠍᠐-᠙ᠠ-ᡷᢀ-ᢪᢰ-ᣵᤀ-ᤜᤠ-ᤫᤰ-᤻᥆-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉ᧐-᧙ᨀ-ᨛᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙ᪧᬀ-ᭋ᭐-᭙᭫-᭳ᮀ-᯳ᰀ-᰷᱀-᱉ᱍ-ᱽ᳐-᳔᳒-ᳶᴀ-ᷦ᷼-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‌‍‿⁀⁔ⁱⁿₐ-ₜ⃐-⃥⃜⃡-⃰ℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵿-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〯〱-〵〸-〼ぁ-ゖ゙゚ゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘫꙀ-꙯ꙴ-꙽ꙿ-ꚗꚟ-꛱ꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠧꡀ-ꡳꢀ-꣄꣐-꣙꣠-ꣷꣻ꤀-꤭ꤰ-꥓ꥠ-ꥼꦀ-꧀ꧏ-꧙ꨀ-ꨶꩀ-ꩍ꩐-꩙ꩠ-ꩶꩺꩻꪀ-ꫂꫛ-ꫝꫠ-ꫯꫲ-꫶ꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯪ꯬꯭꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻ︀-️︠-︦︳︴﹍-﹏ﹰ-ﹴﹶ-ﻼ０-９Ａ-Ｚ＿ａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]")};function E(O,G){if(!O)throw new Error("ASSERT: "+G)}function L(O){return O>=48&&O<=57}function D(O){return"0123456789abcdefABCDEF".indexOf(O)>=0}function R(O){return"01234567".indexOf(O)>=0}function I(O){return O===32||O===9||O===11||O===12||O===160||O>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(O)>=0}function P(O){return O===10||O===13||O===8232||O===8233}function $(O){return O==64||O===36||O===95||O>=65&&O<=90||O>=97&&O<=122||O===92||O>=128&&u.NonAsciiIdentifierStart.test(String.fromCharCode(O))}function F(O){return O===36||O===95||O>=65&&O<=90||O>=97&&O<=122||O>=48&&O<=57||O===92||O>=128&&u.NonAsciiIdentifierPart.test(String.fromCharCode(O))}function U(O){switch(O){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}function Y(O){switch(O){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function k(O){return O==="eval"||O==="arguments"}function H(O){if(m&&Y(O))return!0;switch(O.length){case 2:return O==="if"||O==="in"||O==="do";case 3:return O==="var"||O==="for"||O==="new"||O==="try"||O==="let";case 4:return O==="this"||O==="else"||O==="case"||O==="void"||O==="with"||O==="enum";case 5:return O==="while"||O==="break"||O==="catch"||O==="throw"||O==="const"||O==="yield"||O==="class"||O==="super";case 6:return O==="return"||O==="typeof"||O==="delete"||O==="switch"||O==="export"||O==="import";case 7:return O==="default"||O==="finally"||O==="extends";case 8:return O==="function"||O==="continue"||O==="debugger";case 10:return O==="instanceof";default:return!1}}function z(O,G,ie,ge,ke){var ze;E(typeof ie=="number","Comment must have valid position"),!(w.lastCommentStart>=ie)&&(w.lastCommentStart=ie,ze={type:O,value:G},A.range&&(ze.range=[ie,ge]),A.loc&&(ze.loc=ke),A.comments.push(ze),A.attachComment&&(A.leadingComments.push(ze),A.trailingComments.push(ze)))}function X(O){var G,ie,ge,ke;for(G=r-O,ie={start:{line:f,column:r-p-O}};r<v;)if(ge=_.charCodeAt(r),++r,P(ge)){A.comments&&(ke=_.slice(G+O,r-1),ie.end={line:f,column:r-p-1},z("Line",ke,G,r-1,ie)),ge===13&&_.charCodeAt(r)===10&&++r,++f,p=r;return}A.comments&&(ke=_.slice(G+O,r),ie.end={line:f,column:r-p},z("Line",ke,G,r,ie))}function te(){var O,G,ie,ge;for(A.comments&&(O=r-2,G={start:{line:f,column:r-p-2}});r<v;)if(ie=_.charCodeAt(r),P(ie))ie===13&&_.charCodeAt(r+1)===10&&++r,++f,++r,p=r,r>=v&&Ye({},o.UnexpectedToken,"ILLEGAL");else if(ie===42){if(_.charCodeAt(r+1)===47){++r,++r,A.comments&&(ge=_.slice(O+2,r-2),G.end={line:f,column:r-p},z("Block",ge,O,r,G));return}++r}else++r;Ye({},o.UnexpectedToken,"ILLEGAL")}function J(){var O,G;for(G=r===0;r<v;)if(O=_.charCodeAt(r),I(O))++r;else if(P(O))++r,O===13&&_.charCodeAt(r)===10&&++r,++f,p=r,G=!0;else if(O===47)if(O=_.charCodeAt(r+1),O===47)++r,++r,X(2),G=!0;else if(O===42)++r,++r,te();else break;else if(G&&O===45)if(_.charCodeAt(r+1)===45&&_.charCodeAt(r+2)===62)r+=3,X(3);else break;else if(O===60)if(_.slice(r+1,r+4)==="!--")++r,++r,++r,++r,X(4);else break;else break}function V(O){var G,ie,ge,ke=0;for(ie=O==="u"?4:2,G=0;G<ie;++G)if(r<v&&D(_[r]))ge=_[r++],ke=ke*16+"0123456789abcdef".indexOf(ge.toLowerCase());else return"";return String.fromCharCode(ke)}function se(){var O,G;for(O=_.charCodeAt(r++),G=String.fromCharCode(O),O===92&&(_.charCodeAt(r)!==117&&Ye({},o.UnexpectedToken,"ILLEGAL"),++r,O=V("u"),(!O||O==="\\"||!$(O.charCodeAt(0)))&&Ye({},o.UnexpectedToken,"ILLEGAL"),G=O);r<v&&(O=_.charCodeAt(r),!!F(O));)++r,G+=String.fromCharCode(O),O===92&&(G=G.substr(0,G.length-1),_.charCodeAt(r)!==117&&Ye({},o.UnexpectedToken,"ILLEGAL"),++r,O=V("u"),(!O||O==="\\"||!F(O.charCodeAt(0)))&&Ye({},o.UnexpectedToken,"ILLEGAL"),G+=O);return G}function be(){var O,G;for(O=r++;r<v;){if(G=_.charCodeAt(r),G===92)return r=O,se();if(F(G))++r;else break}return _.slice(O,r)}function B(){var O,G,ie;return O=r,G=_.charCodeAt(r)===92?se():be(),G.length===1?ie=l.Identifier:H(G)?ie=l.Keyword:G==="null"?ie=l.NullLiteral:G==="true"||G==="false"?ie=l.BooleanLiteral:ie=l.Identifier,{type:ie,value:G,lineNumber:f,lineStart:p,start:O,end:r}}function j(){var O=r,G=_.charCodeAt(r),ie,ge=_[r],ke,ze,yt;switch(G){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++r,A.tokenize&&(G===40?A.openParenToken=A.tokens.length:G===123&&(A.openCurlyToken=A.tokens.length)),{type:l.Punctuator,value:String.fromCharCode(G),lineNumber:f,lineStart:p,start:O,end:r};default:if(ie=_.charCodeAt(r+1),ie===61)switch(G){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return r+=2,{type:l.Punctuator,value:String.fromCharCode(G)+String.fromCharCode(ie),lineNumber:f,lineStart:p,start:O,end:r};case 33:case 61:return r+=2,_.charCodeAt(r)===61&&++r,{type:l.Punctuator,value:_.slice(O,r),lineNumber:f,lineStart:p,start:O,end:r}}}if(yt=_.substr(r,4),yt===">>>=")return r+=4,{type:l.Punctuator,value:yt,lineNumber:f,lineStart:p,start:O,end:r};if(ze=yt.substr(0,3),ze===">>>"||ze==="<<="||ze===">>=")return r+=3,{type:l.Punctuator,value:ze,lineNumber:f,lineStart:p,start:O,end:r};if(ke=ze.substr(0,2),ge===ke[1]&&"+-<>&|".indexOf(ge)>=0||ke==="=>")return r+=2,{type:l.Punctuator,value:ke,lineNumber:f,lineStart:p,start:O,end:r};if("<>=!+-*%&|^/".indexOf(ge)>=0)return++r,{type:l.Punctuator,value:ge,lineNumber:f,lineStart:p,start:O,end:r};Ye({},o.UnexpectedToken,"ILLEGAL")}function N(O){for(var G="";r<v&&D(_[r]);)G+=_[r++];return G.length===0&&Ye({},o.UnexpectedToken,"ILLEGAL"),$(_.charCodeAt(r))&&Ye({},o.UnexpectedToken,"ILLEGAL"),{type:l.NumericLiteral,value:parseInt("0x"+G,16),lineNumber:f,lineStart:p,start:O,end:r}}function Q(O){for(var G="0"+_[r++];r<v&&R(_[r]);)G+=_[r++];return($(_.charCodeAt(r))||L(_.charCodeAt(r)))&&Ye({},o.UnexpectedToken,"ILLEGAL"),{type:l.NumericLiteral,value:parseInt(G,8),octal:!0,lineNumber:f,lineStart:p,start:O,end:r}}function ce(){var O,G,ie;if(ie=_[r],E(L(ie.charCodeAt(0))||ie===".","Numeric literal must start with a decimal digit or a decimal point"),G=r,O="",ie!=="."){if(O=_[r++],ie=_[r],O==="0"){if(ie==="x"||ie==="X")return++r,N(G);if(R(ie))return Q(G);ie&&L(ie.charCodeAt(0))&&Ye({},o.UnexpectedToken,"ILLEGAL")}for(;L(_.charCodeAt(r));)O+=_[r++];ie=_[r]}if(ie==="."){for(O+=_[r++];L(_.charCodeAt(r));)O+=_[r++];ie=_[r]}if(ie==="e"||ie==="E")if(O+=_[r++],ie=_[r],(ie==="+"||ie==="-")&&(O+=_[r++]),L(_.charCodeAt(r)))for(;L(_.charCodeAt(r));)O+=_[r++];else Ye({},o.UnexpectedToken,"ILLEGAL");return $(_.charCodeAt(r))&&Ye({},o.UnexpectedToken,"ILLEGAL"),{type:l.NumericLiteral,value:parseFloat(O),lineNumber:f,lineStart:p,start:G,end:r}}function ue(){var O="",G,ie,ge,ke,ze,yt,It=!1,pr,lr;for(pr=f,lr=p,G=_[r],E(G==="'"||G==='"',"String literal must starts with a quote"),ie=r,++r;r<v;)if(ge=_[r++],ge===G){G="";break}else if(ge==="\\")if(ge=_[r++],!ge||!P(ge.charCodeAt(0)))switch(ge){case"u":case"x":yt=r,ze=V(ge),ze?O+=ze:(r=yt,O+=ge);break;case"n":O+=`
`;break;case"r":O+="\r";break;case"t":O+="	";break;case"b":O+="\b";break;case"f":O+="\f";break;case"v":O+="\v";break;default:R(ge)?(ke="01234567".indexOf(ge),ke!==0&&(It=!0),r<v&&R(_[r])&&(It=!0,ke=ke*8+"01234567".indexOf(_[r++]),"0123".indexOf(ge)>=0&&r<v&&R(_[r])&&(ke=ke*8+"01234567".indexOf(_[r++]))),O+=String.fromCharCode(ke)):O+=ge;break}else++f,ge==="\r"&&_[r]===`
`&&++r,p=r;else{if(P(ge.charCodeAt(0)))break;O+=ge}return G!==""&&Ye({},o.UnexpectedToken,"ILLEGAL"),{type:l.StringLiteral,value:O,octal:It,startLineNumber:pr,startLineStart:lr,lineNumber:f,lineStart:p,start:ie,end:r}}function pe(O,G){var ie;try{ie=new RegExp(O,G)}catch{Ye({},o.InvalidRegExp)}return ie}function Te(){var O,G,ie,ge,ke;for(O=_[r],E(O==="/","Regular expression literal must start with a slash"),G=_[r++],ie=!1,ge=!1;r<v;)if(O=_[r++],G+=O,O==="\\")O=_[r++],P(O.charCodeAt(0))&&Ye({},o.UnterminatedRegExp),G+=O;else if(P(O.charCodeAt(0)))Ye({},o.UnterminatedRegExp);else if(ie)O==="]"&&(ie=!1);else if(O==="/"){ge=!0;break}else O==="["&&(ie=!0);return ge||Ye({},o.UnterminatedRegExp),ke=G.substr(1,G.length-2),{value:ke,literal:G}}function ve(){var O,G,ie,ge;for(G="",ie="";r<v&&(O=_[r],!!F(O.charCodeAt(0)));)if(++r,O==="\\"&&r<v)if(O=_[r],O==="u"){if(++r,ge=r,O=V("u"),O)for(ie+=O,G+="\\u";ge<r;++ge)G+=_[ge];else r=ge,ie+="u",G+="\\u";Xe({},o.UnexpectedToken,"ILLEGAL")}else G+="\\",Xe({},o.UnexpectedToken,"ILLEGAL");else ie+=O,G+=O;return{value:ie,literal:G}}function Ce(){var O,G,ie,ge;return C=null,J(),O=r,G=Te(),ie=ve(),ge=pe(G.value,ie.value),A.tokenize?{type:l.RegularExpression,value:ge,lineNumber:f,lineStart:p,start:O,end:r}:{literal:G.literal+ie.literal,value:ge,start:O,end:r}}function xe(){var O,G,ie,ge;return J(),O=r,G={start:{line:f,column:r-p}},ie=Ce(),G.end={line:f,column:r-p},A.tokenize||(A.tokens.length>0&&(ge=A.tokens[A.tokens.length-1],ge.range[0]===O&&ge.type==="Punctuator"&&(ge.value==="/"||ge.value==="/=")&&A.tokens.pop()),A.tokens.push({type:"RegularExpression",value:ie.literal,range:[O,r],loc:G})),ie}function qe(O){return O.type===l.Identifier||O.type===l.Keyword||O.type===l.BooleanLiteral||O.type===l.NullLiteral}function lt(){var O,G;if(O=A.tokens[A.tokens.length-1],!O)return xe();if(O.type==="Punctuator"){if(O.value==="]")return j();if(O.value===")")return G=A.tokens[A.openParenToken-1],G&&G.type==="Keyword"&&(G.value==="if"||G.value==="while"||G.value==="for"||G.value==="with")?xe():j();if(O.value==="}"){if(A.tokens[A.openCurlyToken-3]&&A.tokens[A.openCurlyToken-3].type==="Keyword"){if(G=A.tokens[A.openCurlyToken-4],!G)return j()}else if(A.tokens[A.openCurlyToken-4]&&A.tokens[A.openCurlyToken-4].type==="Keyword"){if(G=A.tokens[A.openCurlyToken-5],!G)return xe()}else return j();return n.indexOf(G.value)>=0?j():xe()}return xe()}return O.type==="Keyword"?xe():j()}function Ve(){var O;return J(),r>=v?{type:l.EOF,lineNumber:f,lineStart:p,start:r,end:r}:(O=_.charCodeAt(r),$(O)?B():O===40||O===41||O===59?j():O===39||O===34?ue():O===46?L(_.charCodeAt(r+1))?ce():j():L(O)?ce():A.tokenize&&O===47?lt():j())}function tt(){var O,G,ie;return J(),O={start:{line:f,column:r-p}},G=Ve(),O.end={line:f,column:r-p},G.type!==l.EOF&&(ie=_.slice(G.start,G.end),A.tokens.push({type:t[G.type],value:ie,range:[G.start,G.end],loc:O})),G}function Be(){var O;return O=C,r=O.end,f=O.lineNumber,p=O.lineStart,C=typeof A.tokens<"u"?tt():Ve(),r=O.end,f=O.lineNumber,p=O.lineStart,O}function Qe(){var O,G,ie;O=r,G=f,ie=p,C=typeof A.tokens<"u"?tt():Ve(),r=O,f=G,p=ie}function Fe(O,G){this.line=O,this.column=G}function Ge(O,G,ie,ge){this.start=new Fe(O,G),this.end=new Fe(ie,ge)}g={name:"SyntaxTree",processComment:function(O){var G,ie;if(!(O.type===i.Program&&O.body.length>0)){for(A.trailingComments.length>0?A.trailingComments[0].range[0]>=O.range[1]?(ie=A.trailingComments,A.trailingComments=[]):A.trailingComments.length=0:A.bottomRightStack.length>0&&A.bottomRightStack[A.bottomRightStack.length-1].trailingComments&&A.bottomRightStack[A.bottomRightStack.length-1].trailingComments[0].range[0]>=O.range[1]&&(ie=A.bottomRightStack[A.bottomRightStack.length-1].trailingComments,delete A.bottomRightStack[A.bottomRightStack.length-1].trailingComments);A.bottomRightStack.length>0&&A.bottomRightStack[A.bottomRightStack.length-1].range[0]>=O.range[0];)G=A.bottomRightStack.pop();G?G.leadingComments&&G.leadingComments[G.leadingComments.length-1].range[1]<=O.range[0]&&(O.leadingComments=G.leadingComments,delete G.leadingComments):A.leadingComments.length>0&&A.leadingComments[A.leadingComments.length-1].range[1]<=O.range[0]&&(O.leadingComments=A.leadingComments,A.leadingComments=[]),ie&&(O.trailingComments=ie),A.bottomRightStack.push(O)}},markEnd:function(O,G){return A.range&&(O.range=[G.start,r]),A.loc&&(O.loc=new Ge(G.startLineNumber===void 0?G.lineNumber:G.startLineNumber,G.start-(G.startLineStart===void 0?G.lineStart:G.startLineStart),f,r-p),this.postProcess(O)),A.attachComment&&this.processComment(O),O},postProcess:function(O){return A.source&&(O.loc.source=A.source),O},createArrayExpression:function(O){return{type:i.ArrayExpression,elements:O}},createAssignmentExpression:function(O,G,ie){return{type:i.AssignmentExpression,operator:O,left:G,right:ie}},createBinaryExpression:function(O,G,ie){var ge=O==="||"||O==="&&"?i.LogicalExpression:i.BinaryExpression;return{type:ge,operator:O,left:G,right:ie}},createBlockStatement:function(O){return{type:i.BlockStatement,body:O}},createBreakStatement:function(O){return{type:i.BreakStatement,label:O}},createCallExpression:function(O,G){return{type:i.CallExpression,callee:O,arguments:G}},createCatchClause:function(O,G){return{type:i.CatchClause,param:O,body:G}},createConditionalExpression:function(O,G,ie){return{type:i.ConditionalExpression,test:O,consequent:G,alternate:ie}},createContinueStatement:function(O){return{type:i.ContinueStatement,label:O}},createDebuggerStatement:function(){return{type:i.DebuggerStatement}},createDoWhileStatement:function(O,G){return{type:i.DoWhileStatement,body:O,test:G}},createEmptyStatement:function(){return{type:i.EmptyStatement}},createExpressionStatement:function(O){return{type:i.ExpressionStatement,expression:O}},createForStatement:function(O,G,ie,ge){return{type:i.ForStatement,init:O,test:G,update:ie,body:ge}},createForInStatement:function(O,G,ie){return{type:i.ForInStatement,left:O,right:G,body:ie,each:!1}},createFunctionDeclaration:function(O,G,ie,ge){return{type:i.FunctionDeclaration,id:O,params:G,defaults:ie,body:ge,rest:null,generator:!1,expression:!1}},createFunctionExpression:function(O,G,ie,ge){return{type:i.FunctionExpression,id:O,params:G,defaults:ie,body:ge,rest:null,generator:!1,expression:!1}},createIdentifier:function(O){return{type:i.Identifier,name:O}},createIfStatement:function(O,G,ie){return{type:i.IfStatement,test:O,consequent:G,alternate:ie}},createLabeledStatement:function(O,G){return{type:i.LabeledStatement,label:O,body:G}},createLiteral:function(O){return{type:i.Literal,value:O.value,raw:_.slice(O.start,O.end)}},createMemberExpression:function(O,G,ie){return{type:i.MemberExpression,computed:O==="[",object:G,property:ie}},createNewExpression:function(O,G){return{type:i.NewExpression,callee:O,arguments:G}},createObjectExpression:function(O){return{type:i.ObjectExpression,properties:O}},createPostfixExpression:function(O,G){return{type:i.UpdateExpression,operator:O,argument:G,prefix:!1}},createProgram:function(O){return{type:i.Program,body:O}},createProperty:function(O,G,ie){return{type:i.Property,key:G,value:ie,kind:O}},createReturnStatement:function(O){return{type:i.ReturnStatement,argument:O}},createSequenceExpression:function(O){return{type:i.SequenceExpression,expressions:O}},createSwitchCase:function(O,G){return{type:i.SwitchCase,test:O,consequent:G}},createSwitchStatement:function(O,G){return{type:i.SwitchStatement,discriminant:O,cases:G}},createThisExpression:function(){return{type:i.ThisExpression}},createThrowStatement:function(O){return{type:i.ThrowStatement,argument:O}},createTryStatement:function(O,G,ie,ge){return{type:i.TryStatement,block:O,guardedHandlers:G,handlers:ie,finalizer:ge}},createUnaryExpression:function(O,G){return O==="++"||O==="--"?{type:i.UpdateExpression,operator:O,argument:G,prefix:!0}:{type:i.UnaryExpression,operator:O,argument:G,prefix:!0}},createVariableDeclaration:function(O,G){return{type:i.VariableDeclaration,declarations:O,kind:G}},createVariableDeclarator:function(O,G){return{type:i.VariableDeclarator,id:O,init:G}},createWhileStatement:function(O,G){return{type:i.WhileStatement,test:O,body:G}},createWithStatement:function(O,G){return{type:i.WithStatement,object:O,body:G}}};function ot(){var O,G,ie,ge;return O=r,G=f,ie=p,J(),ge=f!==G,r=O,f=G,p=ie,ge}function Ye(O,G){var ie,ge=Array.prototype.slice.call(arguments,2),ke=G.replace(/%(\d)/g,function(ze,yt){return E(yt<ge.length,"Message reference must be in range"),ge[yt]});throw typeof O.lineNumber=="number"?(ie=new Error("Line "+O.lineNumber+": "+ke),ie.index=O.start,ie.lineNumber=O.lineNumber,ie.column=O.start-p+1):(ie=new Error("Line "+f+": "+ke),ie.index=r,ie.lineNumber=f,ie.column=r-p+1),ie.description=ke,ie}function Xe(){try{Ye.apply(null,arguments)}catch(O){if(A.errors)A.errors.push(O);else throw O}}function _e(O){if(O.type===l.EOF&&Ye(O,o.UnexpectedEOS),O.type===l.NumericLiteral&&Ye(O,o.UnexpectedNumber),O.type===l.StringLiteral&&Ye(O,o.UnexpectedString),O.type===l.Identifier&&Ye(O,o.UnexpectedIdentifier),O.type===l.Keyword){if(U(O.value))Ye(O,o.UnexpectedReserved);else if(m&&Y(O.value)){Xe(O,o.StrictReservedWord);return}Ye(O,o.UnexpectedToken,O.value)}Ye(O,o.UnexpectedToken,O.value)}function le(O){var G=Be();(G.type!==l.Punctuator||G.value!==O)&&_e(G)}function me(O){var G=Be();(G.type!==l.Keyword||G.value!==O)&&_e(G)}function fe(O){return C.type===l.Punctuator&&C.value===O}function Re(O){return C.type===l.Keyword&&C.value===O}function q(){var O;return C.type!==l.Punctuator?!1:(O=C.value,O==="="||O==="*="||O==="/="||O==="%="||O==="+="||O==="-="||O==="<<="||O===">>="||O===">>>="||O==="&="||O==="^="||O==="|=")}function ne(){var O;if(_.charCodeAt(r)===59||fe(";")){Be();return}O=f,J(),f===O&&C.type!==l.EOF&&!fe("}")&&_e(C)}function de(O){return O.type===i.Identifier||O.type===i.MemberExpression}function we(){var O=[],G;for(G=C,le("[");!fe("]");)fe(",")?(Be(),O.push(null)):(O.push(Vr()),fe("]")||le(","));return Be(),d.markEnd(d.createArrayExpression(O),G)}function Ee(O,G){var ie,ge,ke;return ie=m,ke=C,ge=fs(),G&&m&&k(O[0].name)&&Xe(G,o.StrictParamName),m=ie,d.markEnd(d.createFunctionExpression(null,O,[],ge),ke)}function Ie(){var O,G;return G=C,O=Be(),O.type===l.StringLiteral||O.type===l.NumericLiteral?(m&&O.octal&&Xe(O,o.StrictOctalLiteral),d.markEnd(d.createLiteral(O),G)):d.markEnd(d.createIdentifier(O.value),G)}function je(){var O,G,ie,ge,ke,ze;if(O=C,ze=C,O.type===l.Identifier)return ie=Ie(),O.value==="get"&&!fe(":")?(G=Ie(),le("("),le(")"),ge=Ee([]),d.markEnd(d.createProperty("get",G,ge),ze)):O.value==="set"&&!fe(":")?(G=Ie(),le("("),O=C,O.type!==l.Identifier?(le(")"),Xe(O,o.UnexpectedToken,O.value),ge=Ee([])):(ke=[Mn()],le(")"),ge=Ee(ke,O)),d.markEnd(d.createProperty("set",G,ge),ze)):(le(":"),ge=Vr(),d.markEnd(d.createProperty("init",ie,ge),ze));if(O.type===l.EOF||O.type===l.Punctuator)_e(O);else return G=Ie(),le(":"),ge=Vr(),d.markEnd(d.createProperty("init",G,ge),ze)}function Ne(){var O=[],G,ie,ge,ke,ze={},yt=String,It;for(It=C,le("{");!fe("}");)G=je(),G.key.type===i.Identifier?ie=G.key.name:ie=yt(G.key.value),ke=G.kind==="init"?h.Data:G.kind==="get"?h.Get:h.Set,ge="$"+ie,Object.prototype.hasOwnProperty.call(ze,ge)?(ze[ge]===h.Data?m&&ke===h.Data?Xe({},o.StrictDuplicateProperty):ke!==h.Data&&Xe({},o.AccessorDataProperty):ke===h.Data?Xe({},o.AccessorDataProperty):ze[ge]&ke&&Xe({},o.AccessorGetSet),ze[ge]|=ke):ze[ge]=ke,O.push(G),fe("}")||le(",");return le("}"),d.markEnd(d.createObjectExpression(O),It)}function et(){var O;return le("("),O=fr(),le(")"),O}function dt(){var O,G,ie,ge;if(fe("("))return et();if(fe("["))return we();if(fe("{"))return Ne();if(O=C.type,ge=C,O===l.Identifier)ie=d.createIdentifier(Be().value);else if(O===l.StringLiteral||O===l.NumericLiteral)m&&C.octal&&Xe(C,o.StrictOctalLiteral),ie=d.createLiteral(Be());else if(O===l.Keyword){if(Re("function"))return nc();Re("this")?(Be(),ie=d.createThisExpression()):_e(Be())}else O===l.BooleanLiteral?(G=Be(),G.value=G.value==="true",ie=d.createLiteral(G)):O===l.NullLiteral?(G=Be(),G.value=null,ie=d.createLiteral(G)):fe("/")||fe("/=")?(typeof A.tokens<"u"?ie=d.createLiteral(xe()):ie=d.createLiteral(Ce()),Qe()):_e(Be());return d.markEnd(ie,ge)}function tr(){var O=[];if(le("("),!fe(")"))for(;r<v&&(O.push(Vr()),!fe(")"));)le(",");return le(")"),O}function hr(){var O,G;return G=C,O=Be(),qe(O)||_e(O),d.markEnd(d.createIdentifier(O.value),G)}function mr(){return le("."),hr()}function Yn(){var O;return le("["),O=fr(),le("]"),O}function di(){var O,G,ie;return ie=C,me("new"),O=Fl(),G=fe("(")?tr():[],d.markEnd(d.createNewExpression(O,G),ie)}function pi(){var O,G,ie,ge,ke;for(ke=C,O=w.allowIn,w.allowIn=!0,G=Re("new")?di():dt(),w.allowIn=O;;){if(fe("."))ge=mr(),G=d.createMemberExpression(".",G,ge);else if(fe("("))ie=tr(),G=d.createCallExpression(G,ie);else if(fe("["))ge=Yn(),G=d.createMemberExpression("[",G,ge);else break;d.markEnd(G,ke)}return G}function Fl(){var O,G,ie,ge;for(ge=C,O=w.allowIn,G=Re("new")?di():dt(),w.allowIn=O;fe(".")||fe("[");)fe("[")?(ie=Yn(),G=d.createMemberExpression("[",G,ie)):(ie=mr(),G=d.createMemberExpression(".",G,ie)),d.markEnd(G,ge);return G}function os(){var O,G,ie=C;return O=pi(),C.type===l.Punctuator&&(fe("++")||fe("--"))&&!ot()&&(m&&O.type===i.Identifier&&k(O.name)&&Xe({},o.StrictLHSPostfix),de(O)||Xe({},o.InvalidLHSInAssignment),G=Be(),O=d.markEnd(d.createPostfixExpression(G.value,O),ie)),O}function vi(){var O,G,ie;return C.type!==l.Punctuator&&C.type!==l.Keyword?G=os():fe("++")||fe("--")?(ie=C,O=Be(),G=vi(),m&&G.type===i.Identifier&&k(G.name)&&Xe({},o.StrictLHSPrefix),de(G)||Xe({},o.InvalidLHSInAssignment),G=d.createUnaryExpression(O.value,G),G=d.markEnd(G,ie)):fe("+")||fe("-")||fe("~")||fe("!")?(ie=C,O=Be(),G=vi(),G=d.createUnaryExpression(O.value,G),G=d.markEnd(G,ie)):Re("delete")||Re("void")||Re("typeof")?(ie=C,O=Be(),G=vi(),G=d.createUnaryExpression(O.value,G),G=d.markEnd(G,ie),m&&G.operator==="delete"&&G.argument.type===i.Identifier&&Xe({},o.StrictDelete)):G=os(),G}function as(O,G){var ie=0;if(O.type!==l.Punctuator&&O.type!==l.Keyword)return 0;switch(O.value){case"||":ie=1;break;case"&&":ie=2;break;case"|":ie=3;break;case"^":ie=4;break;case"&":ie=5;break;case"==":case"!=":case"===":case"!==":ie=6;break;case"<":case">":case"<=":case">=":case"instanceof":ie=7;break;case"in":ie=G?7:0;break;case"<<":case">>":case">>>":ie=8;break;case"+":case"-":ie=9;break;case"*":case"/":case"%":ie=11;break}return ie}function jl(){var O,G,ie,ge,ke,ze,yt,It,pr,lr;if(O=C,pr=vi(),ge=C,ke=as(ge,w.allowIn),ke===0)return pr;for(ge.prec=ke,Be(),G=[O,C],yt=vi(),ze=[pr,ge,yt];(ke=as(C,w.allowIn))>0;){for(;ze.length>2&&ke<=ze[ze.length-2].prec;)yt=ze.pop(),It=ze.pop().value,pr=ze.pop(),ie=d.createBinaryExpression(It,pr,yt),G.pop(),O=G[G.length-1],d.markEnd(ie,O),ze.push(ie);ge=Be(),ge.prec=ke,ze.push(ge),G.push(C),ie=vi(),ze.push(ie)}for(lr=ze.length-1,ie=ze[lr],G.pop();lr>1;)ie=d.createBinaryExpression(ze[lr-1].value,ze[lr-2],ie),lr-=2,O=G.pop(),d.markEnd(ie,O);return ie}function Nl(){var O,G,ie,ge,ke;return ke=C,O=jl(),fe("?")&&(Be(),G=w.allowIn,w.allowIn=!0,ie=Vr(),w.allowIn=G,le(":"),ge=Vr(),O=d.createConditionalExpression(O,ie,ge),d.markEnd(O,ke)),O}function Vr(){var O,G,ie,ge,ke;return O=C,ke=C,ge=G=Nl(),q()&&(de(G)||Xe({},o.InvalidLHSInAssignment),m&&G.type===i.Identifier&&k(G.name)&&Xe(O,o.StrictLHSAssignment),O=Be(),ie=Vr(),ge=d.markEnd(d.createAssignmentExpression(O.value,G,ie),ke)),ge}function fr(){var O,G=C;if(O=Vr(),fe(",")){for(O=d.createSequenceExpression([O]);r<v&&fe(",");)Be(),O.expressions.push(Vr());d.markEnd(O,G)}return O}function Hl(){for(var O=[],G;r<v&&!(fe("}")||(G=gi(),typeof G>"u"));)O.push(G);return O}function ls(){var O,G;return G=C,le("{"),O=Hl(),le("}"),d.markEnd(d.createBlockStatement(O),G)}function Mn(){var O,G;return G=C,O=Be(),O.type!==l.Identifier&&_e(O),d.markEnd(d.createIdentifier(O.value),G)}function Ul(O){var G=null,ie,ge;return ge=C,ie=Mn(),m&&k(ie.name)&&Xe({},o.StrictVarName),O==="const"?(le("="),G=Vr()):fe("=")&&(Be(),G=Vr()),d.markEnd(d.createVariableDeclarator(ie,G),ge)}function cs(O){var G=[];do{if(G.push(Ul(O)),!fe(","))break;Be()}while(r<v);return G}function Wl(){var O;return me("var"),O=cs(),ne(),d.createVariableDeclaration(O,"var")}function zl(O){var G,ie;return ie=C,me(O),G=cs(O),ne(),d.markEnd(d.createVariableDeclaration(G,O),ie)}function Gl(){return le(";"),d.createEmptyStatement()}function Vl(){var O=fr();return ne(),d.createExpressionStatement(O)}function Kl(){var O,G,ie;return me("if"),le("("),O=fr(),le(")"),G=Kr(),Re("else")?(Be(),ie=Kr()):ie=null,d.createIfStatement(O,G,ie)}function Yl(){var O,G,ie;return me("do"),ie=w.inIteration,w.inIteration=!0,O=Kr(),w.inIteration=ie,me("while"),le("("),G=fr(),le(")"),fe(";")&&Be(),d.createDoWhileStatement(O,G)}function us(){var O,G,ie;return me("while"),le("("),O=fr(),le(")"),ie=w.inIteration,w.inIteration=!0,G=Kr(),w.inIteration=ie,d.createWhileStatement(O,G)}function Xl(){var O,G,ie;return ie=C,O=Be(),G=cs(),d.markEnd(d.createVariableDeclaration(G,O.value),ie)}function hs(){var O,G,ie,ge,ke,ze,yt;return O=G=ie=null,me("for"),le("("),fe(";")?Be():(Re("var")||Re("let")?(w.allowIn=!1,O=Xl(),w.allowIn=!0,O.declarations.length===1&&Re("in")&&(Be(),ge=O,ke=fr(),O=null)):(w.allowIn=!1,O=fr(),w.allowIn=!0,Re("in")&&(de(O)||Xe({},o.InvalidLHSInForIn),Be(),ge=O,ke=fr(),O=null)),typeof ge>"u"&&le(";")),typeof ge>"u"&&(fe(";")||(G=fr()),le(";"),fe(")")||(ie=fr())),le(")"),yt=w.inIteration,w.inIteration=!0,ze=Kr(),w.inIteration=yt,typeof ge>"u"?d.createForStatement(O,G,ie,ze):d.createForInStatement(ge,ke,ze)}function Jl(){var O=null,G;return me("continue"),_.charCodeAt(r)===59?(Be(),w.inIteration||Ye({},o.IllegalContinue),d.createContinueStatement(null)):ot()?(w.inIteration||Ye({},o.IllegalContinue),d.createContinueStatement(null)):(C.type===l.Identifier&&(O=Mn(),G="$"+O.name,Object.prototype.hasOwnProperty.call(w.labelSet,G)||Ye({},o.UnknownLabel,O.name)),ne(),O===null&&!w.inIteration&&Ye({},o.IllegalContinue),d.createContinueStatement(O))}function Ql(){var O=null,G;return me("break"),_.charCodeAt(r)===59?(Be(),w.inIteration||w.inSwitch||Ye({},o.IllegalBreak),d.createBreakStatement(null)):ot()?(w.inIteration||w.inSwitch||Ye({},o.IllegalBreak),d.createBreakStatement(null)):(C.type===l.Identifier&&(O=Mn(),G="$"+O.name,Object.prototype.hasOwnProperty.call(w.labelSet,G)||Ye({},o.UnknownLabel,O.name)),ne(),O===null&&!(w.inIteration||w.inSwitch)&&Ye({},o.IllegalBreak),d.createBreakStatement(O))}function ql(){var O=null;return me("return"),w.inFunctionBody||Xe({},o.IllegalReturn),_.charCodeAt(r)===32&&$(_.charCodeAt(r+1))?(O=fr(),ne(),d.createReturnStatement(O)):ot()?d.createReturnStatement(null):(fe(";")||!fe("}")&&C.type!==l.EOF&&(O=fr()),ne(),d.createReturnStatement(O))}function Xo(){var O,G;return m&&(J(),Xe({},o.StrictModeWith)),me("with"),le("("),O=fr(),le(")"),G=Kr(),d.createWithStatement(O,G)}function Jo(){var O,G=[],ie,ge;for(ge=C,Re("default")?(Be(),O=null):(me("case"),O=fr()),le(":");r<v&&!(fe("}")||Re("default")||Re("case"));)ie=Kr(),G.push(ie);return d.markEnd(d.createSwitchCase(O,G),ge)}function Qo(){var O,G,ie,ge,ke;if(me("switch"),le("("),O=fr(),le(")"),le("{"),G=[],fe("}"))return Be(),d.createSwitchStatement(O,G);for(ge=w.inSwitch,w.inSwitch=!0,ke=!1;r<v&&!fe("}");)ie=Jo(),ie.test===null&&(ke&&Ye({},o.MultipleDefaultsInSwitch),ke=!0),G.push(ie);return w.inSwitch=ge,le("}"),d.createSwitchStatement(O,G)}function Zl(){var O;return me("throw"),ot()&&Ye({},o.NewlineAfterThrow),O=fr(),ne(),d.createThrowStatement(O)}function ec(){var O,G,ie;return ie=C,me("catch"),le("("),fe(")")&&_e(C),O=Mn(),m&&k(O.name)&&Xe({},o.StrictCatchVariable),le(")"),G=ls(),d.markEnd(d.createCatchClause(O,G),ie)}function tc(){var O,G=[],ie=null;return me("try"),O=ls(),Re("catch")&&G.push(ec()),Re("finally")&&(Be(),ie=ls()),G.length===0&&!ie&&Ye({},o.NoCatchOrFinally),d.createTryStatement(O,[],G,ie)}function rc(){return me("debugger"),ne(),d.createDebuggerStatement()}function Kr(){var O=C.type,G,ie,ge,ke;if(O===l.EOF&&_e(C),O===l.Punctuator&&C.value==="{")return ls();if(ke=C,O===l.Punctuator)switch(C.value){case";":return d.markEnd(Gl(),ke);case"(":return d.markEnd(Vl(),ke)}if(O===l.Keyword)switch(C.value){case"break":return d.markEnd(Ql(),ke);case"continue":return d.markEnd(Jl(),ke);case"debugger":return d.markEnd(rc(),ke);case"do":return d.markEnd(Yl(),ke);case"for":return d.markEnd(hs(),ke);case"function":return d.markEnd(ds(),ke);case"if":return d.markEnd(Kl(),ke);case"return":return d.markEnd(ql(),ke);case"switch":return d.markEnd(Qo(),ke);case"throw":return d.markEnd(Zl(),ke);case"try":return d.markEnd(tc(),ke);case"var":return d.markEnd(Wl(),ke);case"while":return d.markEnd(us(),ke);case"with":return d.markEnd(Xo(),ke)}return G=fr(),G.type===i.Identifier&&fe(":")?(Be(),ge="$"+G.name,Object.prototype.hasOwnProperty.call(w.labelSet,ge)&&Ye({},o.Redeclaration,"Label",G.name),w.labelSet[ge]=!0,ie=Kr(),delete w.labelSet[ge],d.markEnd(d.createLabeledStatement(G,ie),ke)):(ne(),d.markEnd(d.createExpressionStatement(G),ke))}function fs(){var O,G=[],ie,ge,ke,ze,yt,It,pr,lr;for(lr=C,le("{");r<v&&!(C.type!==l.StringLiteral||(ie=C,O=gi(),G.push(O),O.expression.type!==i.Literal));)ge=_.slice(ie.start+1,ie.end-1),ge==="use strict"?(m=!0,ke&&Xe(ke,o.StrictOctalLiteral)):!ke&&ie.octal&&(ke=ie);for(ze=w.labelSet,yt=w.inIteration,It=w.inSwitch,pr=w.inFunctionBody,w.labelSet={},w.inIteration=!1,w.inSwitch=!1,w.inFunctionBody=!0;r<v&&!(fe("}")||(O=gi(),typeof O>"u"));)G.push(O);return le("}"),w.labelSet=ze,w.inIteration=yt,w.inSwitch=It,w.inFunctionBody=pr,d.markEnd(d.createBlockStatement(G),lr)}function Xs(O){var G,ie=[],ge,ke,ze,yt,It;if(le("("),!fe(")"))for(ze={};r<v&&(ge=C,G=Mn(),yt="$"+ge.value,m?(k(ge.value)&&(ke=ge,It=o.StrictParamName),Object.prototype.hasOwnProperty.call(ze,yt)&&(ke=ge,It=o.StrictParamDupe)):O||(k(ge.value)?(O=ge,It=o.StrictParamName):Y(ge.value)?(O=ge,It=o.StrictReservedWord):Object.prototype.hasOwnProperty.call(ze,yt)&&(O=ge,It=o.StrictParamDupe)),ie.push(G),ze[yt]=!0,!fe(")"));)le(",");return le(")"),{params:ie,stricted:ke,firstRestricted:O,message:It}}function ds(){var O,G=[],ie,ge,ke,ze,yt,It,pr,lr;return lr=C,me("function"),ge=C,O=Mn(),m?k(ge.value)&&Xe(ge,o.StrictFunctionName):k(ge.value)?(yt=ge,It=o.StrictFunctionName):Y(ge.value)&&(yt=ge,It=o.StrictReservedWord),ze=Xs(yt),G=ze.params,ke=ze.stricted,yt=ze.firstRestricted,ze.message&&(It=ze.message),pr=m,ie=fs(),m&&yt&&Ye(yt,It),m&&ke&&Xe(ke,It),m=pr,d.markEnd(d.createFunctionDeclaration(O,G,[],ie),lr)}function nc(){var O,G=null,ie,ge,ke,ze,yt=[],It,pr,lr;return lr=C,me("function"),fe("(")||(O=C,G=Mn(),m?k(O.value)&&Xe(O,o.StrictFunctionName):k(O.value)?(ge=O,ke=o.StrictFunctionName):Y(O.value)&&(ge=O,ke=o.StrictReservedWord)),ze=Xs(ge),yt=ze.params,ie=ze.stricted,ge=ze.firstRestricted,ze.message&&(ke=ze.message),pr=m,It=fs(),m&&ge&&Ye(ge,ke),m&&ie&&Xe(ie,ke),m=pr,d.markEnd(d.createFunctionExpression(G,yt,[],It),lr)}function gi(){if(C.type===l.Keyword)switch(C.value){case"const":case"let":return zl(C.value);case"function":return ds();default:return Kr()}if(C.type!==l.EOF)return Kr()}function ps(){for(var O,G=[],ie,ge,ke;r<v&&(ie=C,!(ie.type!==l.StringLiteral||(O=gi(),G.push(O),O.expression.type!==i.Literal)));)ge=_.slice(ie.start+1,ie.end-1),ge==="use strict"?(m=!0,ke&&Xe(ke,o.StrictOctalLiteral)):!ke&&ie.octal&&(ke=ie);for(;r<v&&(O=gi(),!(typeof O>"u"));)G.push(O);return G}function qo(){var O,G;return J(),Qe(),G=C,m=!1,O=ps(),d.markEnd(d.createProgram(O),G)}function Zo(){var O,G,ie,ge=[];for(O=0;O<A.tokens.length;++O)G=A.tokens[O],ie={type:G.type,value:G.value},A.range&&(ie.range=G.range),A.loc&&(ie.loc=G.loc),ge.push(ie);A.tokens=ge}function ea(O,G){var ie,ge,ke;ie=String,typeof O!="string"&&!(O instanceof String)&&(O=ie(O)),d=g,_=O,r=0,f=_.length>0?1:0,p=0,v=_.length,C=null,w={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},A={},G=G||{},G.tokens=!0,A.tokens=[],A.tokenize=!0,A.openParenToken=-1,A.openCurlyToken=-1,A.range=typeof G.range=="boolean"&&G.range,A.loc=typeof G.loc=="boolean"&&G.loc,typeof G.comment=="boolean"&&G.comment&&(A.comments=[]),typeof G.tolerant=="boolean"&&G.tolerant&&(A.errors=[]);try{if(Qe(),C.type===l.EOF)return A.tokens;for(ge=Be();C.type!==l.EOF;)try{ge=Be()}catch(ze){if(ge=C,A.errors){A.errors.push(ze);break}else throw ze}Zo(),ke=A.tokens,typeof A.comments<"u"&&(ke.comments=A.comments),typeof A.errors<"u"&&(ke.errors=A.errors)}catch(ze){throw ze}finally{A={}}return ke}function ta(O,G){var ie,ge;ge=String,typeof O!="string"&&!(O instanceof String)&&(O=ge(O)),d=g,_=O,r=0,f=_.length>0?1:0,p=0,v=_.length,C=null,w={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},A={},typeof G<"u"&&(A.range=typeof G.range=="boolean"&&G.range,A.loc=typeof G.loc=="boolean"&&G.loc,A.attachComment=typeof G.attachComment=="boolean"&&G.attachComment,A.loc&&G.source!==null&&G.source!==void 0&&(A.source=ge(G.source)),typeof G.tokens=="boolean"&&G.tokens&&(A.tokens=[]),typeof G.comment=="boolean"&&G.comment&&(A.comments=[]),typeof G.tolerant=="boolean"&&G.tolerant&&(A.errors=[]),A.attachComment&&(A.range=!0,A.comments=[],A.bottomRightStack=[],A.trailingComments=[],A.leadingComments=[]));try{ie=qo(),typeof A.comments<"u"&&(ie.comments=A.comments),typeof A.tokens<"u"&&(Zo(),ie.tokens=A.tokens),typeof A.errors<"u"&&(ie.errors=A.errors)}catch(ke){throw ke}finally{A={}}return ie}x.version="1.2.2",x.tokenize=ea,x.parse=ta,x.Syntax=function(){var O,G={};typeof Object.create=="function"&&(G=Object.create(null));for(O in i)i.hasOwnProperty(O)&&(G[O]=i[O]);return typeof Object.freeze=="function"&&Object.freeze(G),G}()})},{}],1:[function(c,b,S){(function(x){var l=function(){var t={trace:function(){},yy:{},symbols_:{error:2,JSON_PATH:3,DOLLAR:4,PATH_COMPONENTS:5,LEADING_CHILD_MEMBER_EXPRESSION:6,PATH_COMPONENT:7,MEMBER_COMPONENT:8,SUBSCRIPT_COMPONENT:9,CHILD_MEMBER_COMPONENT:10,DESCENDANT_MEMBER_COMPONENT:11,DOT:12,MEMBER_EXPRESSION:13,DOT_DOT:14,STAR:15,IDENTIFIER:16,SCRIPT_EXPRESSION:17,INTEGER:18,END:19,CHILD_SUBSCRIPT_COMPONENT:20,DESCENDANT_SUBSCRIPT_COMPONENT:21,"[":22,SUBSCRIPT:23,"]":24,SUBSCRIPT_EXPRESSION:25,SUBSCRIPT_EXPRESSION_LIST:26,SUBSCRIPT_EXPRESSION_LISTABLE:27,",":28,STRING_LITERAL:29,ARRAY_SLICE:30,FILTER_EXPRESSION:31,QQ_STRING:32,Q_STRING:33,$accept:0,$end:1},terminals_:{2:"error",4:"DOLLAR",12:"DOT",14:"DOT_DOT",15:"STAR",16:"IDENTIFIER",17:"SCRIPT_EXPRESSION",18:"INTEGER",19:"END",22:"[",24:"]",28:",",30:"ARRAY_SLICE",31:"FILTER_EXPRESSION",32:"QQ_STRING",33:"Q_STRING"},productions_:[0,[3,1],[3,2],[3,1],[3,2],[5,1],[5,2],[7,1],[7,1],[8,1],[8,1],[10,2],[6,1],[11,2],[13,1],[13,1],[13,1],[13,1],[13,1],[9,1],[9,1],[20,3],[21,4],[23,1],[23,1],[26,1],[26,3],[27,1],[27,1],[27,1],[25,1],[25,1],[25,1],[29,1],[29,1]],performAction:function(u,g,_,m,r,f,p){m.ast||(m.ast=n,n.initialize());var v=f.length-1;switch(r){case 1:return m.ast.set({expression:{type:"root",value:f[v]}}),m.ast.unshift(),m.ast.yield();case 2:return m.ast.set({expression:{type:"root",value:f[v-1]}}),m.ast.unshift(),m.ast.yield();case 3:return m.ast.unshift(),m.ast.yield();case 4:return m.ast.set({operation:"member",scope:"child",expression:{type:"identifier",value:f[v-1]}}),m.ast.unshift(),m.ast.yield();case 5:break;case 6:break;case 7:m.ast.set({operation:"member"}),m.ast.push();break;case 8:m.ast.set({operation:"subscript"}),m.ast.push();break;case 9:m.ast.set({scope:"child"});break;case 10:m.ast.set({scope:"descendant"});break;case 11:break;case 12:m.ast.set({scope:"child",operation:"member"});break;case 13:break;case 14:m.ast.set({expression:{type:"wildcard",value:f[v]}});break;case 15:m.ast.set({expression:{type:"identifier",value:f[v]}});break;case 16:m.ast.set({expression:{type:"script_expression",value:f[v]}});break;case 17:m.ast.set({expression:{type:"numeric_literal",value:parseInt(f[v])}});break;case 18:break;case 19:m.ast.set({scope:"child"});break;case 20:m.ast.set({scope:"descendant"});break;case 21:break;case 22:break;case 23:break;case 24:f[v].length>1?m.ast.set({expression:{type:"union",value:f[v]}}):this.$=f[v];break;case 25:this.$=[f[v]];break;case 26:this.$=f[v-2].concat(f[v]);break;case 27:this.$={expression:{type:"numeric_literal",value:parseInt(f[v])}},m.ast.set(this.$);break;case 28:this.$={expression:{type:"string_literal",value:f[v]}},m.ast.set(this.$);break;case 29:this.$={expression:{type:"slice",value:f[v]}},m.ast.set(this.$);break;case 30:this.$={expression:{type:"wildcard",value:f[v]}},m.ast.set(this.$);break;case 31:this.$={expression:{type:"script_expression",value:f[v]}},m.ast.set(this.$);break;case 32:this.$={expression:{type:"filter_expression",value:f[v]}},m.ast.set(this.$);break;case 33:this.$=f[v];break;case 34:this.$=f[v];break}},table:[{3:1,4:[1,2],6:3,13:4,15:[1,5],16:[1,6],17:[1,7],18:[1,8],19:[1,9]},{1:[3]},{1:[2,1],5:10,7:11,8:12,9:13,10:14,11:15,12:[1,18],14:[1,19],20:16,21:17,22:[1,20]},{1:[2,3],5:21,7:11,8:12,9:13,10:14,11:15,12:[1,18],14:[1,19],20:16,21:17,22:[1,20]},{1:[2,12],12:[2,12],14:[2,12],22:[2,12]},{1:[2,14],12:[2,14],14:[2,14],22:[2,14]},{1:[2,15],12:[2,15],14:[2,15],22:[2,15]},{1:[2,16],12:[2,16],14:[2,16],22:[2,16]},{1:[2,17],12:[2,17],14:[2,17],22:[2,17]},{1:[2,18],12:[2,18],14:[2,18],22:[2,18]},{1:[2,2],7:22,8:12,9:13,10:14,11:15,12:[1,18],14:[1,19],20:16,21:17,22:[1,20]},{1:[2,5],12:[2,5],14:[2,5],22:[2,5]},{1:[2,7],12:[2,7],14:[2,7],22:[2,7]},{1:[2,8],12:[2,8],14:[2,8],22:[2,8]},{1:[2,9],12:[2,9],14:[2,9],22:[2,9]},{1:[2,10],12:[2,10],14:[2,10],22:[2,10]},{1:[2,19],12:[2,19],14:[2,19],22:[2,19]},{1:[2,20],12:[2,20],14:[2,20],22:[2,20]},{13:23,15:[1,5],16:[1,6],17:[1,7],18:[1,8],19:[1,9]},{13:24,15:[1,5],16:[1,6],17:[1,7],18:[1,8],19:[1,9],22:[1,25]},{15:[1,29],17:[1,30],18:[1,33],23:26,25:27,26:28,27:32,29:34,30:[1,35],31:[1,31],32:[1,36],33:[1,37]},{1:[2,4],7:22,8:12,9:13,10:14,11:15,12:[1,18],14:[1,19],20:16,21:17,22:[1,20]},{1:[2,6],12:[2,6],14:[2,6],22:[2,6]},{1:[2,11],12:[2,11],14:[2,11],22:[2,11]},{1:[2,13],12:[2,13],14:[2,13],22:[2,13]},{15:[1,29],17:[1,30],18:[1,33],23:38,25:27,26:28,27:32,29:34,30:[1,35],31:[1,31],32:[1,36],33:[1,37]},{24:[1,39]},{24:[2,23]},{24:[2,24],28:[1,40]},{24:[2,30]},{24:[2,31]},{24:[2,32]},{24:[2,25],28:[2,25]},{24:[2,27],28:[2,27]},{24:[2,28],28:[2,28]},{24:[2,29],28:[2,29]},{24:[2,33],28:[2,33]},{24:[2,34],28:[2,34]},{24:[1,41]},{1:[2,21],12:[2,21],14:[2,21],22:[2,21]},{18:[1,33],27:42,29:34,30:[1,35],32:[1,36],33:[1,37]},{1:[2,22],12:[2,22],14:[2,22],22:[2,22]},{24:[2,26],28:[2,26]}],defaultActions:{27:[2,23],29:[2,30],30:[2,31],31:[2,32]},parseError:function(u,g){if(g.recoverable)this.trace(u);else throw new Error(u)},parse:function(u){var g=this,_=[0],m=[null],r=[],f=this.table,p="",v=0,d=0,C=2,w=1,A=r.slice.call(arguments,1);this.lexer.setInput(u),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,typeof this.lexer.yylloc>"u"&&(this.lexer.yylloc={});var E=this.lexer.yylloc;r.push(E);var L=this.lexer.options&&this.lexer.options.ranges;typeof this.yy.parseError=="function"?this.parseError=this.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function D(){var X;return X=g.lexer.lex()||w,typeof X!="number"&&(X=g.symbols_[X]||X),X}for(var R,I,P,$,F={},U,Y,k,H;;){if(I=_[_.length-1],this.defaultActions[I]?P=this.defaultActions[I]:((R===null||typeof R>"u")&&(R=D()),P=f[I]&&f[I][R]),typeof P>"u"||!P.length||!P[0]){var z="";H=[];for(U in f[I])this.terminals_[U]&&U>C&&H.push("'"+this.terminals_[U]+"'");this.lexer.showPosition?z="Parse error on line "+(v+1)+`:
`+this.lexer.showPosition()+`
Expecting `+H.join(", ")+", got '"+(this.terminals_[R]||R)+"'":z="Parse error on line "+(v+1)+": Unexpected "+(R==w?"end of input":"'"+(this.terminals_[R]||R)+"'"),this.parseError(z,{text:this.lexer.match,token:this.terminals_[R]||R,line:this.lexer.yylineno,loc:E,expected:H})}if(P[0]instanceof Array&&P.length>1)throw new Error("Parse Error: multiple actions possible at state: "+I+", token: "+R);switch(P[0]){case 1:_.push(R),m.push(this.lexer.yytext),r.push(this.lexer.yylloc),_.push(P[1]),R=null,d=this.lexer.yyleng,p=this.lexer.yytext,v=this.lexer.yylineno,E=this.lexer.yylloc;break;case 2:if(Y=this.productions_[P[1]][1],F.$=m[m.length-Y],F._$={first_line:r[r.length-(Y||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(Y||1)].first_column,last_column:r[r.length-1].last_column},L&&(F._$.range=[r[r.length-(Y||1)].range[0],r[r.length-1].range[1]]),$=this.performAction.apply(F,[p,d,v,this.yy,P[1],m,r].concat(A)),typeof $<"u")return $;Y&&(_=_.slice(0,-1*Y*2),m=m.slice(0,-1*Y),r=r.slice(0,-1*Y)),_.push(this.productions_[P[1]][0]),m.push(F.$),r.push(F._$),k=f[_[_.length-2]][_[_.length-1]],_.push(k);break;case 3:return!0}}return!0}},n={initialize:function(){this._nodes=[],this._node={},this._stash=[]},set:function(o){for(var u in o)this._node[u]=o[u];return this._node},node:function(o){return arguments.length&&(this._node=o),this._node},push:function(){this._nodes.push(this._node),this._node={}},unshift:function(){this._nodes.unshift(this._node),this._node={}},yield:function(){var o=this._nodes;return this.initialize(),o}},i=function(){var o={EOF:1,parseError:function(g,_){if(this.yy.parser)this.yy.parser.parseError(g,_);else throw new Error(g)},setInput:function(u){return this._input=u,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var u=this._input[0];this.yytext+=u,this.yyleng++,this.offset++,this.match+=u,this.matched+=u;var g=u.match(/(?:\r\n?|\n).*/g);return g?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),u},unput:function(u){var g=u.length,_=u.split(/(?:\r\n?|\n)/g);this._input=u+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-g-1),this.offset-=g;var m=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),_.length-1&&(this.yylineno-=_.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:_?(_.length===m.length?this.yylloc.first_column:0)+m[m.length-_.length].length-_[0].length:this.yylloc.first_column-g},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-g]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(u){this.unput(this.match.slice(u))},pastInput:function(){var u=this.matched.substr(0,this.matched.length-this.match.length);return(u.length>20?"...":"")+u.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var u=this.match;return u.length<20&&(u+=this._input.substr(0,20-u.length)),(u.substr(0,20)+(u.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var u=this.pastInput(),g=new Array(u.length+1).join("-");return u+this.upcomingInput()+`
`+g+"^"},test_match:function(u,g){var _,m,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),m=u[0].match(/(?:\r\n?|\n).*/g),m&&(this.yylineno+=m.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:m?m[m.length-1].length-m[m.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+u[0].length},this.yytext+=u[0],this.match+=u[0],this.matches=u,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(u[0].length),this.matched+=u[0],_=this.performAction.call(this,this.yy,this,g,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),_)return _;if(this._backtrack){for(var f in r)this[f]=r[f];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var u,g,_,m;this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),f=0;f<r.length;f++)if(_=this._input.match(this.rules[r[f]]),_&&(!g||_[0].length>g[0].length)){if(g=_,m=f,this.options.backtrack_lexer){if(u=this.test_match(_,r[f]),u!==!1)return u;if(this._backtrack){g=!1;continue}else return!1}else if(!this.options.flex)break}return g?(u=this.test_match(g,r[m]),u!==!1?u:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var g=this.next();return g||this.lex()},begin:function(g){this.conditionStack.push(g)},popState:function(){var g=this.conditionStack.length-1;return g>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(g){return g=this.conditionStack.length-1-Math.abs(g||0),g>=0?this.conditionStack[g]:"INITIAL"},pushState:function(g){this.begin(g)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(g,_,m,r){switch(m){case 0:return 4;case 1:return 14;case 2:return 12;case 3:return 15;case 4:return 16;case 5:return 22;case 6:return 24;case 7:return 28;case 8:return 30;case 9:return 18;case 10:return _.yytext=_.yytext.substr(1,_.yyleng-2),32;case 11:return _.yytext=_.yytext.substr(1,_.yyleng-2),33;case 12:return 17;case 13:return 31}},rules:[/^(?:\$)/,/^(?:\.\.)/,/^(?:\.)/,/^(?:\*)/,/^(?:[a-zA-Z_]+[a-zA-Z0-9_]*)/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?:((-?(?:0|[1-9][0-9]*)))?\:((-?(?:0|[1-9][0-9]*)))?(\:((-?(?:0|[1-9][0-9]*)))?)?)/,/^(?:(-?(?:0|[1-9][0-9]*)))/,/^(?:"(?:\\["bfnrt/\\]|\\u[a-fA-F0-9]{4}|[^"\\])*")/,/^(?:'(?:\\['bfnrt/\\]|\\u[a-fA-F0-9]{4}|[^'\\])*')/,/^(?:\(.+?\)(?=\]))/,/^(?:\?\(.+?\)(?=\]))/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};return o}();t.lexer=i;function h(){this.yy={}}return h.prototype=t,t.Parser=h,new h}();typeof c<"u"&&typeof S<"u"&&(S.parser=l,S.Parser=l.Parser,S.parse=function(){return l.parse.apply(l,arguments)},S.main=function(n){n[1]||(console.log("Usage: "+n[0]+" FILE"),x.exit(1));var i=c("fs").readFileSync(c("path").normalize(n[1]),"utf8");return S.parser.parse(i)},typeof b<"u"&&c.main===b&&S.main(x.argv.slice(1)))}).call(this,c("_process"))},{_process:14,fs:12,path:13}],2:[function(c,b,S){b.exports={identifier:"[a-zA-Z_]+[a-zA-Z0-9_]*",integer:"-?(?:0|[1-9][0-9]*)",qq_string:'"(?:\\\\["bfnrt/\\\\]|\\\\u[a-fA-F0-9]{4}|[^"\\\\])*"',q_string:"'(?:\\\\['bfnrt/\\\\]|\\\\u[a-fA-F0-9]{4}|[^'\\\\])*'"}},{}],3:[function(c,b,S){var x=c("./dict"),l=c("fs"),t={lex:{macros:{esc:"\\\\",int:x.integer},rules:[["\\$","return 'DOLLAR'"],["\\.\\.","return 'DOT_DOT'"],["\\.","return 'DOT'"],["\\*","return 'STAR'"],[x.identifier,"return 'IDENTIFIER'"],["\\[","return '['"],["\\]","return ']'"],[",","return ','"],["({int})?\\:({int})?(\\:({int})?)?","return 'ARRAY_SLICE'"],["{int}","return 'INTEGER'"],[x.qq_string,"yytext = yytext.substr(1,yyleng-2); return 'QQ_STRING';"],[x.q_string,"yytext = yytext.substr(1,yyleng-2); return 'Q_STRING';"],["\\(.+?\\)(?=\\])","return 'SCRIPT_EXPRESSION'"],["\\?\\(.+?\\)(?=\\])","return 'FILTER_EXPRESSION'"]]},start:"JSON_PATH",bnf:{JSON_PATH:[["DOLLAR",'yy.ast.set({ expression: { type: "root", value: $1 } }); yy.ast.unshift(); return yy.ast.yield()'],["DOLLAR PATH_COMPONENTS",'yy.ast.set({ expression: { type: "root", value: $1 } }); yy.ast.unshift(); return yy.ast.yield()'],["LEADING_CHILD_MEMBER_EXPRESSION","yy.ast.unshift(); return yy.ast.yield()"],["LEADING_CHILD_MEMBER_EXPRESSION PATH_COMPONENTS",'yy.ast.set({ operation: "member", scope: "child", expression: { type: "identifier", value: $1 }}); yy.ast.unshift(); return yy.ast.yield()']],PATH_COMPONENTS:[["PATH_COMPONENT",""],["PATH_COMPONENTS PATH_COMPONENT",""]],PATH_COMPONENT:[["MEMBER_COMPONENT",'yy.ast.set({ operation: "member" }); yy.ast.push()'],["SUBSCRIPT_COMPONENT",'yy.ast.set({ operation: "subscript" }); yy.ast.push() ']],MEMBER_COMPONENT:[["CHILD_MEMBER_COMPONENT",'yy.ast.set({ scope: "child" })'],["DESCENDANT_MEMBER_COMPONENT",'yy.ast.set({ scope: "descendant" })']],CHILD_MEMBER_COMPONENT:[["DOT MEMBER_EXPRESSION",""]],LEADING_CHILD_MEMBER_EXPRESSION:[["MEMBER_EXPRESSION",'yy.ast.set({ scope: "child", operation: "member" })']],DESCENDANT_MEMBER_COMPONENT:[["DOT_DOT MEMBER_EXPRESSION",""]],MEMBER_EXPRESSION:[["STAR",'yy.ast.set({ expression: { type: "wildcard", value: $1 } })'],["IDENTIFIER",'yy.ast.set({ expression: { type: "identifier", value: $1 } })'],["SCRIPT_EXPRESSION",'yy.ast.set({ expression: { type: "script_expression", value: $1 } })'],["INTEGER",'yy.ast.set({ expression: { type: "numeric_literal", value: parseInt($1) } })'],["END",""]],SUBSCRIPT_COMPONENT:[["CHILD_SUBSCRIPT_COMPONENT",'yy.ast.set({ scope: "child" })'],["DESCENDANT_SUBSCRIPT_COMPONENT",'yy.ast.set({ scope: "descendant" })']],CHILD_SUBSCRIPT_COMPONENT:[["[ SUBSCRIPT ]",""]],DESCENDANT_SUBSCRIPT_COMPONENT:[["DOT_DOT [ SUBSCRIPT ]",""]],SUBSCRIPT:[["SUBSCRIPT_EXPRESSION",""],["SUBSCRIPT_EXPRESSION_LIST",'$1.length > 1? yy.ast.set({ expression: { type: "union", value: $1 } }) : $$ = $1']],SUBSCRIPT_EXPRESSION_LIST:[["SUBSCRIPT_EXPRESSION_LISTABLE","$$ = [$1]"],["SUBSCRIPT_EXPRESSION_LIST , SUBSCRIPT_EXPRESSION_LISTABLE","$$ = $1.concat($3)"]],SUBSCRIPT_EXPRESSION_LISTABLE:[["INTEGER",'$$ = { expression: { type: "numeric_literal", value: parseInt($1) } }; yy.ast.set($$)'],["STRING_LITERAL",'$$ = { expression: { type: "string_literal", value: $1 } }; yy.ast.set($$)'],["ARRAY_SLICE",'$$ = { expression: { type: "slice", value: $1 } }; yy.ast.set($$)']],SUBSCRIPT_EXPRESSION:[["STAR",'$$ = { expression: { type: "wildcard", value: $1 } }; yy.ast.set($$)'],["SCRIPT_EXPRESSION",'$$ = { expression: { type: "script_expression", value: $1 } }; yy.ast.set($$)'],["FILTER_EXPRESSION",'$$ = { expression: { type: "filter_expression", value: $1 } }; yy.ast.set($$)']],STRING_LITERAL:[["QQ_STRING","$$ = $1"],["Q_STRING","$$ = $1"]]}};l.readFileSync&&(t.moduleInclude=l.readFileSync(c.resolve("../include/module.js")),t.actionInclude=l.readFileSync(c.resolve("../include/action.js"))),b.exports=t},{"./dict":2,fs:12}],4:[function(c,b,S){var x=c("./aesprim"),l=c("./slice"),t=c("static-eval"),n=c("underscore").uniq,i=function(){return this.initialize.apply(this,arguments)};i.prototype.initialize=function(){this.traverse=g(!0),this.descend=g()},i.prototype.keys=Object.keys,i.prototype.resolve=function(v){var d=[v.operation,v.scope,v.expression.type].join("-"),C=this._fns[d];if(!C)throw new Error("couldn't resolve key: "+d);return C.bind(this)},i.prototype.register=function(v,d){if(!d instanceof Function)throw new Error("handler must be a function");this._fns[v]=d},i.prototype._fns={"member-child-identifier":function(v,d){var C=v.expression.value,w=d.value;if(w instanceof Object&&C in w)return[{value:w[C],path:d.path.concat(C)}]},"member-descendant-identifier":m(function(v,d,C){return v==C}),"subscript-child-numeric_literal":_(function(v,d,C){return v===C}),"member-child-numeric_literal":_(function(v,d,C){return String(v)===String(C)}),"subscript-descendant-numeric_literal":m(function(v,d,C){return v===C}),"member-child-wildcard":_(function(){return!0}),"member-descendant-wildcard":m(function(){return!0}),"subscript-descendant-wildcard":m(function(){return!0}),"subscript-child-wildcard":_(function(){return!0}),"subscript-child-slice":function(v,d){if(o(d.value)){var C=v.expression.value.split(":").map(p),w=d.value.map(function(A,E){return{value:A,path:d.path.concat(E)}});return l.apply(null,[w].concat(C))}},"subscript-child-union":function(v,d){var C=[];return v.expression.value.forEach(function(w){var A={operation:"subscript",scope:"child",expression:w.expression},E=this.resolve(A),L=E(A,d);L&&(C=C.concat(L))},this),f(C)},"subscript-descendant-union":function(v,d,C){var w=c(".."),A=this,E=[],L=w.nodes(d,"$..*").slice(1);return L.forEach(function(D){E.length>=C||v.expression.value.forEach(function(R){var I={operation:"subscript",scope:"child",expression:R.expression},P=A.resolve(I),$=P(I,D);E=E.concat($)})}),f(E)},"subscript-child-filter_expression":function(v,d,C){var w=v.expression.value.slice(2,-1),A=x.parse(w).body[0].expression,E=function(L,D){return r(A,{"@":D})};return this.descend(d,null,E,C)},"subscript-descendant-filter_expression":function(v,d,C){var w=v.expression.value.slice(2,-1),A=x.parse(w).body[0].expression,E=function(L,D){return r(A,{"@":D})};return this.traverse(d,null,E,C)},"subscript-child-script_expression":function(v,d){var C=v.expression.value.slice(1,-1);return h(d,C,"$[{{value}}]")},"member-child-script_expression":function(v,d){var C=v.expression.value.slice(1,-1);return h(d,C,"$.{{value}}")},"member-descendant-script_expression":function(v,d){var C=v.expression.value.slice(1,-1);return h(d,C,"$..value")}},i.prototype._fns["subscript-child-string_literal"]=i.prototype._fns["member-child-identifier"],i.prototype._fns["member-descendant-numeric_literal"]=i.prototype._fns["subscript-descendant-string_literal"]=i.prototype._fns["member-descendant-identifier"];function h(v,d,C){var w=c("./index"),A=x.parse(d).body[0].expression,E=r(A,{"@":v.value}),L=C.replace(/\{\{\s*value\s*\}\}/g,E),D=w.nodes(v.value,L);return D.forEach(function(R){R.path=v.path.concat(R.path.slice(1))}),D}function o(v){return Array.isArray(v)}function u(v){return v&&!(v instanceof Array)&&v instanceof Object}function g(v){return function(d,C,w,A){var E=d.value,L=d.path,D=[],R=(function(I,P){o(I)?(I.forEach(function($,F){D.length>=A||w(F,$,C)&&D.push({path:P.concat(F),value:$})}),I.forEach(function($,F){D.length>=A||v&&R($,P.concat(F))})):u(I)&&(this.keys(I).forEach(function($){D.length>=A||w($,I[$],C)&&D.push({path:P.concat($),value:I[$]})}),this.keys(I).forEach(function($){D.length>=A||v&&R(I[$],P.concat($))}))}).bind(this);return R(E,L),D}}function _(v){return function(d,C,w){return this.descend(C,d.expression.value,v,w)}}function m(v){return function(d,C,w){return this.traverse(C,d.expression.value,v,w)}}function r(){try{return t.apply(this,arguments)}catch{}}function f(v){return v=v.filter(function(d){return d}),n(v,function(d){return d.path.map(function(C){return String(C).replace("-","--")}).join("-")})}function p(v){var d=String(v);return d.match(/^-?[0-9]+$/)?parseInt(d):null}b.exports=i},{"..":"jsonpath","./aesprim":"./aesprim","./index":5,"./slice":7,"static-eval":15,underscore:12}],5:[function(c,b,S){var x=c("assert"),l=c("./dict"),t=c("./parser"),n=c("./handlers"),i=function(){this.initialize.apply(this,arguments)};i.prototype.initialize=function(){this.parser=new t,this.handlers=new n},i.prototype.parse=function(u){return x.ok(h(u),"we need a path"),this.parser.parse(u)},i.prototype.parent=function(u,g){x.ok(u instanceof Object,"obj needs to be an object"),x.ok(g,"we need a path");var _=this.nodes(u,g)[0];return _.path.pop(),this.value(u,_.path)},i.prototype.apply=function(u,g,_){x.ok(u instanceof Object,"obj needs to be an object"),x.ok(g,"we need a path"),x.equal(typeof _,"function","fn needs to be function");var m=this.nodes(u,g).sort(function(r,f){return f.path.length-r.path.length});return m.forEach(function(r){var f=r.path.pop(),p=this.value(u,this.stringify(r.path)),v=r.value=_.call(u,p[f]);p[f]=v},this),m},i.prototype.value=function(u,g,_){if(x.ok(u instanceof Object,"obj needs to be an object"),x.ok(g,"we need a path"),arguments.length>=3){var m=this.nodes(u,g).shift();if(!m)return this._vivify(u,g,_);var r=m.path.slice(-1).shift(),f=this.parent(u,this.stringify(m.path));f[r]=_}return this.query(u,this.stringify(g),1).shift()},i.prototype._vivify=function(u,g,_){var m=this;x.ok(u instanceof Object,"obj needs to be an object"),x.ok(g,"we need a path");var r=this.parser.parse(g).map(function(p){return p.expression.value}),f=function(p,v){var d=p.pop(),C=m.value(u,p);C||(f(p.concat(),typeof d=="string"?{}:[]),C=m.value(u,p)),C[d]=v};return f(r,_),this.query(u,g)[0]},i.prototype.query=function(u,g,_){x.ok(u instanceof Object,"obj needs to be an object"),x.ok(h(g),"we need a path");var m=this.nodes(u,g,_).map(function(r){return r.value});return m},i.prototype.paths=function(u,g,_){x.ok(u instanceof Object,"obj needs to be an object"),x.ok(g,"we need a path");var m=this.nodes(u,g,_).map(function(r){return r.path});return m},i.prototype.nodes=function(u,g,_){if(x.ok(u instanceof Object,"obj needs to be an object"),x.ok(g,"we need a path"),_===0)return[];var m=this.parser.parse(g),r=this.handlers,f=[{path:["$"],value:u}],p=[];return m.length&&m[0].expression.type=="root"&&m.shift(),m.length?(m.forEach(function(v,d){if(!(p.length>=_)){var C=r.resolve(v),w=[];f.forEach(function(A){if(!(p.length>=_)){var E=C(v,A,_);d==m.length-1?p=p.concat(E||[]):w=w.concat(E||[])}}),f=w}}),_?p.slice(0,_):p):f},i.prototype.stringify=function(u){x.ok(u,"we need a path");var g="$",_={"descendant-member":"..{{value}}","child-member":".{{value}}","descendant-subscript":"..[{{value}}]","child-subscript":"[{{value}}]"};return u=this._normalize(u),u.forEach(function(m){if(m.expression.type!="root"){var r=[m.scope,m.operation].join("-"),f=_[r],p;if(m.expression.type=="string_literal"?p=JSON.stringify(m.expression.value):p=m.expression.value,!f)throw new Error("couldn't find template "+r);g+=f.replace(/{{value}}/,p)}}),g},i.prototype._normalize=function(u){if(x.ok(u,"we need a path"),typeof u=="string")return this.parser.parse(u);if(Array.isArray(u)&&typeof u[0]=="string"){var g=[{expression:{type:"root",value:"$"}}];return u.forEach(function(_,m){if(!(_=="$"&&m===0))if(typeof _=="string"&&_.match("^"+l.identifier+"$"))g.push({operation:"member",scope:"child",expression:{value:_,type:"identifier"}});else{var r=typeof _=="number"?"numeric_literal":"string_literal";g.push({operation:"subscript",scope:"child",expression:{value:_,type:r}})}}),g}else if(Array.isArray(u)&&typeof u[0]=="object")return u;throw new Error("couldn't understand path "+u)};function h(u){return Object.prototype.toString.call(u)=="[object String]"}i.Handlers=n,i.Parser=t;var o=new i;o.JSONPath=i,b.exports=o},{"./dict":2,"./handlers":4,"./parser":6,assert:8}],6:[function(c,b,S){var x=c("./grammar"),l=c("../generated/parser"),t=function(){var n=new l.Parser,i=n.parseError;return n.yy.parseError=function(){n.yy.ast&&n.yy.ast.initialize(),i.apply(n,arguments)},n};t.grammar=x,b.exports=t},{"../generated/parser":1,"./grammar":3}],7:[function(c,b,S){b.exports=function(l,t,n,i){if(typeof t=="string")throw new Error("start cannot be a string");if(typeof n=="string")throw new Error("end cannot be a string");if(typeof i=="string")throw new Error("step cannot be a string");var h=l.length;if(i===0)throw new Error("step cannot be zero");if(i=i?x(i):1,t=t<0?h+t:t,n=n<0?h+n:n,t=x(t===0?0:t||(i>0?0:h-1)),n=x(n===0?0:n||(i>0?h:-1)),t=i>0?Math.max(0,t):Math.min(h,t),n=i>0?Math.min(n,h):Math.max(-1,n),i>0&&n<=t)return[];if(i<0&&t<=n)return[];for(var o=[],u=t;u!=n&&!(i<0&&u<=n||i>0&&u>=n);u+=i)o.push(l[u]);return o};function x(l){return String(l).match(/^[0-9]+$/)?parseInt(l):Number.isFinite(l)?parseInt(l,10):0}},{}],8:[function(c,b,S){var x=c("util/"),l=Array.prototype.slice,t=Object.prototype.hasOwnProperty,n=b.exports=g;n.AssertionError=function(C){this.name="AssertionError",this.actual=C.actual,this.expected=C.expected,this.operator=C.operator,C.message?(this.message=C.message,this.generatedMessage=!1):(this.message=o(this),this.generatedMessage=!0);var w=C.stackStartFunction||u;if(Error.captureStackTrace)Error.captureStackTrace(this,w);else{var A=new Error;if(A.stack){var E=A.stack,L=w.name,D=E.indexOf(`
`+L);if(D>=0){var R=E.indexOf(`
`,D+1);E=E.substring(R+1)}this.stack=E}}},x.inherits(n.AssertionError,Error);function i(d,C){return x.isUndefined(C)?""+C:x.isNumber(C)&&!isFinite(C)||x.isFunction(C)||x.isRegExp(C)?C.toString():C}function h(d,C){return x.isString(d)?d.length<C?d:d.slice(0,C):d}function o(d){return h(JSON.stringify(d.actual,i),128)+" "+d.operator+" "+h(JSON.stringify(d.expected,i),128)}function u(d,C,w,A,E){throw new n.AssertionError({message:w,actual:d,expected:C,operator:A,stackStartFunction:E})}n.fail=u;function g(d,C){d||u(d,!0,C,"==",n.ok)}n.ok=g,n.equal=function(C,w,A){C!=w&&u(C,w,A,"==",n.equal)},n.notEqual=function(C,w,A){C==w&&u(C,w,A,"!=",n.notEqual)},n.deepEqual=function(C,w,A){_(C,w)||u(C,w,A,"deepEqual",n.deepEqual)};function _(d,C){if(d===C)return!0;if(x.isBuffer(d)&&x.isBuffer(C)){if(d.length!=C.length)return!1;for(var w=0;w<d.length;w++)if(d[w]!==C[w])return!1;return!0}else return x.isDate(d)&&x.isDate(C)?d.getTime()===C.getTime():x.isRegExp(d)&&x.isRegExp(C)?d.source===C.source&&d.global===C.global&&d.multiline===C.multiline&&d.lastIndex===C.lastIndex&&d.ignoreCase===C.ignoreCase:!x.isObject(d)&&!x.isObject(C)?d==C:r(d,C)}function m(d){return Object.prototype.toString.call(d)=="[object Arguments]"}function r(d,C){if(x.isNullOrUndefined(d)||x.isNullOrUndefined(C)||d.prototype!==C.prototype)return!1;if(x.isPrimitive(d)||x.isPrimitive(C))return d===C;var w=m(d),A=m(C);if(w&&!A||!w&&A)return!1;if(w)return d=l.call(d),C=l.call(C),_(d,C);var E=v(d),L=v(C),D,R;if(E.length!=L.length)return!1;for(E.sort(),L.sort(),R=E.length-1;R>=0;R--)if(E[R]!=L[R])return!1;for(R=E.length-1;R>=0;R--)if(D=E[R],!_(d[D],C[D]))return!1;return!0}n.notDeepEqual=function(C,w,A){_(C,w)&&u(C,w,A,"notDeepEqual",n.notDeepEqual)},n.strictEqual=function(C,w,A){C!==w&&u(C,w,A,"===",n.strictEqual)},n.notStrictEqual=function(C,w,A){C===w&&u(C,w,A,"!==",n.notStrictEqual)};function f(d,C){return!d||!C?!1:Object.prototype.toString.call(C)=="[object RegExp]"?C.test(d):d instanceof C?!0:C.call({},d)===!0}function p(d,C,w,A){var E;x.isString(w)&&(A=w,w=null);try{C()}catch(L){E=L}if(A=(w&&w.name?" ("+w.name+").":".")+(A?" "+A:"."),d&&!E&&u(E,w,"Missing expected exception"+A),!d&&f(E,w)&&u(E,w,"Got unwanted exception"+A),d&&E&&w&&!f(E,w)||!d&&E)throw E}n.throws=function(d,C,w){p.apply(this,[!0].concat(l.call(arguments)))},n.doesNotThrow=function(d,C){p.apply(this,[!1].concat(l.call(arguments)))},n.ifError=function(d){if(d)throw d};var v=Object.keys||function(d){var C=[];for(var w in d)t.call(d,w)&&C.push(w);return C}},{"util/":11}],9:[function(c,b,S){typeof Object.create=="function"?b.exports=function(l,t){l.super_=t,l.prototype=Object.create(t.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}})}:b.exports=function(l,t){l.super_=t;var n=function(){};n.prototype=t.prototype,l.prototype=new n,l.prototype.constructor=l}},{}],10:[function(c,b,S){b.exports=function(l){return l&&typeof l=="object"&&typeof l.copy=="function"&&typeof l.fill=="function"&&typeof l.readUInt8=="function"}},{}],11:[function(c,b,S){(function(x,l){var t=/%[sdj%]/g;S.format=function(J){if(!L(J)){for(var V=[],se=0;se<arguments.length;se++)V.push(h(arguments[se]));return V.join(" ")}for(var se=1,be=arguments,B=be.length,j=String(J).replace(t,function(Q){if(Q==="%%")return"%";if(se>=B)return Q;switch(Q){case"%s":return String(be[se++]);case"%d":return Number(be[se++]);case"%j":try{return JSON.stringify(be[se++])}catch{return"[Circular]"}default:return Q}}),N=be[se];se<B;N=be[++se])w(N)||!P(N)?j+=" "+N:j+=" "+h(N);return j},S.deprecate=function(J,V){if(R(l.process))return function(){return S.deprecate(J,V).apply(this,arguments)};if(x.noDeprecation===!0)return J;var se=!1;function be(){if(!se){if(x.throwDeprecation)throw new Error(V);x.traceDeprecation?console.trace(V):console.error(V),se=!0}return J.apply(this,arguments)}return be};var n={},i;S.debuglog=function(J){if(R(i)&&(i=x.env.NODE_DEBUG||""),J=J.toUpperCase(),!n[J])if(new RegExp("\\b"+J+"\\b","i").test(i)){var V=x.pid;n[J]=function(){var se=S.format.apply(S,arguments);console.error("%s %d: %s",J,V,se)}}else n[J]=function(){};return n[J]};function h(J,V){var se={seen:[],stylize:u};return arguments.length>=3&&(se.depth=arguments[2]),arguments.length>=4&&(se.colors=arguments[3]),C(V)?se.showHidden=V:V&&S._extend(se,V),R(se.showHidden)&&(se.showHidden=!1),R(se.depth)&&(se.depth=2),R(se.colors)&&(se.colors=!1),R(se.customInspect)&&(se.customInspect=!0),se.colors&&(se.stylize=o),_(se,J,se.depth)}S.inspect=h,h.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},h.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function o(J,V){var se=h.styles[V];return se?"\x1B["+h.colors[se][0]+"m"+J+"\x1B["+h.colors[se][1]+"m":J}function u(J,V){return J}function g(J){var V={};return J.forEach(function(se,be){V[se]=!0}),V}function _(J,V,se){if(J.customInspect&&V&&U(V.inspect)&&V.inspect!==S.inspect&&!(V.constructor&&V.constructor.prototype===V)){var be=V.inspect(se,J);return L(be)||(be=_(J,be,se)),be}var B=m(J,V);if(B)return B;var j=Object.keys(V),N=g(j);if(J.showHidden&&(j=Object.getOwnPropertyNames(V)),F(V)&&(j.indexOf("message")>=0||j.indexOf("description")>=0))return r(V);if(j.length===0){if(U(V)){var Q=V.name?": "+V.name:"";return J.stylize("[Function"+Q+"]","special")}if(I(V))return J.stylize(RegExp.prototype.toString.call(V),"regexp");if($(V))return J.stylize(Date.prototype.toString.call(V),"date");if(F(V))return r(V)}var ce="",ue=!1,pe=["{","}"];if(d(V)&&(ue=!0,pe=["[","]"]),U(V)){var Te=V.name?": "+V.name:"";ce=" [Function"+Te+"]"}if(I(V)&&(ce=" "+RegExp.prototype.toString.call(V)),$(V)&&(ce=" "+Date.prototype.toUTCString.call(V)),F(V)&&(ce=" "+r(V)),j.length===0&&(!ue||V.length==0))return pe[0]+ce+pe[1];if(se<0)return I(V)?J.stylize(RegExp.prototype.toString.call(V),"regexp"):J.stylize("[Object]","special");J.seen.push(V);var ve;return ue?ve=f(J,V,se,N,j):ve=j.map(function(Ce){return p(J,V,se,N,Ce,ue)}),J.seen.pop(),v(ve,ce,pe)}function m(J,V){if(R(V))return J.stylize("undefined","undefined");if(L(V)){var se="'"+JSON.stringify(V).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return J.stylize(se,"string")}if(E(V))return J.stylize(""+V,"number");if(C(V))return J.stylize(""+V,"boolean");if(w(V))return J.stylize("null","null")}function r(J){return"["+Error.prototype.toString.call(J)+"]"}function f(J,V,se,be,B){for(var j=[],N=0,Q=V.length;N<Q;++N)te(V,String(N))?j.push(p(J,V,se,be,String(N),!0)):j.push("");return B.forEach(function(ce){ce.match(/^\d+$/)||j.push(p(J,V,se,be,ce,!0))}),j}function p(J,V,se,be,B,j){var N,Q,ce;if(ce=Object.getOwnPropertyDescriptor(V,B)||{value:V[B]},ce.get?ce.set?Q=J.stylize("[Getter/Setter]","special"):Q=J.stylize("[Getter]","special"):ce.set&&(Q=J.stylize("[Setter]","special")),te(be,B)||(N="["+B+"]"),Q||(J.seen.indexOf(ce.value)<0?(w(se)?Q=_(J,ce.value,null):Q=_(J,ce.value,se-1),Q.indexOf(`
`)>-1&&(j?Q=Q.split(`
`).map(function(ue){return"  "+ue}).join(`
`).substr(2):Q=`
`+Q.split(`
`).map(function(ue){return"   "+ue}).join(`
`))):Q=J.stylize("[Circular]","special")),R(N)){if(j&&B.match(/^\d+$/))return Q;N=JSON.stringify(""+B),N.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(N=N.substr(1,N.length-2),N=J.stylize(N,"name")):(N=N.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),N=J.stylize(N,"string"))}return N+": "+Q}function v(J,V,se){var be=J.reduce(function(B,j){return j.indexOf(`
`)>=0,B+j.replace(/\u001b\[\d\d?m/g,"").length+1},0);return be>60?se[0]+(V===""?"":V+`
 `)+" "+J.join(`,
  `)+" "+se[1]:se[0]+V+" "+J.join(", ")+" "+se[1]}function d(J){return Array.isArray(J)}S.isArray=d;function C(J){return typeof J=="boolean"}S.isBoolean=C;function w(J){return J===null}S.isNull=w;function A(J){return J==null}S.isNullOrUndefined=A;function E(J){return typeof J=="number"}S.isNumber=E;function L(J){return typeof J=="string"}S.isString=L;function D(J){return typeof J=="symbol"}S.isSymbol=D;function R(J){return J===void 0}S.isUndefined=R;function I(J){return P(J)&&k(J)==="[object RegExp]"}S.isRegExp=I;function P(J){return typeof J=="object"&&J!==null}S.isObject=P;function $(J){return P(J)&&k(J)==="[object Date]"}S.isDate=$;function F(J){return P(J)&&(k(J)==="[object Error]"||J instanceof Error)}S.isError=F;function U(J){return typeof J=="function"}S.isFunction=U;function Y(J){return J===null||typeof J=="boolean"||typeof J=="number"||typeof J=="string"||typeof J=="symbol"||typeof J>"u"}S.isPrimitive=Y,S.isBuffer=c("./support/isBuffer");function k(J){return Object.prototype.toString.call(J)}function H(J){return J<10?"0"+J.toString(10):J.toString(10)}var z=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function X(){var J=new Date,V=[H(J.getHours()),H(J.getMinutes()),H(J.getSeconds())].join(":");return[J.getDate(),z[J.getMonth()],V].join(" ")}S.log=function(){console.log("%s - %s",X(),S.format.apply(S,arguments))},S.inherits=c("inherits"),S._extend=function(J,V){if(!V||!P(V))return J;for(var se=Object.keys(V),be=se.length;be--;)J[se[be]]=V[se[be]];return J};function te(J,V){return Object.prototype.hasOwnProperty.call(J,V)}}).call(this,c("_process"),typeof Ar<"u"?Ar:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":10,_process:14,inherits:9}],12:[function(c,b,S){},{}],13:[function(c,b,S){(function(x){function l(h,o){for(var u=0,g=h.length-1;g>=0;g--){var _=h[g];_==="."?h.splice(g,1):_===".."?(h.splice(g,1),u++):u&&(h.splice(g,1),u--)}if(o)for(;u--;u)h.unshift("..");return h}S.resolve=function(){for(var h="",o=!1,u=arguments.length-1;u>=-1&&!o;u--){var g=u>=0?arguments[u]:x.cwd();if(typeof g!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!g)continue;h=g+"/"+h,o=g.charAt(0)==="/"}return h=l(n(h.split("/"),function(_){return!!_}),!o).join("/"),(o?"/":"")+h||"."},S.normalize=function(h){var o=S.isAbsolute(h),u=i(h,-1)==="/";return h=l(n(h.split("/"),function(g){return!!g}),!o).join("/"),!h&&!o&&(h="."),h&&u&&(h+="/"),(o?"/":"")+h},S.isAbsolute=function(h){return h.charAt(0)==="/"},S.join=function(){var h=Array.prototype.slice.call(arguments,0);return S.normalize(n(h,function(o,u){if(typeof o!="string")throw new TypeError("Arguments to path.join must be strings");return o}).join("/"))},S.relative=function(h,o){h=S.resolve(h).substr(1),o=S.resolve(o).substr(1);function u(v){for(var d=0;d<v.length&&v[d]==="";d++);for(var C=v.length-1;C>=0&&v[C]==="";C--);return d>C?[]:v.slice(d,C-d+1)}for(var g=u(h.split("/")),_=u(o.split("/")),m=Math.min(g.length,_.length),r=m,f=0;f<m;f++)if(g[f]!==_[f]){r=f;break}for(var p=[],f=r;f<g.length;f++)p.push("..");return p=p.concat(_.slice(r)),p.join("/")},S.sep="/",S.delimiter=":",S.dirname=function(h){if(typeof h!="string"&&(h=h+""),h.length===0)return".";for(var o=h.charCodeAt(0),u=o===47,g=-1,_=!0,m=h.length-1;m>=1;--m)if(o=h.charCodeAt(m),o===47){if(!_){g=m;break}}else _=!1;return g===-1?u?"/":".":u&&g===1?"/":h.slice(0,g)};function t(h){typeof h!="string"&&(h=h+"");var o=0,u=-1,g=!0,_;for(_=h.length-1;_>=0;--_)if(h.charCodeAt(_)===47){if(!g){o=_+1;break}}else u===-1&&(g=!1,u=_+1);return u===-1?"":h.slice(o,u)}S.basename=function(h,o){var u=t(h);return o&&u.substr(-1*o.length)===o&&(u=u.substr(0,u.length-o.length)),u},S.extname=function(h){typeof h!="string"&&(h=h+"");for(var o=-1,u=0,g=-1,_=!0,m=0,r=h.length-1;r>=0;--r){var f=h.charCodeAt(r);if(f===47){if(!_){u=r+1;break}continue}g===-1&&(_=!1,g=r+1),f===46?o===-1?o=r:m!==1&&(m=1):o!==-1&&(m=-1)}return o===-1||g===-1||m===0||m===1&&o===g-1&&o===u+1?"":h.slice(o,g)};function n(h,o){if(h.filter)return h.filter(o);for(var u=[],g=0;g<h.length;g++)o(h[g],g,h)&&u.push(h[g]);return u}var i="ab".substr(-1)==="b"?function(h,o,u){return h.substr(o,u)}:function(h,o,u){return o<0&&(o=h.length+o),h.substr(o,u)}}).call(this,c("_process"))},{_process:14}],14:[function(c,b,S){var x=b.exports={},l,t;function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?l=setTimeout:l=n}catch{l=n}try{typeof clearTimeout=="function"?t=clearTimeout:t=i}catch{t=i}})();function h(d){if(l===setTimeout)return setTimeout(d,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(d,0);try{return l(d,0)}catch{try{return l.call(null,d,0)}catch{return l.call(this,d,0)}}}function o(d){if(t===clearTimeout)return clearTimeout(d);if((t===i||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(d);try{return t(d)}catch{try{return t.call(null,d)}catch{return t.call(this,d)}}}var u=[],g=!1,_,m=-1;function r(){!g||!_||(g=!1,_.length?u=_.concat(u):m=-1,u.length&&f())}function f(){if(!g){var d=h(r);g=!0;for(var C=u.length;C;){for(_=u,u=[];++m<C;)_&&_[m].run();m=-1,C=u.length}_=null,g=!1,o(d)}}x.nextTick=function(d){var C=new Array(arguments.length-1);if(arguments.length>1)for(var w=1;w<arguments.length;w++)C[w-1]=arguments[w];u.push(new p(d,C)),u.length===1&&!g&&h(f)};function p(d,C){this.fun=d,this.array=C}p.prototype.run=function(){this.fun.apply(null,this.array)},x.title="browser",x.browser=!0,x.env={},x.argv=[],x.version="",x.versions={};function v(){}x.on=v,x.addListener=v,x.once=v,x.off=v,x.removeListener=v,x.removeAllListeners=v,x.emit=v,x.prependListener=v,x.prependOnceListener=v,x.listeners=function(d){return[]},x.binding=function(d){throw new Error("process.binding is not supported")},x.cwd=function(){return"/"},x.chdir=function(d){throw new Error("process.chdir is not supported")},x.umask=function(){return 0}},{}],15:[function(c,b,S){var x=c("escodegen").generate;b.exports=function(l,t){t||(t={});var n={},i=function h(o,u){if(o.type==="Literal")return o.value;if(o.type==="UnaryExpression"){var g=h(o.argument);return o.operator==="+"?+g:o.operator==="-"?-g:o.operator==="~"?~g:o.operator==="!"?!g:n}else if(o.type==="ArrayExpression"){for(var _=[],m=0,r=o.elements.length;m<r;m++){var f=h(o.elements[m]);if(f===n)return n;_.push(f)}return _}else if(o.type==="ObjectExpression"){for(var p={},m=0;m<o.properties.length;m++){var v=o.properties[m],d=v.value===null?v.value:h(v.value);if(d===n)return n;p[v.key.value||v.key.name]=d}return p}else if(o.type==="BinaryExpression"||o.type==="LogicalExpression"){var r=h(o.left);if(r===n)return n;var C=h(o.right);if(C===n)return n;var w=o.operator;return w==="=="?r==C:w==="==="?r===C:w==="!="?r!=C:w==="!=="?r!==C:w==="+"?r+C:w==="-"?r-C:w==="*"?r*C:w==="/"?r/C:w==="%"?r%C:w==="<"?r<C:w==="<="?r<=C:w===">"?r>C:w===">="?r>=C:w==="|"?r|C:w==="&"?r&C:w==="^"?r^C:w==="&&"?r&&C:w==="||"?r||C:n}else{if(o.type==="Identifier")return{}.hasOwnProperty.call(t,o.name)?t[o.name]:n;if(o.type==="ThisExpression")return{}.hasOwnProperty.call(t,"this")?t.this:n;if(o.type==="CallExpression"){var A=h(o.callee);if(A===n||typeof A!="function")return n;var E=o.callee.object?h(o.callee.object):n;E===n&&(E=null);for(var L=[],m=0,r=o.arguments.length;m<r;m++){var f=h(o.arguments[m]);if(f===n)return n;L.push(f)}return A.apply(E,L)}else if(o.type==="MemberExpression"){var p=h(o.object);if(p===n||typeof p=="function")return n;if(o.property.type==="Identifier")return p[o.property.name];var v=h(o.property);return v===n?n:p[v]}else if(o.type==="ConditionalExpression"){var g=h(o.test);return g===n?n:h(g?o.consequent:o.alternate)}else if(o.type==="ExpressionStatement"){var g=h(o.expression);return g===n?n:g}else{if(o.type==="ReturnStatement")return h(o.argument);if(o.type==="FunctionExpression"){var D=o.body.body,R={};Object.keys(t).forEach(function(z){R[z]=t[z]});for(var m=0;m<o.params.length;m++){var I=o.params[m];if(I.type=="Identifier")t[I.name]=null;else return n}for(var m in D)if(h(D[m])===n)return n;t=R;var P=Object.keys(t),$=P.map(function(z){return t[z]});return Function(P.join(", "),"return "+x(o)).apply(null,$)}else if(o.type==="TemplateLiteral"){for(var F="",m=0;m<o.expressions.length;m++)F+=h(o.quasis[m]),F+=h(o.expressions[m]);return F+=h(o.quasis[m]),F}else if(o.type==="TaggedTemplateExpression"){var U=h(o.tag),Y=o.quasi,k=Y.quasis.map(h),H=Y.expressions.map(h);return U.apply(null,[k].concat(H))}else return o.type==="TemplateElement"?o.value.cooked:n}}}(l);return i===n?void 0:i}},{escodegen:12}],jsonpath:[function(c,b,S){b.exports=c("./lib/index")},{"./lib/index":5}]},{},["jsonpath"])("jsonpath")})})(Rv);var Fw=Rv.exports;const jw=ci(Fw);function Tl(){this.funcs=[]}Tl.prototype.subscribe=function(e){this.funcs.push(e)};Tl.prototype.next=function(...e){this.funcs.forEach(a=>a(...e))};let Wa;const Nw=new Uint8Array(16);function Hw(){if(!Wa&&(Wa=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Wa))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Wa(Nw)}const wr=[];for(let e=0;e<256;++e)wr.push((e+256).toString(16).slice(1));function Uw(e,a=0){return wr[e[a+0]]+wr[e[a+1]]+wr[e[a+2]]+wr[e[a+3]]+"-"+wr[e[a+4]]+wr[e[a+5]]+"-"+wr[e[a+6]]+wr[e[a+7]]+"-"+wr[e[a+8]]+wr[e[a+9]]+"-"+wr[e[a+10]]+wr[e[a+11]]+wr[e[a+12]]+wr[e[a+13]]+wr[e[a+14]]+wr[e[a+15]]}const Ww=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),cp={randomUUID:Ww};function kv(e,a,c){if(cp.randomUUID&&!a&&!e)return cp.randomUUID();e=e||{};const b=e.random||(e.rng||Hw)();if(b[6]=b[6]&15|64,b[8]=b[8]&63|128,a){c=c||0;for(let S=0;S<16;++S)a[c+S]=b[S];return a}return Uw(b)}const zw={props:["value","width","height","cancelString","validateString","noActions","closeCross","noScroll","headerFontSize","noCancel","noValidate","colored","disabled","position"],data(){return{resolve:null,result:null,uuid:kv(),data:null,isOpen:!1}},watch:{value(e){this.data=e}},beforeUnmount(){this.close(null)},methods:{cancel(){this.close(null)},validate(){this.disabled||this.close(this.value||!0)},close(e=null){this.isOpen=!1,this.result&&(this.result.next(e),this.result=null),this.resolve&&(this.result=null,this.resolve(e))},open(e=null){return this.isOpen=!0,this.data=e,this.result=new Tl,this.result.promise=new Promise(a=>{this.resolve=a}),this.result}}},Gw=e=>(Vt("data-v-6ab4441c"),e=e(),Kt(),e),Vw=["name","scrollable"],Kw=Gw(()=>W("i",{class:"fas fa-times","aria-hidden":"true"},null,-1)),Yw=[Kw],Xw={class:"body"},Jw={key:2,class:"button-box"};function Qw(e,a,c,b,S,x){return re(),jt(lC,{to:"body"},[at(wl,{name:"fade"},{default:rt(()=>[S.isOpen?(re(),oe("div",{key:0,class:St(["modal-root",{right:c.position==="right"}]),onClick:a[5]||(a[5]=l=>x.close())},[W("div",{name:S.uuid,height:"auto",style:Br({width:c.width||"90%"}),scrollable:c.noScroll?!c.noScroll:!0,class:"modal",onClosed:a[3]||(a[3]=l=>x.cancel()),onClick:a[4]||(a[4]=_r(()=>{},["stop"]))},[W("div",{id:"modal-content",style:Br({height:c.height||"auto"})},[c.closeCross?(re(),oe("div",{key:0,class:"close-cross",onClick:a[0]||(a[0]=l=>x.close())},Yw)):He("",!0),e.$slots.header?(re(),oe("div",{key:1,class:"title-modal",style:Br({"font-size":c.headerFontSize})},[Wr(e.$slots,"header",{data:S.data},void 0,!0)],4)):He("",!0),W("div",Xw,[Wr(e.$slots,"body",{data:S.data},void 0,!0)]),c.noActions?He("",!0):(re(),oe("div",Jw,[c.noCancel?He("",!0):(re(),oe("div",{key:0,class:"notif-button cancel",onClick:a[1]||(a[1]=l=>x.cancel())},De(c.cancelString||"Annuler"),1)),c.noValidate?He("",!0):(re(),oe("div",{key:1,class:St(["notif-button validate",{colored:c.colored}]),onClick:a[2]||(a[2]=l=>x.validate())},De(c.validateString||"Sauvegarder"),3))]))],4)],44,Vw)],2)):He("",!0)]),_:3})])}const Ji=Pt(zw,[["render",Qw],["__scopeId","data-v-6ab4441c"]]);class Rn{constructor(a){this.updateFields(a)}updateFields(a){if(!a.label)throw new Error("A service should have a label");this.label=a.label,this.description=a.description||"",this.url=a.url||"",this.groups=a.groups||[],this.urls=a.urls||[],this.git=a.git||{home:"",remote:"",branches:[],stash:[],delta:0,currentBranch:"",status:[]},this.spawnCmd=a.spawnCmd||"",this.spawnArgs=a.spawnArgs||[],this.spawnOptions=a.spawnOptions||{cwd:"",env:""},this.commands=a.commands||[],this.enabled=a.enabled||!1,this.crashed=a.crashed||!1,this.rootPath=a.rootPath||""}async updateGit(){if(this.git){this.git.branches=await this.getBranches(),this.git.currentBranch=await this.getCurrentBranch(),this.git.status=await this.getStatus();const a=await this.stashList();this.git.stash=a}}async fetch(){const{data:a}=await We.get("/stack/"+this.label+"/");return this.updateFields(a),this}async getLogs(){const{data:a}=await We.get("/logs/"+this.label+"/logs");return a}async sendTerminalPrompt(a){const{data:c}=await We.post("/logs/"+this.label+"/prompt",{...a,service:this.label});return c}async sendTerminalTerminate(a){const{data:c}=await We.post("/logs/"+this.label+"/terminate",{...a,service:this.label});return c}async clear(){const{data:a}=await We.delete("/logs/"+this.label+"/logs");return a}async autocomplete(a,{force:c}={}){const{data:b}=await We.get("/logs/"+this.label+"/autocomplete",{params:{message:a,force:!!c}});return b}async openInVsCode(){return We.get("/stack/"+this.label+"/open-in-vs-code")}async openLinkInVsCode(a){return We.get("/stack/"+this.label+"/open-link-in-vs-code",{params:{link:a}})}async openFolder(){return We.get("/stack/"+this.label+"/open-folder")}async restart(){return this.enabled=!0,localStorage.setItem(`automatic-toggle-${this.label}`,this.enabled.toString()),We.get("/stack/"+this.label+"/restart")}async start(){return this.enabled=!0,localStorage.setItem(`automatic-toggle-${this.label}`,this.enabled.toString()),We.get("/stack/"+this.label+"/start")}async stop(){return this.enabled=!1,localStorage.setItem(`automatic-toggle-${this.label}`,this.enabled.toString()),We.get("/stack/"+this.label+"/stop")}async getBranches(){const{data:a}=await We.get("/git/"+this.label+"/branches");return a}async getCurrentBranch(){const{data:a}=await We.get("/git/"+this.label+"/current-branch");return a}async addBranch(a,c){const{data:b}=await We.post("/git/"+this.label+"/add-branch",{shouldPush:c,name:a});return b}async getStatus(){const{data:a}=await We.get("/git/"+this.label+"/status");return a}async getDiff(){const{data:a}=await We.get("/git/"+this.label+"/diff");return a}async changeBranch(a){await We.post("/git/"+this.label+"/branch/"+encodeURIComponent(a)+"/change")}async deleteBranch(a){await We.delete("/git/"+this.label+"/branch/"+encodeURIComponent(a))}async gitRemoteDelta(a){this.git&&(this.git.delta=null);const{data:c}=await We.get(`/git/${this.label}/branch/${encodeURIComponent(a)}/remote-delta`);return this.git&&(this.git.delta=c),c}async gitFetch(){await We.post(`/git/${this.label}/fetch`)}async getGraph(a){const{data:c}=await We.get(`/git/${this.label}/graph`,{params:{graphOnAll:a}});return c}async reset(){await We.delete("/git/"+this.label+"/reset")}async stash(){return await We.post("/git/"+this.label+"/stash"),this.updateGit()}async stashPop(){await We.post("/git/"+this.label+"/stash-pop")}async pull(){await We.post("/git/"+this.label+"/pull")}async stashList(){const{data:a}=await We.post("/git/"+this.label+"/stash-list");return a}async checkoutFile(a){a=encodeURIComponent(a),await We.delete("/git/"+this.label+"/checkout/"+a)}async isNpm(){const{data:a}=await We.get("/npm/"+this.label);return a}async getPackageJSON(){const{data:a}=await We.get("/npm/"+this.label+"/packagejson");return a}async outdatedNpm(){const{data:a}=await We.get("/npm/"+this.label+"/outdated");return a}async getBugs(){const{data:a}=await We.get("/bugs/"+this.label);return a||[]}static async getTokens(a){const{data:c}=await We.post("/openai/tokenize",{data:a});return c||[]}static async reviewFromAi(a){const{data:c}=await We.post("/openai/review",{data:a});return c||[]}static async findSolutionFromAi(a){const{data:c}=await We.post("/openai/error",{data:a});return c||[]}static async homedir(){const{data:a}=await We.post("/fs/homedir");return a||""}}class qw{constructor(){this.notifs=Le([]),this.notifsHistory=Le([]),this.openHistory=new Tl}next(a,c,b=void 0,S=null){S||(this.next(a,c,b,this.notifsHistory.value),S=this.notifs.value);let x=S.find(l=>l.type===a&&l.serviceLabel===b&&b);if(x){const l=x.msgs.find(n=>n.label===c),t=l||{label:c,nb:0};t.nb++,l||x.msgs.unshift(t)}else{const l=S.find(i=>i.type===a&&!i.serviceLabel&&i.msgs.find(h=>h.label===c));x=l||{id:kv(),type:a,msgs:[],serviceLabel:b,nb:0};const t=x.msgs.find(i=>i.label===c),n=t||{label:c,nb:0};n.nb++,t||x.msgs.unshift(n),l||S.unshift(x)}clearTimeout(x.timeout),x.timeout=setTimeout(()=>{x&&this.remove(x)},5e3)}remove(a,c=!1){const b=this.notifs.value.indexOf(a);b>-1&&this.notifs.value.splice(b,1),c&&a.serviceLabel&&Zu.push({name:"stack-single",params:{label:a.serviceLabel}})}removeHistory(a,c){const b=this.notifsHistory.value.indexOf(a);b>-1&&this.notifsHistory.value.splice(b,1),c&&a.serviceLabel&&Zu.push({name:"stack-single",params:{label:a.serviceLabel}})}}const Dt=new qw;var zr="top",_n="bottom",mn="right",Gr="left",sh="auto",Wo=[zr,_n,mn,Gr],js="start",Fo="end",Zw="clippingParents",Dv="viewport",po="popper",ex="reference",up=Wo.reduce(function(e,a){return e.concat([a+"-"+js,a+"-"+Fo])},[]),Iv=[].concat(Wo,[sh]).reduce(function(e,a){return e.concat([a,a+"-"+js,a+"-"+Fo])},[]),tx="beforeRead",rx="read",nx="afterRead",ix="beforeMain",sx="main",ox="afterMain",ax="beforeWrite",lx="write",cx="afterWrite",ux=[tx,rx,nx,ix,sx,ox,ax,lx,cx];function zn(e){return e?(e.nodeName||"").toLowerCase():null}function rn(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var a=e.ownerDocument;return a&&a.defaultView||window}return e}function es(e){var a=rn(e).Element;return e instanceof a||e instanceof Element}function pn(e){var a=rn(e).HTMLElement;return e instanceof a||e instanceof HTMLElement}function oh(e){if(typeof ShadowRoot>"u")return!1;var a=rn(e).ShadowRoot;return e instanceof a||e instanceof ShadowRoot}function hx(e){var a=e.state;Object.keys(a.elements).forEach(function(c){var b=a.styles[c]||{},S=a.attributes[c]||{},x=a.elements[c];!pn(x)||!zn(x)||(Object.assign(x.style,b),Object.keys(S).forEach(function(l){var t=S[l];t===!1?x.removeAttribute(l):x.setAttribute(l,t===!0?"":t)}))})}function fx(e){var a=e.state,c={popper:{position:a.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(a.elements.popper.style,c.popper),a.styles=c,a.elements.arrow&&Object.assign(a.elements.arrow.style,c.arrow),function(){Object.keys(a.elements).forEach(function(b){var S=a.elements[b],x=a.attributes[b]||{},l=Object.keys(a.styles.hasOwnProperty(b)?a.styles[b]:c[b]),t=l.reduce(function(n,i){return n[i]="",n},{});!pn(S)||!zn(S)||(Object.assign(S.style,t),Object.keys(x).forEach(function(n){S.removeAttribute(n)}))})}}const Mv={name:"applyStyles",enabled:!0,phase:"write",fn:hx,effect:fx,requires:["computeStyles"]};function Hn(e){return e.split("-")[0]}var Qi=Math.max,ul=Math.min,Ns=Math.round;function $u(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(a){return a.brand+"/"+a.version}).join(" "):navigator.userAgent}function Pv(){return!/^((?!chrome|android).)*safari/i.test($u())}function Hs(e,a,c){a===void 0&&(a=!1),c===void 0&&(c=!1);var b=e.getBoundingClientRect(),S=1,x=1;a&&pn(e)&&(S=e.offsetWidth>0&&Ns(b.width)/e.offsetWidth||1,x=e.offsetHeight>0&&Ns(b.height)/e.offsetHeight||1);var l=es(e)?rn(e):window,t=l.visualViewport,n=!Pv()&&c,i=(b.left+(n&&t?t.offsetLeft:0))/S,h=(b.top+(n&&t?t.offsetTop:0))/x,o=b.width/S,u=b.height/x;return{width:o,height:u,top:h,right:i+o,bottom:h+u,left:i,x:i,y:h}}function ah(e){var a=Hs(e),c=e.offsetWidth,b=e.offsetHeight;return Math.abs(a.width-c)<=1&&(c=a.width),Math.abs(a.height-b)<=1&&(b=a.height),{x:e.offsetLeft,y:e.offsetTop,width:c,height:b}}function Bv(e,a){var c=a.getRootNode&&a.getRootNode();if(e.contains(a))return!0;if(c&&oh(c)){var b=a;do{if(b&&e.isSameNode(b))return!0;b=b.parentNode||b.host}while(b)}return!1}function ai(e){return rn(e).getComputedStyle(e)}function dx(e){return["table","td","th"].indexOf(zn(e))>=0}function Ii(e){return((es(e)?e.ownerDocument:e.document)||window.document).documentElement}function Ll(e){return zn(e)==="html"?e:e.assignedSlot||e.parentNode||(oh(e)?e.host:null)||Ii(e)}function hp(e){return!pn(e)||ai(e).position==="fixed"?null:e.offsetParent}function px(e){var a=/firefox/i.test($u()),c=/Trident/i.test($u());if(c&&pn(e)){var b=ai(e);if(b.position==="fixed")return null}var S=Ll(e);for(oh(S)&&(S=S.host);pn(S)&&["html","body"].indexOf(zn(S))<0;){var x=ai(S);if(x.transform!=="none"||x.perspective!=="none"||x.contain==="paint"||["transform","perspective"].indexOf(x.willChange)!==-1||a&&x.willChange==="filter"||a&&x.filter&&x.filter!=="none")return S;S=S.parentNode}return null}function zo(e){for(var a=rn(e),c=hp(e);c&&dx(c)&&ai(c).position==="static";)c=hp(c);return c&&(zn(c)==="html"||zn(c)==="body"&&ai(c).position==="static")?a:c||px(e)||a}function lh(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Lo(e,a,c){return Qi(e,ul(a,c))}function vx(e,a,c){var b=Lo(e,a,c);return b>c?c:b}function $v(){return{top:0,right:0,bottom:0,left:0}}function Fv(e){return Object.assign({},$v(),e)}function jv(e,a){return a.reduce(function(c,b){return c[b]=e,c},{})}var gx=function(a,c){return a=typeof a=="function"?a(Object.assign({},c.rects,{placement:c.placement})):a,Fv(typeof a!="number"?a:jv(a,Wo))};function _x(e){var a,c=e.state,b=e.name,S=e.options,x=c.elements.arrow,l=c.modifiersData.popperOffsets,t=Hn(c.placement),n=lh(t),i=[Gr,mn].indexOf(t)>=0,h=i?"height":"width";if(!(!x||!l)){var o=gx(S.padding,c),u=ah(x),g=n==="y"?zr:Gr,_=n==="y"?_n:mn,m=c.rects.reference[h]+c.rects.reference[n]-l[n]-c.rects.popper[h],r=l[n]-c.rects.reference[n],f=zo(x),p=f?n==="y"?f.clientHeight||0:f.clientWidth||0:0,v=m/2-r/2,d=o[g],C=p-u[h]-o[_],w=p/2-u[h]/2+v,A=Lo(d,w,C),E=n;c.modifiersData[b]=(a={},a[E]=A,a.centerOffset=A-w,a)}}function mx(e){var a=e.state,c=e.options,b=c.element,S=b===void 0?"[data-popper-arrow]":b;S!=null&&(typeof S=="string"&&(S=a.elements.popper.querySelector(S),!S)||Bv(a.elements.popper,S)&&(a.elements.arrow=S))}const yx={name:"arrow",enabled:!0,phase:"main",fn:_x,effect:mx,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Us(e){return e.split("-")[1]}var bx={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Sx(e,a){var c=e.x,b=e.y,S=a.devicePixelRatio||1;return{x:Ns(c*S)/S||0,y:Ns(b*S)/S||0}}function fp(e){var a,c=e.popper,b=e.popperRect,S=e.placement,x=e.variation,l=e.offsets,t=e.position,n=e.gpuAcceleration,i=e.adaptive,h=e.roundOffsets,o=e.isFixed,u=l.x,g=u===void 0?0:u,_=l.y,m=_===void 0?0:_,r=typeof h=="function"?h({x:g,y:m}):{x:g,y:m};g=r.x,m=r.y;var f=l.hasOwnProperty("x"),p=l.hasOwnProperty("y"),v=Gr,d=zr,C=window;if(i){var w=zo(c),A="clientHeight",E="clientWidth";if(w===rn(c)&&(w=Ii(c),ai(w).position!=="static"&&t==="absolute"&&(A="scrollHeight",E="scrollWidth")),w=w,S===zr||(S===Gr||S===mn)&&x===Fo){d=_n;var L=o&&w===C&&C.visualViewport?C.visualViewport.height:w[A];m-=L-b.height,m*=n?1:-1}if(S===Gr||(S===zr||S===_n)&&x===Fo){v=mn;var D=o&&w===C&&C.visualViewport?C.visualViewport.width:w[E];g-=D-b.width,g*=n?1:-1}}var R=Object.assign({position:t},i&&bx),I=h===!0?Sx({x:g,y:m},rn(c)):{x:g,y:m};if(g=I.x,m=I.y,n){var P;return Object.assign({},R,(P={},P[d]=p?"0":"",P[v]=f?"0":"",P.transform=(C.devicePixelRatio||1)<=1?"translate("+g+"px, "+m+"px)":"translate3d("+g+"px, "+m+"px, 0)",P))}return Object.assign({},R,(a={},a[d]=p?m+"px":"",a[v]=f?g+"px":"",a.transform="",a))}function Cx(e){var a=e.state,c=e.options,b=c.gpuAcceleration,S=b===void 0?!0:b,x=c.adaptive,l=x===void 0?!0:x,t=c.roundOffsets,n=t===void 0?!0:t,i={placement:Hn(a.placement),variation:Us(a.placement),popper:a.elements.popper,popperRect:a.rects.popper,gpuAcceleration:S,isFixed:a.options.strategy==="fixed"};a.modifiersData.popperOffsets!=null&&(a.styles.popper=Object.assign({},a.styles.popper,fp(Object.assign({},i,{offsets:a.modifiersData.popperOffsets,position:a.options.strategy,adaptive:l,roundOffsets:n})))),a.modifiersData.arrow!=null&&(a.styles.arrow=Object.assign({},a.styles.arrow,fp(Object.assign({},i,{offsets:a.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:n})))),a.attributes.popper=Object.assign({},a.attributes.popper,{"data-popper-placement":a.placement})}const wx={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Cx,data:{}};var za={passive:!0};function xx(e){var a=e.state,c=e.instance,b=e.options,S=b.scroll,x=S===void 0?!0:S,l=b.resize,t=l===void 0?!0:l,n=rn(a.elements.popper),i=[].concat(a.scrollParents.reference,a.scrollParents.popper);return x&&i.forEach(function(h){h.addEventListener("scroll",c.update,za)}),t&&n.addEventListener("resize",c.update,za),function(){x&&i.forEach(function(h){h.removeEventListener("scroll",c.update,za)}),t&&n.removeEventListener("resize",c.update,za)}}const Ex={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:xx,data:{}};var Ax={left:"right",right:"left",bottom:"top",top:"bottom"};function el(e){return e.replace(/left|right|bottom|top/g,function(a){return Ax[a]})}var Tx={start:"end",end:"start"};function dp(e){return e.replace(/start|end/g,function(a){return Tx[a]})}function ch(e){var a=rn(e),c=a.pageXOffset,b=a.pageYOffset;return{scrollLeft:c,scrollTop:b}}function uh(e){return Hs(Ii(e)).left+ch(e).scrollLeft}function Lx(e,a){var c=rn(e),b=Ii(e),S=c.visualViewport,x=b.clientWidth,l=b.clientHeight,t=0,n=0;if(S){x=S.width,l=S.height;var i=Pv();(i||!i&&a==="fixed")&&(t=S.offsetLeft,n=S.offsetTop)}return{width:x,height:l,x:t+uh(e),y:n}}function Ox(e){var a,c=Ii(e),b=ch(e),S=(a=e.ownerDocument)==null?void 0:a.body,x=Qi(c.scrollWidth,c.clientWidth,S?S.scrollWidth:0,S?S.clientWidth:0),l=Qi(c.scrollHeight,c.clientHeight,S?S.scrollHeight:0,S?S.clientHeight:0),t=-b.scrollLeft+uh(e),n=-b.scrollTop;return ai(S||c).direction==="rtl"&&(t+=Qi(c.clientWidth,S?S.clientWidth:0)-x),{width:x,height:l,x:t,y:n}}function hh(e){var a=ai(e),c=a.overflow,b=a.overflowX,S=a.overflowY;return/auto|scroll|overlay|hidden/.test(c+S+b)}function Nv(e){return["html","body","#document"].indexOf(zn(e))>=0?e.ownerDocument.body:pn(e)&&hh(e)?e:Nv(Ll(e))}function Oo(e,a){var c;a===void 0&&(a=[]);var b=Nv(e),S=b===((c=e.ownerDocument)==null?void 0:c.body),x=rn(b),l=S?[x].concat(x.visualViewport||[],hh(b)?b:[]):b,t=a.concat(l);return S?t:t.concat(Oo(Ll(l)))}function Fu(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Rx(e,a){var c=Hs(e,!1,a==="fixed");return c.top=c.top+e.clientTop,c.left=c.left+e.clientLeft,c.bottom=c.top+e.clientHeight,c.right=c.left+e.clientWidth,c.width=e.clientWidth,c.height=e.clientHeight,c.x=c.left,c.y=c.top,c}function pp(e,a,c){return a===Dv?Fu(Lx(e,c)):es(a)?Rx(a,c):Fu(Ox(Ii(e)))}function kx(e){var a=Oo(Ll(e)),c=["absolute","fixed"].indexOf(ai(e).position)>=0,b=c&&pn(e)?zo(e):e;return es(b)?a.filter(function(S){return es(S)&&Bv(S,b)&&zn(S)!=="body"}):[]}function Dx(e,a,c,b){var S=a==="clippingParents"?kx(e):[].concat(a),x=[].concat(S,[c]),l=x[0],t=x.reduce(function(n,i){var h=pp(e,i,b);return n.top=Qi(h.top,n.top),n.right=ul(h.right,n.right),n.bottom=ul(h.bottom,n.bottom),n.left=Qi(h.left,n.left),n},pp(e,l,b));return t.width=t.right-t.left,t.height=t.bottom-t.top,t.x=t.left,t.y=t.top,t}function Hv(e){var a=e.reference,c=e.element,b=e.placement,S=b?Hn(b):null,x=b?Us(b):null,l=a.x+a.width/2-c.width/2,t=a.y+a.height/2-c.height/2,n;switch(S){case zr:n={x:l,y:a.y-c.height};break;case _n:n={x:l,y:a.y+a.height};break;case mn:n={x:a.x+a.width,y:t};break;case Gr:n={x:a.x-c.width,y:t};break;default:n={x:a.x,y:a.y}}var i=S?lh(S):null;if(i!=null){var h=i==="y"?"height":"width";switch(x){case js:n[i]=n[i]-(a[h]/2-c[h]/2);break;case Fo:n[i]=n[i]+(a[h]/2-c[h]/2);break}}return n}function jo(e,a){a===void 0&&(a={});var c=a,b=c.placement,S=b===void 0?e.placement:b,x=c.strategy,l=x===void 0?e.strategy:x,t=c.boundary,n=t===void 0?Zw:t,i=c.rootBoundary,h=i===void 0?Dv:i,o=c.elementContext,u=o===void 0?po:o,g=c.altBoundary,_=g===void 0?!1:g,m=c.padding,r=m===void 0?0:m,f=Fv(typeof r!="number"?r:jv(r,Wo)),p=u===po?ex:po,v=e.rects.popper,d=e.elements[_?p:u],C=Dx(es(d)?d:d.contextElement||Ii(e.elements.popper),n,h,l),w=Hs(e.elements.reference),A=Hv({reference:w,element:v,strategy:"absolute",placement:S}),E=Fu(Object.assign({},v,A)),L=u===po?E:w,D={top:C.top-L.top+f.top,bottom:L.bottom-C.bottom+f.bottom,left:C.left-L.left+f.left,right:L.right-C.right+f.right},R=e.modifiersData.offset;if(u===po&&R){var I=R[S];Object.keys(D).forEach(function(P){var $=[mn,_n].indexOf(P)>=0?1:-1,F=[zr,_n].indexOf(P)>=0?"y":"x";D[P]+=I[F]*$})}return D}function Ix(e,a){a===void 0&&(a={});var c=a,b=c.placement,S=c.boundary,x=c.rootBoundary,l=c.padding,t=c.flipVariations,n=c.allowedAutoPlacements,i=n===void 0?Iv:n,h=Us(b),o=h?t?up:up.filter(function(_){return Us(_)===h}):Wo,u=o.filter(function(_){return i.indexOf(_)>=0});u.length===0&&(u=o);var g=u.reduce(function(_,m){return _[m]=jo(e,{placement:m,boundary:S,rootBoundary:x,padding:l})[Hn(m)],_},{});return Object.keys(g).sort(function(_,m){return g[_]-g[m]})}function Mx(e){if(Hn(e)===sh)return[];var a=el(e);return[dp(e),a,dp(a)]}function Px(e){var a=e.state,c=e.options,b=e.name;if(!a.modifiersData[b]._skip){for(var S=c.mainAxis,x=S===void 0?!0:S,l=c.altAxis,t=l===void 0?!0:l,n=c.fallbackPlacements,i=c.padding,h=c.boundary,o=c.rootBoundary,u=c.altBoundary,g=c.flipVariations,_=g===void 0?!0:g,m=c.allowedAutoPlacements,r=a.options.placement,f=Hn(r),p=f===r,v=n||(p||!_?[el(r)]:Mx(r)),d=[r].concat(v).reduce(function(V,se){return V.concat(Hn(se)===sh?Ix(a,{placement:se,boundary:h,rootBoundary:o,padding:i,flipVariations:_,allowedAutoPlacements:m}):se)},[]),C=a.rects.reference,w=a.rects.popper,A=new Map,E=!0,L=d[0],D=0;D<d.length;D++){var R=d[D],I=Hn(R),P=Us(R)===js,$=[zr,_n].indexOf(I)>=0,F=$?"width":"height",U=jo(a,{placement:R,boundary:h,rootBoundary:o,altBoundary:u,padding:i}),Y=$?P?mn:Gr:P?_n:zr;C[F]>w[F]&&(Y=el(Y));var k=el(Y),H=[];if(x&&H.push(U[I]<=0),t&&H.push(U[Y]<=0,U[k]<=0),H.every(function(V){return V})){L=R,E=!1;break}A.set(R,H)}if(E)for(var z=_?3:1,X=function(se){var be=d.find(function(B){var j=A.get(B);if(j)return j.slice(0,se).every(function(N){return N})});if(be)return L=be,"break"},te=z;te>0;te--){var J=X(te);if(J==="break")break}a.placement!==L&&(a.modifiersData[b]._skip=!0,a.placement=L,a.reset=!0)}}const Bx={name:"flip",enabled:!0,phase:"main",fn:Px,requiresIfExists:["offset"],data:{_skip:!1}};function vp(e,a,c){return c===void 0&&(c={x:0,y:0}),{top:e.top-a.height-c.y,right:e.right-a.width+c.x,bottom:e.bottom-a.height+c.y,left:e.left-a.width-c.x}}function gp(e){return[zr,mn,_n,Gr].some(function(a){return e[a]>=0})}function $x(e){var a=e.state,c=e.name,b=a.rects.reference,S=a.rects.popper,x=a.modifiersData.preventOverflow,l=jo(a,{elementContext:"reference"}),t=jo(a,{altBoundary:!0}),n=vp(l,b),i=vp(t,S,x),h=gp(n),o=gp(i);a.modifiersData[c]={referenceClippingOffsets:n,popperEscapeOffsets:i,isReferenceHidden:h,hasPopperEscaped:o},a.attributes.popper=Object.assign({},a.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":o})}const Fx={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:$x};function jx(e,a,c){var b=Hn(e),S=[Gr,zr].indexOf(b)>=0?-1:1,x=typeof c=="function"?c(Object.assign({},a,{placement:e})):c,l=x[0],t=x[1];return l=l||0,t=(t||0)*S,[Gr,mn].indexOf(b)>=0?{x:t,y:l}:{x:l,y:t}}function Nx(e){var a=e.state,c=e.options,b=e.name,S=c.offset,x=S===void 0?[0,0]:S,l=Iv.reduce(function(h,o){return h[o]=jx(o,a.rects,x),h},{}),t=l[a.placement],n=t.x,i=t.y;a.modifiersData.popperOffsets!=null&&(a.modifiersData.popperOffsets.x+=n,a.modifiersData.popperOffsets.y+=i),a.modifiersData[b]=l}const Hx={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Nx};function Ux(e){var a=e.state,c=e.name;a.modifiersData[c]=Hv({reference:a.rects.reference,element:a.rects.popper,strategy:"absolute",placement:a.placement})}const Wx={name:"popperOffsets",enabled:!0,phase:"read",fn:Ux,data:{}};function zx(e){return e==="x"?"y":"x"}function Gx(e){var a=e.state,c=e.options,b=e.name,S=c.mainAxis,x=S===void 0?!0:S,l=c.altAxis,t=l===void 0?!1:l,n=c.boundary,i=c.rootBoundary,h=c.altBoundary,o=c.padding,u=c.tether,g=u===void 0?!0:u,_=c.tetherOffset,m=_===void 0?0:_,r=jo(a,{boundary:n,rootBoundary:i,padding:o,altBoundary:h}),f=Hn(a.placement),p=Us(a.placement),v=!p,d=lh(f),C=zx(d),w=a.modifiersData.popperOffsets,A=a.rects.reference,E=a.rects.popper,L=typeof m=="function"?m(Object.assign({},a.rects,{placement:a.placement})):m,D=typeof L=="number"?{mainAxis:L,altAxis:L}:Object.assign({mainAxis:0,altAxis:0},L),R=a.modifiersData.offset?a.modifiersData.offset[a.placement]:null,I={x:0,y:0};if(w){if(x){var P,$=d==="y"?zr:Gr,F=d==="y"?_n:mn,U=d==="y"?"height":"width",Y=w[d],k=Y+r[$],H=Y-r[F],z=g?-E[U]/2:0,X=p===js?A[U]:E[U],te=p===js?-E[U]:-A[U],J=a.elements.arrow,V=g&&J?ah(J):{width:0,height:0},se=a.modifiersData["arrow#persistent"]?a.modifiersData["arrow#persistent"].padding:$v(),be=se[$],B=se[F],j=Lo(0,A[U],V[U]),N=v?A[U]/2-z-j-be-D.mainAxis:X-j-be-D.mainAxis,Q=v?-A[U]/2+z+j+B+D.mainAxis:te+j+B+D.mainAxis,ce=a.elements.arrow&&zo(a.elements.arrow),ue=ce?d==="y"?ce.clientTop||0:ce.clientLeft||0:0,pe=(P=R==null?void 0:R[d])!=null?P:0,Te=Y+N-pe-ue,ve=Y+Q-pe,Ce=Lo(g?ul(k,Te):k,Y,g?Qi(H,ve):H);w[d]=Ce,I[d]=Ce-Y}if(t){var xe,qe=d==="x"?zr:Gr,lt=d==="x"?_n:mn,Ve=w[C],tt=C==="y"?"height":"width",Be=Ve+r[qe],Qe=Ve-r[lt],Fe=[zr,Gr].indexOf(f)!==-1,Ge=(xe=R==null?void 0:R[C])!=null?xe:0,ot=Fe?Be:Ve-A[tt]-E[tt]-Ge+D.altAxis,Ye=Fe?Ve+A[tt]+E[tt]-Ge-D.altAxis:Qe,Xe=g&&Fe?vx(ot,Ve,Ye):Lo(g?ot:Be,Ve,g?Ye:Qe);w[C]=Xe,I[C]=Xe-Ve}a.modifiersData[b]=I}}const Vx={name:"preventOverflow",enabled:!0,phase:"main",fn:Gx,requiresIfExists:["offset"]};function Kx(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Yx(e){return e===rn(e)||!pn(e)?ch(e):Kx(e)}function Xx(e){var a=e.getBoundingClientRect(),c=Ns(a.width)/e.offsetWidth||1,b=Ns(a.height)/e.offsetHeight||1;return c!==1||b!==1}function Jx(e,a,c){c===void 0&&(c=!1);var b=pn(a),S=pn(a)&&Xx(a),x=Ii(a),l=Hs(e,S,c),t={scrollLeft:0,scrollTop:0},n={x:0,y:0};return(b||!b&&!c)&&((zn(a)!=="body"||hh(x))&&(t=Yx(a)),pn(a)?(n=Hs(a,!0),n.x+=a.clientLeft,n.y+=a.clientTop):x&&(n.x=uh(x))),{x:l.left+t.scrollLeft-n.x,y:l.top+t.scrollTop-n.y,width:l.width,height:l.height}}function Qx(e){var a=new Map,c=new Set,b=[];e.forEach(function(x){a.set(x.name,x)});function S(x){c.add(x.name);var l=[].concat(x.requires||[],x.requiresIfExists||[]);l.forEach(function(t){if(!c.has(t)){var n=a.get(t);n&&S(n)}}),b.push(x)}return e.forEach(function(x){c.has(x.name)||S(x)}),b}function qx(e){var a=Qx(e);return ux.reduce(function(c,b){return c.concat(a.filter(function(S){return S.phase===b}))},[])}function Zx(e){var a;return function(){return a||(a=new Promise(function(c){Promise.resolve().then(function(){a=void 0,c(e())})})),a}}function eE(e){var a=e.reduce(function(c,b){var S=c[b.name];return c[b.name]=S?Object.assign({},S,b,{options:Object.assign({},S.options,b.options),data:Object.assign({},S.data,b.data)}):b,c},{});return Object.keys(a).map(function(c){return a[c]})}var _p={placement:"bottom",modifiers:[],strategy:"absolute"};function mp(){for(var e=arguments.length,a=new Array(e),c=0;c<e;c++)a[c]=arguments[c];return!a.some(function(b){return!(b&&typeof b.getBoundingClientRect=="function")})}function tE(e){e===void 0&&(e={});var a=e,c=a.defaultModifiers,b=c===void 0?[]:c,S=a.defaultOptions,x=S===void 0?_p:S;return function(t,n,i){i===void 0&&(i=x);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},_p,x),modifiersData:{},elements:{reference:t,popper:n},attributes:{},styles:{}},o=[],u=!1,g={state:h,setOptions:function(f){var p=typeof f=="function"?f(h.options):f;m(),h.options=Object.assign({},x,h.options,p),h.scrollParents={reference:es(t)?Oo(t):t.contextElement?Oo(t.contextElement):[],popper:Oo(n)};var v=qx(eE([].concat(b,h.options.modifiers)));return h.orderedModifiers=v.filter(function(d){return d.enabled}),_(),g.update()},forceUpdate:function(){if(!u){var f=h.elements,p=f.reference,v=f.popper;if(mp(p,v)){h.rects={reference:Jx(p,zo(v),h.options.strategy==="fixed"),popper:ah(v)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(D){return h.modifiersData[D.name]=Object.assign({},D.data)});for(var d=0;d<h.orderedModifiers.length;d++){if(h.reset===!0){h.reset=!1,d=-1;continue}var C=h.orderedModifiers[d],w=C.fn,A=C.options,E=A===void 0?{}:A,L=C.name;typeof w=="function"&&(h=w({state:h,options:E,name:L,instance:g})||h)}}}},update:Zx(function(){return new Promise(function(r){g.forceUpdate(),r(h)})}),destroy:function(){m(),u=!0}};if(!mp(t,n))return g;g.setOptions(i).then(function(r){!u&&i.onFirstUpdate&&i.onFirstUpdate(r)});function _(){h.orderedModifiers.forEach(function(r){var f=r.name,p=r.options,v=p===void 0?{}:p,d=r.effect;if(typeof d=="function"){var C=d({state:h,name:f,instance:g,options:v}),w=function(){};o.push(C||w)}})}function m(){o.forEach(function(r){return r()}),o=[]}return g}}var rE=[Ex,Wx,wx,Mv,Hx,Bx,Vx,yx,Fx],nE=tE({defaultModifiers:rE}),iE="tippy-box",Uv="tippy-content",sE="tippy-backdrop",Wv="tippy-arrow",zv="tippy-svg-arrow",Ki={passive:!0,capture:!0},Gv=function(){return document.body};function vu(e,a,c){if(Array.isArray(e)){var b=e[a];return b??(Array.isArray(c)?c[a]:c)}return e}function fh(e,a){var c={}.toString.call(e);return c.indexOf("[object")===0&&c.indexOf(a+"]")>-1}function Vv(e,a){return typeof e=="function"?e.apply(void 0,a):e}function yp(e,a){if(a===0)return e;var c;return function(b){clearTimeout(c),c=setTimeout(function(){e(b)},a)}}function oE(e){return e.split(/\s+/).filter(Boolean)}function Is(e){return[].concat(e)}function bp(e,a){e.indexOf(a)===-1&&e.push(a)}function aE(e){return e.filter(function(a,c){return e.indexOf(a)===c})}function lE(e){return e.split("-")[0]}function hl(e){return[].slice.call(e)}function Sp(e){return Object.keys(e).reduce(function(a,c){return e[c]!==void 0&&(a[c]=e[c]),a},{})}function Ro(){return document.createElement("div")}function Ol(e){return["Element","Fragment"].some(function(a){return fh(e,a)})}function cE(e){return fh(e,"NodeList")}function uE(e){return fh(e,"MouseEvent")}function hE(e){return!!(e&&e._tippy&&e._tippy.reference===e)}function fE(e){return Ol(e)?[e]:cE(e)?hl(e):Array.isArray(e)?e:hl(document.querySelectorAll(e))}function gu(e,a){e.forEach(function(c){c&&(c.style.transitionDuration=a+"ms")})}function Cp(e,a){e.forEach(function(c){c&&c.setAttribute("data-state",a)})}function dE(e){var a,c=Is(e),b=c[0];return b!=null&&(a=b.ownerDocument)!=null&&a.body?b.ownerDocument:document}function pE(e,a){var c=a.clientX,b=a.clientY;return e.every(function(S){var x=S.popperRect,l=S.popperState,t=S.props,n=t.interactiveBorder,i=lE(l.placement),h=l.modifiersData.offset;if(!h)return!0;var o=i==="bottom"?h.top.y:0,u=i==="top"?h.bottom.y:0,g=i==="right"?h.left.x:0,_=i==="left"?h.right.x:0,m=x.top-b+o>n,r=b-x.bottom-u>n,f=x.left-c+g>n,p=c-x.right-_>n;return m||r||f||p})}function _u(e,a,c){var b=a+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(S){e[b](S,c)})}function wp(e,a){for(var c=a;c;){var b;if(e.contains(c))return!0;c=c.getRootNode==null||(b=c.getRootNode())==null?void 0:b.host}return!1}var Fn={isTouch:!1},xp=0;function vE(){Fn.isTouch||(Fn.isTouch=!0,window.performance&&document.addEventListener("mousemove",Kv))}function Kv(){var e=performance.now();e-xp<20&&(Fn.isTouch=!1,document.removeEventListener("mousemove",Kv)),xp=e}function gE(){var e=document.activeElement;if(hE(e)){var a=e._tippy;e.blur&&!a.state.isVisible&&e.blur()}}function _E(){document.addEventListener("touchstart",vE,Ki),window.addEventListener("blur",gE)}var mE=typeof window<"u"&&typeof document<"u",yE=mE?!!window.msCrypto:!1,bE={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},SE={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},On=Object.assign({appendTo:Gv,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},bE,SE),CE=Object.keys(On),wE=function(a){var c=Object.keys(a);c.forEach(function(b){On[b]=a[b]})};function Yv(e){var a=e.plugins||[],c=a.reduce(function(b,S){var x=S.name,l=S.defaultValue;if(x){var t;b[x]=e[x]!==void 0?e[x]:(t=On[x])!=null?t:l}return b},{});return Object.assign({},e,c)}function xE(e,a){var c=a?Object.keys(Yv(Object.assign({},On,{plugins:a}))):CE,b=c.reduce(function(S,x){var l=(e.getAttribute("data-tippy-"+x)||"").trim();if(!l)return S;if(x==="content")S[x]=l;else try{S[x]=JSON.parse(l)}catch{S[x]=l}return S},{});return b}function Ep(e,a){var c=Object.assign({},a,{content:Vv(a.content,[e])},a.ignoreAttributes?{}:xE(e,a.plugins));return c.aria=Object.assign({},On.aria,c.aria),c.aria={expanded:c.aria.expanded==="auto"?a.interactive:c.aria.expanded,content:c.aria.content==="auto"?a.interactive?null:"describedby":c.aria.content},c}var EE=function(){return"innerHTML"};function ju(e,a){e[EE()]=a}function Ap(e){var a=Ro();return e===!0?a.className=Wv:(a.className=zv,Ol(e)?a.appendChild(e):ju(a,e)),a}function Tp(e,a){Ol(a.content)?(ju(e,""),e.appendChild(a.content)):typeof a.content!="function"&&(a.allowHTML?ju(e,a.content):e.textContent=a.content)}function Nu(e){var a=e.firstElementChild,c=hl(a.children);return{box:a,content:c.find(function(b){return b.classList.contains(Uv)}),arrow:c.find(function(b){return b.classList.contains(Wv)||b.classList.contains(zv)}),backdrop:c.find(function(b){return b.classList.contains(sE)})}}function Xv(e){var a=Ro(),c=Ro();c.className=iE,c.setAttribute("data-state","hidden"),c.setAttribute("tabindex","-1");var b=Ro();b.className=Uv,b.setAttribute("data-state","hidden"),Tp(b,e.props),a.appendChild(c),c.appendChild(b),S(e.props,e.props);function S(x,l){var t=Nu(a),n=t.box,i=t.content,h=t.arrow;l.theme?n.setAttribute("data-theme",l.theme):n.removeAttribute("data-theme"),typeof l.animation=="string"?n.setAttribute("data-animation",l.animation):n.removeAttribute("data-animation"),l.inertia?n.setAttribute("data-inertia",""):n.removeAttribute("data-inertia"),n.style.maxWidth=typeof l.maxWidth=="number"?l.maxWidth+"px":l.maxWidth,l.role?n.setAttribute("role",l.role):n.removeAttribute("role"),(x.content!==l.content||x.allowHTML!==l.allowHTML)&&Tp(i,e.props),l.arrow?h?x.arrow!==l.arrow&&(n.removeChild(h),n.appendChild(Ap(l.arrow))):n.appendChild(Ap(l.arrow)):h&&n.removeChild(h)}return{popper:a,onUpdate:S}}Xv.$$tippy=!0;var AE=1,Ga=[],mu=[];function TE(e,a){var c=Ep(e,Object.assign({},On,Yv(Sp(a)))),b,S,x,l=!1,t=!1,n=!1,i=!1,h,o,u,g=[],_=yp(Te,c.interactiveDebounce),m,r=AE++,f=null,p=aE(c.plugins),v={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},d={id:r,reference:e,popper:Ro(),popperInstance:f,props:c,state:v,plugins:p,clearDelayTimeouts:ot,setProps:Ye,setContent:Xe,show:_e,hide:le,hideWithInteractivity:me,enable:Fe,disable:Ge,unmount:fe,destroy:Re};if(!c.render)return d;var C=c.render(d),w=C.popper,A=C.onUpdate;w.setAttribute("data-tippy-root",""),w.id="tippy-"+d.id,d.popper=w,e._tippy=d,w._tippy=d;var E=p.map(function(q){return q.fn(d)}),L=e.hasAttribute("aria-expanded");return ce(),z(),Y(),k("onCreate",[d]),c.showOnCreate&&Be(),w.addEventListener("mouseenter",function(){d.props.interactive&&d.state.isVisible&&d.clearDelayTimeouts()}),w.addEventListener("mouseleave",function(){d.props.interactive&&d.props.trigger.indexOf("mouseenter")>=0&&$().addEventListener("mousemove",_)}),d;function D(){var q=d.props.touch;return Array.isArray(q)?q:[q,0]}function R(){return D()[0]==="hold"}function I(){var q;return!!((q=d.props.render)!=null&&q.$$tippy)}function P(){return m||e}function $(){var q=P().parentNode;return q?dE(q):document}function F(){return Nu(w)}function U(q){return d.state.isMounted&&!d.state.isVisible||Fn.isTouch||h&&h.type==="focus"?0:vu(d.props.delay,q?0:1,On.delay)}function Y(q){q===void 0&&(q=!1),w.style.pointerEvents=d.props.interactive&&!q?"":"none",w.style.zIndex=""+d.props.zIndex}function k(q,ne,de){if(de===void 0&&(de=!0),E.forEach(function(Ee){Ee[q]&&Ee[q].apply(Ee,ne)}),de){var we;(we=d.props)[q].apply(we,ne)}}function H(){var q=d.props.aria;if(q.content){var ne="aria-"+q.content,de=w.id,we=Is(d.props.triggerTarget||e);we.forEach(function(Ee){var Ie=Ee.getAttribute(ne);if(d.state.isVisible)Ee.setAttribute(ne,Ie?Ie+" "+de:de);else{var je=Ie&&Ie.replace(de,"").trim();je?Ee.setAttribute(ne,je):Ee.removeAttribute(ne)}})}}function z(){if(!(L||!d.props.aria.expanded)){var q=Is(d.props.triggerTarget||e);q.forEach(function(ne){d.props.interactive?ne.setAttribute("aria-expanded",d.state.isVisible&&ne===P()?"true":"false"):ne.removeAttribute("aria-expanded")})}}function X(){$().removeEventListener("mousemove",_),Ga=Ga.filter(function(q){return q!==_})}function te(q){if(!(Fn.isTouch&&(n||q.type==="mousedown"))){var ne=q.composedPath&&q.composedPath()[0]||q.target;if(!(d.props.interactive&&wp(w,ne))){if(Is(d.props.triggerTarget||e).some(function(de){return wp(de,ne)})){if(Fn.isTouch||d.state.isVisible&&d.props.trigger.indexOf("click")>=0)return}else k("onClickOutside",[d,q]);d.props.hideOnClick===!0&&(d.clearDelayTimeouts(),d.hide(),t=!0,setTimeout(function(){t=!1}),d.state.isMounted||be())}}}function J(){n=!0}function V(){n=!1}function se(){var q=$();q.addEventListener("mousedown",te,!0),q.addEventListener("touchend",te,Ki),q.addEventListener("touchstart",V,Ki),q.addEventListener("touchmove",J,Ki)}function be(){var q=$();q.removeEventListener("mousedown",te,!0),q.removeEventListener("touchend",te,Ki),q.removeEventListener("touchstart",V,Ki),q.removeEventListener("touchmove",J,Ki)}function B(q,ne){N(q,function(){!d.state.isVisible&&w.parentNode&&w.parentNode.contains(w)&&ne()})}function j(q,ne){N(q,ne)}function N(q,ne){var de=F().box;function we(Ee){Ee.target===de&&(_u(de,"remove",we),ne())}if(q===0)return ne();_u(de,"remove",o),_u(de,"add",we),o=we}function Q(q,ne,de){de===void 0&&(de=!1);var we=Is(d.props.triggerTarget||e);we.forEach(function(Ee){Ee.addEventListener(q,ne,de),g.push({node:Ee,eventType:q,handler:ne,options:de})})}function ce(){R()&&(Q("touchstart",pe,{passive:!0}),Q("touchend",ve,{passive:!0})),oE(d.props.trigger).forEach(function(q){if(q!=="manual")switch(Q(q,pe),q){case"mouseenter":Q("mouseleave",ve);break;case"focus":Q(yE?"focusout":"blur",Ce);break;case"focusin":Q("focusout",Ce);break}})}function ue(){g.forEach(function(q){var ne=q.node,de=q.eventType,we=q.handler,Ee=q.options;ne.removeEventListener(de,we,Ee)}),g=[]}function pe(q){var ne,de=!1;if(!(!d.state.isEnabled||xe(q)||t)){var we=((ne=h)==null?void 0:ne.type)==="focus";h=q,m=q.currentTarget,z(),!d.state.isVisible&&uE(q)&&Ga.forEach(function(Ee){return Ee(q)}),q.type==="click"&&(d.props.trigger.indexOf("mouseenter")<0||l)&&d.props.hideOnClick!==!1&&d.state.isVisible?de=!0:Be(q),q.type==="click"&&(l=!de),de&&!we&&Qe(q)}}function Te(q){var ne=q.target,de=P().contains(ne)||w.contains(ne);if(!(q.type==="mousemove"&&de)){var we=tt().concat(w).map(function(Ee){var Ie,je=Ee._tippy,Ne=(Ie=je.popperInstance)==null?void 0:Ie.state;return Ne?{popperRect:Ee.getBoundingClientRect(),popperState:Ne,props:c}:null}).filter(Boolean);pE(we,q)&&(X(),Qe(q))}}function ve(q){var ne=xe(q)||d.props.trigger.indexOf("click")>=0&&l;if(!ne){if(d.props.interactive){d.hideWithInteractivity(q);return}Qe(q)}}function Ce(q){d.props.trigger.indexOf("focusin")<0&&q.target!==P()||d.props.interactive&&q.relatedTarget&&w.contains(q.relatedTarget)||Qe(q)}function xe(q){return Fn.isTouch?R()!==q.type.indexOf("touch")>=0:!1}function qe(){lt();var q=d.props,ne=q.popperOptions,de=q.placement,we=q.offset,Ee=q.getReferenceClientRect,Ie=q.moveTransition,je=I()?Nu(w).arrow:null,Ne=Ee?{getBoundingClientRect:Ee,contextElement:Ee.contextElement||P()}:e,et={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(hr){var mr=hr.state;if(I()){var Yn=F(),di=Yn.box;["placement","reference-hidden","escaped"].forEach(function(pi){pi==="placement"?di.setAttribute("data-placement",mr.placement):mr.attributes.popper["data-popper-"+pi]?di.setAttribute("data-"+pi,""):di.removeAttribute("data-"+pi)}),mr.attributes.popper={}}}},dt=[{name:"offset",options:{offset:we}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Ie}},et];I()&&je&&dt.push({name:"arrow",options:{element:je,padding:3}}),dt.push.apply(dt,(ne==null?void 0:ne.modifiers)||[]),d.popperInstance=nE(Ne,w,Object.assign({},ne,{placement:de,onFirstUpdate:u,modifiers:dt}))}function lt(){d.popperInstance&&(d.popperInstance.destroy(),d.popperInstance=null)}function Ve(){var q=d.props.appendTo,ne,de=P();d.props.interactive&&q===Gv||q==="parent"?ne=de.parentNode:ne=Vv(q,[de]),ne.contains(w)||ne.appendChild(w),d.state.isMounted=!0,qe()}function tt(){return hl(w.querySelectorAll("[data-tippy-root]"))}function Be(q){d.clearDelayTimeouts(),q&&k("onTrigger",[d,q]),se();var ne=U(!0),de=D(),we=de[0],Ee=de[1];Fn.isTouch&&we==="hold"&&Ee&&(ne=Ee),ne?b=setTimeout(function(){d.show()},ne):d.show()}function Qe(q){if(d.clearDelayTimeouts(),k("onUntrigger",[d,q]),!d.state.isVisible){be();return}if(!(d.props.trigger.indexOf("mouseenter")>=0&&d.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(q.type)>=0&&l)){var ne=U(!1);ne?S=setTimeout(function(){d.state.isVisible&&d.hide()},ne):x=requestAnimationFrame(function(){d.hide()})}}function Fe(){d.state.isEnabled=!0}function Ge(){d.hide(),d.state.isEnabled=!1}function ot(){clearTimeout(b),clearTimeout(S),cancelAnimationFrame(x)}function Ye(q){if(!d.state.isDestroyed){k("onBeforeUpdate",[d,q]),ue();var ne=d.props,de=Ep(e,Object.assign({},ne,Sp(q),{ignoreAttributes:!0}));d.props=de,ce(),ne.interactiveDebounce!==de.interactiveDebounce&&(X(),_=yp(Te,de.interactiveDebounce)),ne.triggerTarget&&!de.triggerTarget?Is(ne.triggerTarget).forEach(function(we){we.removeAttribute("aria-expanded")}):de.triggerTarget&&e.removeAttribute("aria-expanded"),z(),Y(),A&&A(ne,de),d.popperInstance&&(qe(),tt().forEach(function(we){requestAnimationFrame(we._tippy.popperInstance.forceUpdate)})),k("onAfterUpdate",[d,q])}}function Xe(q){d.setProps({content:q})}function _e(){var q=d.state.isVisible,ne=d.state.isDestroyed,de=!d.state.isEnabled,we=Fn.isTouch&&!d.props.touch,Ee=vu(d.props.duration,0,On.duration);if(!(q||ne||de||we)&&!P().hasAttribute("disabled")&&(k("onShow",[d],!1),d.props.onShow(d)!==!1)){if(d.state.isVisible=!0,I()&&(w.style.visibility="visible"),Y(),se(),d.state.isMounted||(w.style.transition="none"),I()){var Ie=F(),je=Ie.box,Ne=Ie.content;gu([je,Ne],0)}u=function(){var dt;if(!(!d.state.isVisible||i)){if(i=!0,w.offsetHeight,w.style.transition=d.props.moveTransition,I()&&d.props.animation){var tr=F(),hr=tr.box,mr=tr.content;gu([hr,mr],Ee),Cp([hr,mr],"visible")}H(),z(),bp(mu,d),(dt=d.popperInstance)==null||dt.forceUpdate(),k("onMount",[d]),d.props.animation&&I()&&j(Ee,function(){d.state.isShown=!0,k("onShown",[d])})}},Ve()}}function le(){var q=!d.state.isVisible,ne=d.state.isDestroyed,de=!d.state.isEnabled,we=vu(d.props.duration,1,On.duration);if(!(q||ne||de)&&(k("onHide",[d],!1),d.props.onHide(d)!==!1)){if(d.state.isVisible=!1,d.state.isShown=!1,i=!1,l=!1,I()&&(w.style.visibility="hidden"),X(),be(),Y(!0),I()){var Ee=F(),Ie=Ee.box,je=Ee.content;d.props.animation&&(gu([Ie,je],we),Cp([Ie,je],"hidden"))}H(),z(),d.props.animation?I()&&B(we,d.unmount):d.unmount()}}function me(q){$().addEventListener("mousemove",_),bp(Ga,_),_(q)}function fe(){d.state.isVisible&&d.hide(),d.state.isMounted&&(lt(),tt().forEach(function(q){q._tippy.unmount()}),w.parentNode&&w.parentNode.removeChild(w),mu=mu.filter(function(q){return q!==d}),d.state.isMounted=!1,k("onHidden",[d]))}function Re(){d.state.isDestroyed||(d.clearDelayTimeouts(),d.unmount(),ue(),delete e._tippy,d.state.isDestroyed=!0,k("onDestroy",[d]))}}function Ws(e,a){a===void 0&&(a={});var c=On.plugins.concat(a.plugins||[]);_E();var b=Object.assign({},a,{plugins:c}),S=fE(e),x=S.reduce(function(l,t){var n=t&&TE(t,b);return n&&l.push(n),l},[]);return Ol(e)?x[0]:x}Ws.defaultProps=On;Ws.setDefaultProps=wE;Ws.currentInput=Fn;Object.assign({},Mv,{effect:function(a){var c=a.state,b={popper:{position:c.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(c.elements.popper.style,b.popper),c.styles=b,c.elements.arrow&&Object.assign(c.elements.arrow.style,b.arrow)}});Ws.setDefaultProps({render:Xv});const LE={props:{maxHeight:{default:"auto"},trigger:{default:"click"},placement:{default:"bottom"},appendTo:{default:"parent"}},setup(e){const a=Le(null),c=Le(null),b=Le();return er(()=>{a.value&&(b.value=Ws(a.value,{trigger:e.trigger,maxWidth:"100vh",content:c.value,placement:e.placement,interactive:!0,allowHTML:!0,appendTo:e.appendTo||document.querySelector("body"),arrow:!0,hideOnClick:!0,animation:"shift-away",theme:"light-border"}))}),{tippyInstance:b,refTrigger:a,refContent:c,tippy:Ws}}},OE={class:"popover-root"},RE={ref:"refTrigger",class:"trigger"};function kE(e,a,c,b,S,x){return re(),oe("div",OE,[W("div",RE,[Wr(e.$slots,"trigger")],512),W("div",{ref:"refContent",class:"content",style:Br({maxHeight:c.maxHeight,overflow:c.maxHeight!=="auto"?"auto":"inherit"})},[Wr(e.$slots,"content")],4)])}const DE=Pt(LE,[["render",kE]]);var Jv={exports:{}};(function(e,a){(function(c,b){e.exports=b()})(Ar,function(){var c=1e3,b=6e4,S=36e5,x="millisecond",l="second",t="minute",n="hour",i="day",h="week",o="month",u="quarter",g="year",_="date",m="Invalid Date",r=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,p={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function($){var F=["th","st","nd","rd"],U=$%100;return"["+$+(F[(U-20)%10]||F[U]||F[0])+"]"}},v=function($,F,U){var Y=String($);return!Y||Y.length>=F?$:""+Array(F+1-Y.length).join(U)+$},d={s:v,z:function($){var F=-$.utcOffset(),U=Math.abs(F),Y=Math.floor(U/60),k=U%60;return(F<=0?"+":"-")+v(Y,2,"0")+":"+v(k,2,"0")},m:function $(F,U){if(F.date()<U.date())return-$(U,F);var Y=12*(U.year()-F.year())+(U.month()-F.month()),k=F.clone().add(Y,o),H=U-k<0,z=F.clone().add(Y+(H?-1:1),o);return+(-(Y+(U-k)/(H?k-z:z-k))||0)},a:function($){return $<0?Math.ceil($)||0:Math.floor($)},p:function($){return{M:o,y:g,w:h,d:i,D:_,h:n,m:t,s:l,ms:x,Q:u}[$]||String($||"").toLowerCase().replace(/s$/,"")},u:function($){return $===void 0}},C="en",w={};w[C]=p;var A="$isDayjsObject",E=function($){return $ instanceof I||!(!$||!$[A])},L=function $(F,U,Y){var k;if(!F)return C;if(typeof F=="string"){var H=F.toLowerCase();w[H]&&(k=H),U&&(w[H]=U,k=H);var z=F.split("-");if(!k&&z.length>1)return $(z[0])}else{var X=F.name;w[X]=F,k=X}return!Y&&k&&(C=k),k||!Y&&C},D=function($,F){if(E($))return $.clone();var U=typeof F=="object"?F:{};return U.date=$,U.args=arguments,new I(U)},R=d;R.l=L,R.i=E,R.w=function($,F){return D($,{locale:F.$L,utc:F.$u,x:F.$x,$offset:F.$offset})};var I=function(){function $(U){this.$L=L(U.locale,null,!0),this.parse(U),this.$x=this.$x||U.x||{},this[A]=!0}var F=$.prototype;return F.parse=function(U){this.$d=function(Y){var k=Y.date,H=Y.utc;if(k===null)return new Date(NaN);if(R.u(k))return new Date;if(k instanceof Date)return new Date(k);if(typeof k=="string"&&!/Z$/i.test(k)){var z=k.match(r);if(z){var X=z[2]-1||0,te=(z[7]||"0").substring(0,3);return H?new Date(Date.UTC(z[1],X,z[3]||1,z[4]||0,z[5]||0,z[6]||0,te)):new Date(z[1],X,z[3]||1,z[4]||0,z[5]||0,z[6]||0,te)}}return new Date(k)}(U),this.init()},F.init=function(){var U=this.$d;this.$y=U.getFullYear(),this.$M=U.getMonth(),this.$D=U.getDate(),this.$W=U.getDay(),this.$H=U.getHours(),this.$m=U.getMinutes(),this.$s=U.getSeconds(),this.$ms=U.getMilliseconds()},F.$utils=function(){return R},F.isValid=function(){return this.$d.toString()!==m},F.isSame=function(U,Y){var k=D(U);return this.startOf(Y)<=k&&k<=this.endOf(Y)},F.isAfter=function(U,Y){return D(U)<this.startOf(Y)},F.isBefore=function(U,Y){return this.endOf(Y)<D(U)},F.$g=function(U,Y,k){return R.u(U)?this[Y]:this.set(k,U)},F.unix=function(){return Math.floor(this.valueOf()/1e3)},F.valueOf=function(){return this.$d.getTime()},F.startOf=function(U,Y){var k=this,H=!!R.u(Y)||Y,z=R.p(U),X=function(N,Q){var ce=R.w(k.$u?Date.UTC(k.$y,Q,N):new Date(k.$y,Q,N),k);return H?ce:ce.endOf(i)},te=function(N,Q){return R.w(k.toDate()[N].apply(k.toDate("s"),(H?[0,0,0,0]:[23,59,59,999]).slice(Q)),k)},J=this.$W,V=this.$M,se=this.$D,be="set"+(this.$u?"UTC":"");switch(z){case g:return H?X(1,0):X(31,11);case o:return H?X(1,V):X(0,V+1);case h:var B=this.$locale().weekStart||0,j=(J<B?J+7:J)-B;return X(H?se-j:se+(6-j),V);case i:case _:return te(be+"Hours",0);case n:return te(be+"Minutes",1);case t:return te(be+"Seconds",2);case l:return te(be+"Milliseconds",3);default:return this.clone()}},F.endOf=function(U){return this.startOf(U,!1)},F.$set=function(U,Y){var k,H=R.p(U),z="set"+(this.$u?"UTC":""),X=(k={},k[i]=z+"Date",k[_]=z+"Date",k[o]=z+"Month",k[g]=z+"FullYear",k[n]=z+"Hours",k[t]=z+"Minutes",k[l]=z+"Seconds",k[x]=z+"Milliseconds",k)[H],te=H===i?this.$D+(Y-this.$W):Y;if(H===o||H===g){var J=this.clone().set(_,1);J.$d[X](te),J.init(),this.$d=J.set(_,Math.min(this.$D,J.daysInMonth())).$d}else X&&this.$d[X](te);return this.init(),this},F.set=function(U,Y){return this.clone().$set(U,Y)},F.get=function(U){return this[R.p(U)]()},F.add=function(U,Y){var k,H=this;U=Number(U);var z=R.p(Y),X=function(V){var se=D(H);return R.w(se.date(se.date()+Math.round(V*U)),H)};if(z===o)return this.set(o,this.$M+U);if(z===g)return this.set(g,this.$y+U);if(z===i)return X(1);if(z===h)return X(7);var te=(k={},k[t]=b,k[n]=S,k[l]=c,k)[z]||1,J=this.$d.getTime()+U*te;return R.w(J,this)},F.subtract=function(U,Y){return this.add(-1*U,Y)},F.format=function(U){var Y=this,k=this.$locale();if(!this.isValid())return k.invalidDate||m;var H=U||"YYYY-MM-DDTHH:mm:ssZ",z=R.z(this),X=this.$H,te=this.$m,J=this.$M,V=k.weekdays,se=k.months,be=k.meridiem,B=function(Q,ce,ue,pe){return Q&&(Q[ce]||Q(Y,H))||ue[ce].slice(0,pe)},j=function(Q){return R.s(X%12||12,Q,"0")},N=be||function(Q,ce,ue){var pe=Q<12?"AM":"PM";return ue?pe.toLowerCase():pe};return H.replace(f,function(Q,ce){return ce||function(ue){switch(ue){case"YY":return String(Y.$y).slice(-2);case"YYYY":return R.s(Y.$y,4,"0");case"M":return J+1;case"MM":return R.s(J+1,2,"0");case"MMM":return B(k.monthsShort,J,se,3);case"MMMM":return B(se,J);case"D":return Y.$D;case"DD":return R.s(Y.$D,2,"0");case"d":return String(Y.$W);case"dd":return B(k.weekdaysMin,Y.$W,V,2);case"ddd":return B(k.weekdaysShort,Y.$W,V,3);case"dddd":return V[Y.$W];case"H":return String(X);case"HH":return R.s(X,2,"0");case"h":return j(1);case"hh":return j(2);case"a":return N(X,te,!0);case"A":return N(X,te,!1);case"m":return String(te);case"mm":return R.s(te,2,"0");case"s":return String(Y.$s);case"ss":return R.s(Y.$s,2,"0");case"SSS":return R.s(Y.$ms,3,"0");case"Z":return z}return null}(Q)||z.replace(":","")})},F.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},F.diff=function(U,Y,k){var H,z=this,X=R.p(Y),te=D(U),J=(te.utcOffset()-this.utcOffset())*b,V=this-te,se=function(){return R.m(z,te)};switch(X){case g:H=se()/12;break;case o:H=se();break;case u:H=se()/3;break;case h:H=(V-J)/6048e5;break;case i:H=(V-J)/864e5;break;case n:H=V/S;break;case t:H=V/b;break;case l:H=V/c;break;default:H=V}return k?H:R.a(H)},F.daysInMonth=function(){return this.endOf(o).$D},F.$locale=function(){return w[this.$L]},F.locale=function(U,Y){if(!U)return this.$L;var k=this.clone(),H=L(U,Y,!0);return H&&(k.$L=H),k},F.clone=function(){return R.w(this.$d,this)},F.toDate=function(){return new Date(this.valueOf())},F.toJSON=function(){return this.isValid()?this.toISOString():null},F.toISOString=function(){return this.$d.toISOString()},F.toString=function(){return this.$d.toUTCString()},$}(),P=I.prototype;return D.prototype=P,[["$ms",x],["$s",l],["$m",t],["$H",n],["$W",i],["$M",o],["$y",g],["$D",_]].forEach(function($){P[$[1]]=function(F){return this.$g(F,$[0],$[1])}}),D.extend=function($,F){return $.$i||($(F,I,D),$.$i=!0),D},D.locale=L,D.isDayjs=E,D.unix=function($){return D(1e3*$)},D.en=w[C],D.Ls=w,D.p={},D})})(Jv);var IE=Jv.exports;const jn=ci(IE),ME={async outdated(e){const{data:a}=await We.get(`/fs/outdated?path=${e}`);return a},async homeDir(){const{data:e}=await We.get("/fs/home-dir");return e},async ls(e){const{data:a}=await We.get(`/fs/ls?path=${e}`);return a}};var dh={exports:{}};function Qv(e,a=100,c={}){if(typeof e!="function")throw new TypeError(`Expected the first parameter to be a function, got \`${typeof e}\`.`);if(a<0)throw new RangeError("`wait` must not be negative.");const{immediate:b}=typeof c=="boolean"?{immediate:c}:c;let S,x,l,t,n;function i(){const o=Date.now()-t;if(o<a&&o>=0)l=setTimeout(i,a-o);else if(l=void 0,!b){const u=S,g=x;S=void 0,x=void 0,n=e.apply(u,g)}}const h=function(...o){if(S&&this!==S)throw new Error("Debounced method called with different contexts.");S=this,x=o,t=Date.now();const u=b&&!l;if(l||(l=setTimeout(i,a)),u){const g=S,_=x;S=void 0,x=void 0,n=e.apply(g,_)}return n};return h.clear=()=>{l&&(clearTimeout(l),l=void 0)},h.flush=()=>{if(!l)return;const o=S,u=x;S=void 0,x=void 0,n=e.apply(o,u),clearTimeout(l),l=void 0},h}dh.exports.debounce=Qv;dh.exports=Qv;var PE=dh.exports;const fl=ci(PE),BE={__name:"Spinner",props:{display:{type:Boolean,default:!0},size:{default:"70"},noColor:{type:Boolean,default:!1}},setup(e){return(a,c)=>e.display?(re(),oe("div",{key:0,class:St(["spinner",{noColor:e.noColor}]),style:Br({width:e.size+"px",height:e.size+"px"})},null,6)):He("",!0)}},li=Pt(BE,[["__scopeId","data-v-1e6ec2de"]]),$E={};function FE(e,a){return Wr(e.$slots,"default")}const jE=Pt($E,[["render",FE]]),Yt=e=>(Vt("data-v-20efbd6e"),e=e(),Kt(),e),NE={class:"header"},HE={class:"input-container"},UE=Yt(()=>W("i",{class:"fas fa-search"},null,-1)),WE=Yt(()=>W("div",{class:"separator"},null,-1)),zE={class:"input-container"},GE=Yt(()=>W("i",{class:"fas fa-times"},null,-1)),VE=["placeholder"],KE={class:"radios"},YE=["checked","value"],XE=Yt(()=>W("label",{for:"include"},"Include",-1)),JE=["checked","value"],QE=Yt(()=>W("label",{for:"exclude"},"Exclude",-1)),qE=Yt(()=>W("div",{class:"separator"},null,-1)),ZE={class:"input-container"},e2={class:"radios"},t2=Yt(()=>W("div",null,"Display",-1)),r2=cC('<option value="10" data-v-20efbd6e>10</option><option value="50" data-v-20efbd6e>50</option><option value="100" data-v-20efbd6e>100</option><option value="150" data-v-20efbd6e>150</option><option value="200" data-v-20efbd6e>200</option><option value="500" data-v-20efbd6e>500</option><option value="800" data-v-20efbd6e>800</option><option value="1000" data-v-20efbd6e>1000</option><option value="1500" data-v-20efbd6e>1500</option><option value="2000" data-v-20efbd6e>2000</option>',10),n2=[r2],i2=Yt(()=>W("div",null,"lines",-1)),s2=["checked"],o2=Yt(()=>W("label",{for:"exclude"},"Simplified mode",-1)),a2={class:"main-content"},l2={key:0,class:"pids-container"},c2=Yt(()=>W("i",{class:"fas fa-chevron-down"},null,-1)),u2={class:"pids"},h2=["onClick"],f2={key:0,class:"terminal-panel"},d2={class:"terminal-panel-content"},p2={class:"more-info-container"},v2=Yt(()=>W("div",{class:"more-info-label"},"Raw message:",-1)),g2={class:"more-info-content"},_2=Yt(()=>W("div",{class:"more-info-label"},"Issued from pid: ",-1)),m2={class:"more-info-content"},y2=Yt(()=>W("button",{class:"small"},[W("i",{class:"fas fa-chevron-right"})],-1)),b2={class:"more-info-container"},S2=Yt(()=>W("div",{class:"more-info-label"},"Emitted date:",-1)),C2={class:"more-info-content"},w2={key:1,class:"more-info-container"},x2=Yt(()=>W("div",{class:"more-info-label"},"Options:",-1)),E2={class:"more-info-content"},A2=["onClick"],T2=["innerHTML"],L2={key:1},O2={key:0,class:"section-header"},R2={class:"section-content"},k2={key:1},D2={key:2},I2=Yt(()=>W("h2",{class:"section-header"},"Prompt",-1)),M2=["innerHTML"],P2={key:3},B2=Yt(()=>W("h2",{class:"section-header"},"Debug",-1)),$2={class:"section-content"},F2={class:"section-actions"};const j2=["onClick"],N2={class:"small"},H2=["onClick"],U2={key:4},W2=Yt(()=>W("h2",{class:"section-header"},"JSON",-1)),z2={class:"section-content"},G2={class:"section-actions"};const V2=["onClick"],K2={class:"small"},Y2=["onClick"],X2=["innerHTML"],J2={key:0,class:"input-container-terminal"},Q2={key:0,class:"histories"},q2=["onClick"],Z2={class:"right"},e5={key:1,class:"histories"},t5={class:"history"},r5={class:"bar-terminal"},n5={class:"left"},i5={class:"blue"},s5=Yt(()=>W("i",{class:"icon fas fa-folder"},null,-1)),o5=Yt(()=>W("i",{class:"icon fas fa-code-branch"},null,-1)),a5={key:0},l5=Yt(()=>W("i",{class:"fas fa-long-arrow-alt-up"},null,-1)),c5={key:1},u5=Yt(()=>W("i",{class:"fas fa-long-arrow-alt-down"},null,-1)),h5=Yt(()=>W("div",{class:"right"},null,-1)),f5={class:"input-content-terminal"},d5={key:0,class:"badge"},p5=Yt(()=>W("i",{class:"fas fa-chevron-right"},null,-1)),v5=["placeholder"],g5={key:1,class:"input-container-terminal"},_5=Yt(()=>W("div",{class:"not-launch"},[W("i",{class:"fas fa-ban"}),Ue(" Launch this service to view logs ")],-1)),m5={__name:"Logs",props:{service:{default:null},noStyle:{default:!1},isInMultiMode:{default:!1}},setup(e){const a=e,c=Le(null),b=Le(null),S=Le(null),x=Le(""),l=Le(!1),t=Le([]),n=Le(null),i=Le(""),h=Le(),o=Le(!1),u=Le(100),g=Le(),_=Le(""),m=Le([]);function r(ve){navigator.clipboard.writeText(ve).then(()=>Dt.next("success","Data copied to clipboard"))}const f=At(()=>{let ve=t.value.reduce((Ce,xe)=>xe.json&&!xe.debug?Ce+1:Ce,0);return ve>u.value&&(ve=u.value),ve}),p=At(()=>{let ve=t.value.reduce((Ce,xe)=>xe.debug?Ce+1:Ce,0);return ve>u.value&&(ve=u.value),ve}),v=At(()=>{let ve=t.value.length;return ve>u.value&&(ve=u.value),ve});function d(ve){if(i.value)try{const Ce=jw.query(ve,i.value);return Ce.length===1?JSON.stringify(Ce[0]):JSON.stringify(Ce)}catch{}return JSON.stringify(ve)}const C=At(()=>{let ve=[];return _.value==="debug"?ve=t.value.filter((Ce,xe,qe)=>Ce.isSeparator?A(Ce,qe[xe+1]):!!(Ce.debug&&A(Ce,qe[xe+1]))).slice(-u.value):_.value==="json"?ve=t.value.filter((Ce,xe,qe)=>Ce.isSeparator?A(Ce,qe[xe+1]):!!(Ce.json&&!Ce.debug&&A(Ce,qe[xe+1]))).slice(-u.value):ve=t.value.filter((Ce,xe,qe)=>Ce.isSeparator?A(Ce,qe[xe+1]):!!A(Ce,qe[xe+1])).slice(-u.value),ve.filter((Ce,xe,qe)=>{var lt;return Ce.isSeparator?!((lt=qe[xe+1])!=null&&lt.isSeparator):!0})});async function w(ve){const Ce=await Rn.getTokens(JSON.stringify(ve));if(await h.value.open(Ce).promise){const qe=await Rn.findSolutionFromAi(JSON.stringify(ve));await g.value.open(qe).promise}}const A=(ve,Ce)=>{var lt,Ve;const xe=x.value;if(ve.hide)return!1;if(ve.isSeparator)return!0;if((lt=J.value)!=null&&lt.pid&&((Ve=J.value)==null?void 0:Ve.pid)!==ve.pid)return!1;if(!xe)return!0;const qe=xe.includes(" | ")?xe.split(" | "):[xe];return l.value?qe.filter(tt=>tt).some(tt=>!!ve.msg.toUpperCase().match(new RegExp(D(tt),"gi"))):qe.filter(tt=>tt).every(tt=>!ve.msg.toUpperCase().match(new RegExp(D(tt),"gi")))};er(()=>E()),dn.socket.on("conf:update",()=>{var ve;b.value&&!((ve=b.value)!=null&&ve.children.length)&&c.value&&c.value.open(b.value)});async function E(){t.value=await a.service.getLogs(),dn.socket.on("logs:update",ve=>{ve.forEach(Ce=>{Ce.label===a.service.label&&(t.value.push(Ce),R())})}),dn.socket.on("logs:update:lines",ve=>{ve.forEach(Ce=>{if(Ce.label!==a.service.label)return;const xe=t.value.findIndex(qe=>qe.id===Ce.id);xe>=0&&t.value.splice(xe,1,Ce)})}),dn.socket.on("service:exit",ve=>{var Ce;ve.label===a.service.label&&ve.pid&&((Ce=J.value)==null?void 0:Ce.pid)===ve.pid&&(J.value=null,R(!0))}),dn.socket.on("service:crash",ve=>{var Ce;ve.label===a.service.label&&ve.pid&&((Ce=J.value)==null?void 0:Ce.pid)===ve.pid&&(J.value=null,R(!0))}),dn.socket.on("logs:clear",ve=>{var Ce;ve.label===a.service.label&&(t.value=[],(Ce=c.value)==null||Ce.clear())}),R(!0)}async function L(){a.service.clear(),t.value=[]}function D(ve){return ve.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}async function R(ve=!1,Ce=null){const xe=Ce||S.value;if(!xe)return;const qe=xe.scrollTop+xe.clientHeight===xe.scrollHeight;await si(),(qe||ve)&&(xe.scrollTop=xe.scrollHeight)}const I=Le("");async function P(ve){var xe;ve.preventDefault();const Ce=await a.service.sendTerminalPrompt({message:I.value.trim(),pid:((xe=J.value)==null?void 0:xe.pid)||void 0});I.value.trim()&&setTimeout(()=>{var lt;const qe=t.value.find(Ve=>Ve.pid===Ce.pid);((lt=qe==null?void 0:qe.cmd)==null?void 0:lt.status)==="running"&&(J.value=qe)},100),I.value="",ve.target&&(await si(),F()),R(!0),ce(!0)}const $=Le();function F(){$.value.style.height="calc(15px)",$.value.style.height=$.value.scrollHeight+"px"}async function U(ve){const Ce=m.value.find(xe=>xe.active);if(Ce){setTimeout(async()=>{var xe;I.value=(xe=Ce.raw)==null?void 0:xe.trim(),await si(),F(),setTimeout(()=>{m.value=[]},100)});return}ve.shiftKey?I.value+=`
`:await P(ve)}async function Y(ve){m.value=[],ve.target&&ve.target.scrollHeight<300&&F()}async function k(ve=!1){var Ce;await a.service.sendTerminalTerminate({pid:((Ce=J.value)==null?void 0:Ce.pid)||void 0,forceKill:ve})}const H=Le(!1);async function z(ve){if(ve.code==="Escape")return m.value=[];if(ve.code==="Enter")return m.value=[];if(ve.ctrlKey&&ve.code==="KeyC")return k();if(ve.code!=="ArrowUp"&&ve.code!=="ArrowDown"&&!I.value)return m.value=[];if(ve.code==="ArrowUp"&&m.value.length)return te(ve,1);if(ve.code==="ArrowDown"&&m.value.length)return te(ve,-1);if(["ArrowUp","ArrowDown"].includes(ve.code))return m.value=await a.service.autocomplete(I.value,{force:!0});H.value=!0,await X(),I.value||te(ve,1)}const X=fl(async(ve=!1)=>{try{H.value=!0;const Ce=await a.service.autocomplete(I.value,{force:ve});if(!I.value&&!ve)return;m.value=Ce}finally{H.value=!1}},200);async function te(ve,Ce){const xe=m.value.findIndex(qe=>qe.active);if(xe===-1){const qe=Ce>0?m.value[m.value.length-1]:m.value[0];qe&&(qe.active=!0)}else{const qe=m.value[xe],lt=m.value[xe-Ce];qe.active=!1,lt?lt.active=!0:te(ve,Ce)}}const J=Le(null),V=At(()=>t.value.reduce((ve,Ce)=>(Ce.pid&&!(ve!=null&&ve.find(xe=>xe.pid===Ce.pid))&&ve.push(Ce),ve),[])),se=Le(""),be=Le(""),B=Le(""),j=Le(""),N=setInterval(()=>{ce()},1e3),Q=setInterval(()=>{ce(!0)},2e4);th(()=>{clearInterval(N),clearInterval(Q)}),er(async()=>{B.value=await ME.homeDir(),ce(!0)});const ce=fl(async(ve=!1)=>{ve&&j.value&&(j.value=""),be.value=await a.service.getStatus(),se.value=await a.service.getCurrentBranch(),ve&&(j.value=await a.service.gitRemoteDelta(se.value))},100);function ue(ve){return ve==null?void 0:ve.replace(B.value,"~")}function pe(ve){const Ce=t.value.find(xe=>xe.cmd&&xe.pid===(ve==null?void 0:ve.pid));J.value=Ce||null,n.value=null}function Te(ve){window.getSelection().toString()||(n.value=ve)}return(ve,Ce)=>{var qe,lt;const xe=br("router-link");return re(),oe(it,null,[e.service.enabled?(re(),oe("div",{key:0,style:Br({maxHeight:e.isInMultiMode?"400px":"inherit"})},[W("div",NE,[f.value||p.value?(re(),oe(it,{key:0},[W("div",HE,[UE,Rt(W("input",{type:"text","onUpdate:modelValue":Ce[0]||(Ce[0]=Ve=>i.value=Ve),placeholder:"JSON path..."},null,512),[[or,i.value]])]),WE],64)):He("",!0),W("div",zE,[GE,Rt(W("input",{type:"text","onUpdate:modelValue":Ce[1]||(Ce[1]=Ve=>x.value=Ve),placeholder:l.value?"Include...":"Exclude..."},null,8,VE),[[or,x.value]]),W("div",KE,[W("div",null,[W("input",{type:"radio",id:"include",checked:l.value,value:l.value,onInput:Ce[2]||(Ce[2]=Ve=>l.value=!0)},null,40,YE),XE]),W("div",null,[W("input",{type:"radio",id:"exclude",checked:!l.value,value:!l.value,onInput:Ce[3]||(Ce[3]=Ve=>l.value=!1)},null,40,JE),QE])])]),qE,W("div",ZE,[W("div",e2,[W("div",null,[t2,Rt(W("select",{"onUpdate:modelValue":Ce[4]||(Ce[4]=Ve=>u.value=Ve)},n2,512),[[_v,u.value]]),i2]),W("div",null,[Rt(W("input",{type:"checkbox",checked:o.value,"onUpdate:modelValue":Ce[5]||(Ce[5]=Ve=>o.value=Ve)},null,8,s2),[[Nn,o.value]]),o2])])])]),W("div",a2,[V.value?(re(),oe("div",l2,[W("div",{class:St(["pid",{active:!J.value}]),onClick:Ce[6]||(Ce[6]=Ve=>{J.value=null,R(!0)})},"All",2),at(DE,{appendTo:"parent"},{trigger:rt(()=>{var Ve,tt,Be;return[W("div",{class:St(["pid",{active:J.value}])},[Ue(" Commands "+De((Ve=J.value)!=null&&Ve.raw?`: ${(Be=(tt=J.value)==null?void 0:tt.raw)==null?void 0:Be.substring(0,20)}...`:"")+" ",1),c2],2)]}),content:rt(()=>[W("div",u2,[(re(!0),oe(it,null,pt(V.value.slice().reverse().filter(Ve=>{var tt;return(tt=Ve.raw)==null?void 0:tt.trim()}),Ve=>{var tt;return re(),oe("div",{key:Ve.pid,class:St(["pid",{active:((tt=J.value)==null?void 0:tt.pid)===Ve.pid}]),onClick:Be=>{J.value=Ve,R(!0)}},De(Ve.raw),11,h2)}),128))])]),_:1})])):He("",!0),at(ar,{header:"Logs"+((qe=J.value)!=null&&qe.raw?`: ${(lt=J.value)==null?void 0:lt.raw}`:""),noStyle:e.noStyle,actions:[{icon:"fas fa-list",label:`${v.value}`,small:!0,hidden:!v.value,active:!_.value,click:()=>_.value=""},{icon:"fas fa-bug",label:`${p.value}`,small:!0,hidden:!p.value,active:_.value==="debug",click:()=>_.value="debug"},{label:`{} ${f.value}`,small:!0,hidden:!f.value,active:_.value==="json",click:()=>_.value="json"},{icon:"fas fa-chevron-down",click:()=>R(!0)},{icon:"fas fa-trash",click:()=>L()}],class:"terminal-container"},{default:rt(()=>{var Ve,tt,Be,Qe;return[at(wl,{name:"slide-fade"},{default:rt(()=>[n.value?(re(),oe("div",f2,[W("div",{class:"terminal-panel-bg",onClick:Ce[7]||(Ce[7]=Fe=>n.value=null)}),W("div",d2,[W("h3",null,[Ue(" Type: "),n.value.debug?(re(),oe(it,{key:0},[Ue("Debug")],64)):n.value.json?(re(),oe(it,{key:1},[Ue("JSON")],64)):n.value.cmd?(re(),oe(it,{key:2},[Ue("Command")],64)):(re(),oe(it,{key:3},[Ue("Text")],64))]),W("div",p2,[v2,W("div",g2,[W("pre",null,De(n.value.msg),1)])]),n.value.pid?(re(),oe("div",{key:0,class:"more-info-container pid-box",onClick:Ce[8]||(Ce[8]=Fe=>pe(n.value))},[_2,W("div",m2,[Ue(De(n.value.pid)+" ",1),y2])])):He("",!0),W("div",b2,[S2,W("div",C2,De(Er(jn)(n.value.timestamp).format("YYYY-MM-DD HH:mm:ss")),1)]),n.value.cmd?(re(),oe("div",w2,[x2,W("div",E2,[at(Er(pu),{maxDepth:1,data:d(n.value.cmd),copyable:!0,"expand-depth":1,"show-double-quotes":!0},null,8,["data"])])])):He("",!0)])])):He("",!0)]),_:1}),W("div",{class:"terminal",ref_key:"jsonsRef",ref:S},[(re(!0),oe(it,null,pt(C.value,Fe=>(re(),oe("div",{class:St(["line",{simplifiedMode:o.value,stderr:Fe.source==="stderr"||Fe.cmd&&Fe.cmd.status==="error",success:Fe.cmd&&Fe.cmd.status==="exited",separator:Fe.isSeparator!=null,json:Fe.json!=null&&!o.value,debug:Fe.debug!=null&&!o.value,cmd:Fe.cmd!=null&&!o.value,prompt:Fe.prompt&&!o.value}]),key:Fe.id,onClick:Ge=>Te(Fe)},[o.value?(re(),oe("div",{key:0,innerHTML:Fe.msg},null,8,T2)):Fe.cmd!=null?(re(),oe("div",L2,[Fe.cmd.cmd.trim()?(re(),oe(it,{key:0},[Fe.cmd.cmd.trim()?(re(),oe("h2",O2,[Ue(" Command "),Fe.cmd.status==="running"?(re(),jt(li,{key:0,style:{display:"inline-flex"},"no-color":!0,size:"20"})):He("",!0)])):He("",!0),W("div",R2,De(Fe.msg),1)],64)):(re(),oe("br",k2))])):Fe.prompt?(re(),oe("div",D2,[I2,W("div",{class:"section-content",innerHTML:Fe.msg.trim()||"<br/>"},null,8,M2)])):Fe.debug!=null?(re(),oe("div",P2,[B2,W("div",$2,[W("div",F2,[(re(),oe("button",{key:1,class:"small",onClick:Ge=>r(JSON.stringify(Fe.debug))},"Copy",8,j2)),W("button",N2,[at(xe,{to:{name:"JSONFormatter",query:{json:JSON.stringify(Fe.debug)}}},{default:rt(()=>[Ue(" Open in json-viewer ")]),_:2},1032,["to"])]),W("button",{class:"small",onClick:_r(Ge=>w(Fe.debug),["stop"])}," Find a solution ",8,H2)]),at(Er(pu),{maxDepth:1,data:d(Fe.debug),copyable:!0,"expand-depth":1,"show-double-quotes":!0},null,8,["data"])])])):Fe.json!=null?(re(),oe("div",U2,[W2,W("div",z2,[W("div",G2,[(re(),oe("button",{key:1,class:"small",onClick:Ge=>r(JSON.stringify(Fe.json))},"Copy",8,V2)),W("button",K2,[at(xe,{to:{name:"JSONFormatter",query:{json:JSON.stringify(Fe.json)}}},{default:rt(()=>[Ue(" Open in json-viewer ")]),_:2},1032,["to"])]),W("button",{class:"small",onClick:_r(Ge=>w(Fe.json),["stop"])}," Find a solution ",8,Y2)]),at(Er(pu),{maxDepth:1,data:d(Fe.json),copyable:!0,"expand-depth":1,"show-double-quotes":!0},null,8,["data"])])])):(re(),oe("div",{key:5,innerHTML:Fe.msg},null,8,X2))],10,A2))),128))],512),!J.value||((Ve=J.value.cmd)==null?void 0:Ve.status)=="running"?(re(),oe("div",J2,[(tt=m.value)!=null&&tt.length?(re(),oe("div",Q2,[(re(!0),oe(it,null,pt(m.value,(Fe,Ge)=>{var ot;return re(),oe("div",{class:St(["history",{active:Fe.active}]),onClick:Ye=>{var Xe;I.value=Fe.raw,m.value=[],(Xe=$.value)==null||Xe.focus()},key:Ge+"history"},[W("div",null,De(Fe.raw),1),W("div",Z2,[W("div",null,"Used: "+De(((ot=Fe.timestamps)==null?void 0:ot.length)||0),1),W("div",null,"Last used: "+De(Fe.timestamp?Er(jn)(Fe.timestamp).format("YYYY-MM-DD HH:mm:ss"):"???"),1)])],10,q2)}),128))])):H.value?(re(),oe("div",e5,[W("div",t5,[at(li,{size:"20"})])])):He("",!0),W("div",r5,[W("div",n5,[W("div",i5,[s5,W("label",null,De(ue(e.service.rootPath)),1)]),se.value?(re(),oe("div",{key:0,class:St((Be=be.value)!=null&&Be.length?"yellow":"green")},[o5,W("label",null,[Ue(De(se.value)+" ",1),+j.value>0?(re(),oe("div",a5,[l5,Ue(De(+j.value),1)])):He("",!0),+j.value<0?(re(),oe("div",c5,[u5,Ue(De(Math.abs(+j.value)),1)])):He("",!0)])],2)):He("",!0)]),h5]),W("div",f5,[(Qe=J.value)!=null&&Qe.pid?(re(),oe("div",d5,"Pid: "+De(J.value.pid),1)):He("",!0),p5,at(jE,null,{default:rt(()=>[Rt(W("textarea",{ref_key:"textareaRef",ref:$,"onUpdate:modelValue":Ce[9]||(Ce[9]=Fe=>I.value=Fe),onKeypress:gn(U,["enter"]),onKeyup:z,onInput:Y,placeholder:J.value?`Send command to ${J.value.pid}...`:"Send new command..."},null,40,v5),[[or,I.value]])]),_:1})])])):J.value?(re(),oe("div",g5,[Ue(" Your command no longer accepts further response "),W("button",{onClick:Ce[10]||(Ce[10]=Fe=>J.value=null)},"Go to all processes view"),W("button",{class:"danger",onClick:Ce[11]||(Ce[11]=Fe=>k(!0))},"Or try to force kill")])):He("",!0)]}),_:1},8,["header","noStyle","actions"])])],4)):(re(),jt(ar,{key:1},{default:rt(()=>[_5]),_:1})),at(Ji,{ref_key:"findSolutionModal",ref:h,cancelString:"No",validateString:"Yes"},{header:rt(()=>[Ue(" Find solution from AI ")]),body:rt(({data:Ve})=>[Ue(" Are you sure ? This have a cost of ~"+De(Ve.price)+"$ ",1)]),_:1},512),at(Ji,{ref_key:"findSolutionResultModal",ref:g,cancelString:"OK",noValidate:!0},{header:rt(()=>[Ue(" Find solution from AI ")]),body:rt(({data:Ve})=>[W("pre",null,"        "+De(Ve==null?void 0:Ve.trim())+`
      `,1)]),_:1},512)],64)}}},y5=Pt(m5,[["__scopeId","data-v-20efbd6e"]]);var qv={exports:{}};(function(e,a){(function(c,b){e.exports=b()})(self,()=>(()=>{var c={4567:function(l,t,n){var i=this&&this.__decorate||function(v,d,C,w){var A,E=arguments.length,L=E<3?d:w===null?w=Object.getOwnPropertyDescriptor(d,C):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(v,d,C,w);else for(var D=v.length-1;D>=0;D--)(A=v[D])&&(L=(E<3?A(L):E>3?A(d,C,L):A(d,C))||L);return E>3&&L&&Object.defineProperty(d,C,L),L},h=this&&this.__param||function(v,d){return function(C,w){d(C,w,v)}};Object.defineProperty(t,"__esModule",{value:!0}),t.AccessibilityManager=void 0;const o=n(9042),u=n(6114),g=n(9924),_=n(844),m=n(5596),r=n(4725),f=n(3656);let p=t.AccessibilityManager=class extends _.Disposable{constructor(v,d){super(),this._terminal=v,this._renderService=d,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let C=0;C<this._terminal.rows;C++)this._rowElements[C]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[C]);if(this._topBoundaryFocusListener=C=>this._handleBoundaryFocus(C,0),this._bottomBoundaryFocusListener=C=>this._handleBoundaryFocus(C,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new g.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(C=>this._handleResize(C.rows))),this.register(this._terminal.onRender(C=>this._refreshRows(C.start,C.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(C=>this._handleChar(C))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab(C=>this._handleTab(C))),this.register(this._terminal.onKey(C=>this._handleKey(C.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new m.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,f.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,_.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(v){for(let d=0;d<v;d++)this._handleChar(" ")}_handleChar(v){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==v&&(this._charsToAnnounce+=v):this._charsToAnnounce+=v,v===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=o.tooMuchOutput)),u.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityContainer.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,u.isMac&&this._liveRegion.remove()}_handleKey(v){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(v)||this._charsToConsume.push(v)}_refreshRows(v,d){this._liveRegionDebouncer.refresh(v,d,this._terminal.rows)}_renderRows(v,d){const C=this._terminal.buffer,w=C.lines.length.toString();for(let A=v;A<=d;A++){const E=C.translateBufferLineToString(C.ydisp+A,!0),L=(C.ydisp+A+1).toString(),D=this._rowElements[A];D&&(E.length===0?D.innerText=" ":D.textContent=E,D.setAttribute("aria-posinset",L),D.setAttribute("aria-setsize",w))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(v,d){const C=v.target,w=this._rowElements[d===0?1:this._rowElements.length-2];if(C.getAttribute("aria-posinset")===(d===0?"1":`${this._terminal.buffer.lines.length}`)||v.relatedTarget!==w)return;let A,E;if(d===0?(A=C,E=this._rowElements.pop(),this._rowContainer.removeChild(E)):(A=this._rowElements.shift(),E=C,this._rowContainer.removeChild(A)),A.removeEventListener("focus",this._topBoundaryFocusListener),E.removeEventListener("focus",this._bottomBoundaryFocusListener),d===0){const L=this._createAccessibilityTreeNode();this._rowElements.unshift(L),this._rowContainer.insertAdjacentElement("afterbegin",L)}else{const L=this._createAccessibilityTreeNode();this._rowElements.push(L),this._rowContainer.appendChild(L)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(d===0?-1:1),this._rowElements[d===0?1:this._rowElements.length-2].focus(),v.preventDefault(),v.stopImmediatePropagation()}_handleResize(v){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let d=this._rowContainer.children.length;d<this._terminal.rows;d++)this._rowElements[d]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[d]);for(;this._rowElements.length>v;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const v=document.createElement("div");return v.setAttribute("role","listitem"),v.tabIndex=-1,this._refreshRowDimensions(v),v}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let v=0;v<this._terminal.rows;v++)this._refreshRowDimensions(this._rowElements[v])}}_refreshRowDimensions(v){v.style.height=`${this._renderService.dimensions.css.cell.height}px`}};t.AccessibilityManager=p=i([h(1,r.IRenderService)],p)},3614:(l,t)=>{function n(u){return u.replace(/\r?\n/g,"\r")}function i(u,g){return g?"\x1B[200~"+u+"\x1B[201~":u}function h(u,g,_,m){u=i(u=n(u),_.decPrivateModes.bracketedPasteMode&&m.rawOptions.ignoreBracketedPasteMode!==!0),_.triggerDataEvent(u,!0),g.value=""}function o(u,g,_){const m=_.getBoundingClientRect(),r=u.clientX-m.left-10,f=u.clientY-m.top-10;g.style.width="20px",g.style.height="20px",g.style.left=`${r}px`,g.style.top=`${f}px`,g.style.zIndex="1000",g.focus()}Object.defineProperty(t,"__esModule",{value:!0}),t.rightClickHandler=t.moveTextAreaUnderMouseCursor=t.paste=t.handlePasteEvent=t.copyHandler=t.bracketTextForPaste=t.prepareTextForTerminal=void 0,t.prepareTextForTerminal=n,t.bracketTextForPaste=i,t.copyHandler=function(u,g){u.clipboardData&&u.clipboardData.setData("text/plain",g.selectionText),u.preventDefault()},t.handlePasteEvent=function(u,g,_,m){u.stopPropagation(),u.clipboardData&&h(u.clipboardData.getData("text/plain"),g,_,m)},t.paste=h,t.moveTextAreaUnderMouseCursor=o,t.rightClickHandler=function(u,g,_,m,r){o(u,g,_),r&&m.rightClickSelect(u),g.value=m.selectionText,g.select()}},7239:(l,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ColorContrastCache=void 0;const i=n(1505);t.ColorContrastCache=class{constructor(){this._color=new i.TwoKeyMap,this._css=new i.TwoKeyMap}setCss(h,o,u){this._css.set(h,o,u)}getCss(h,o){return this._css.get(h,o)}setColor(h,o,u){this._color.set(h,o,u)}getColor(h,o){return this._color.get(h,o)}clear(){this._color.clear(),this._css.clear()}}},3656:(l,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.addDisposableDomListener=void 0,t.addDisposableDomListener=function(n,i,h,o){n.addEventListener(i,h,o);let u=!1;return{dispose:()=>{u||(u=!0,n.removeEventListener(i,h,o))}}}},6465:function(l,t,n){var i=this&&this.__decorate||function(r,f,p,v){var d,C=arguments.length,w=C<3?f:v===null?v=Object.getOwnPropertyDescriptor(f,p):v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(r,f,p,v);else for(var A=r.length-1;A>=0;A--)(d=r[A])&&(w=(C<3?d(w):C>3?d(f,p,w):d(f,p))||w);return C>3&&w&&Object.defineProperty(f,p,w),w},h=this&&this.__param||function(r,f){return function(p,v){f(p,v,r)}};Object.defineProperty(t,"__esModule",{value:!0}),t.Linkifier2=void 0;const o=n(3656),u=n(8460),g=n(844),_=n(2585);let m=t.Linkifier2=class extends g.Disposable{get currentLink(){return this._currentLink}constructor(r){super(),this._bufferService=r,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new u.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new u.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,g.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,g.toDisposable)(()=>{this._lastMouseEvent=void 0})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0}))}registerLinkProvider(r){return this._linkProviders.push(r),{dispose:()=>{const f=this._linkProviders.indexOf(r);f!==-1&&this._linkProviders.splice(f,1)}}}attachToDom(r,f,p){this._element=r,this._mouseService=f,this._renderService=p,this.register((0,o.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,o.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,o.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,o.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(r){if(this._lastMouseEvent=r,!this._element||!this._mouseService)return;const f=this._positionFromMouseEvent(r,this._element,this._mouseService);if(!f)return;this._isMouseOut=!1;const p=r.composedPath();for(let v=0;v<p.length;v++){const d=p[v];if(d.classList.contains("xterm"))break;if(d.classList.contains("xterm-hover"))return}this._lastBufferCell&&f.x===this._lastBufferCell.x&&f.y===this._lastBufferCell.y||(this._handleHover(f),this._lastBufferCell=f)}_handleHover(r){if(this._activeLine!==r.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(r,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,r)||(this._clearCurrentLink(),this._askForLink(r,!0))}_askForLink(r,f){var p,v;this._activeProviderReplies&&f||((p=this._activeProviderReplies)===null||p===void 0||p.forEach(C=>{C==null||C.forEach(w=>{w.link.dispose&&w.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=r.y);let d=!1;for(const[C,w]of this._linkProviders.entries())f?!((v=this._activeProviderReplies)===null||v===void 0)&&v.get(C)&&(d=this._checkLinkProviderResult(C,r,d)):w.provideLinks(r.y,A=>{var E,L;if(this._isMouseOut)return;const D=A==null?void 0:A.map(R=>({link:R}));(E=this._activeProviderReplies)===null||E===void 0||E.set(C,D),d=this._checkLinkProviderResult(C,r,d),((L=this._activeProviderReplies)===null||L===void 0?void 0:L.size)===this._linkProviders.length&&this._removeIntersectingLinks(r.y,this._activeProviderReplies)})}_removeIntersectingLinks(r,f){const p=new Set;for(let v=0;v<f.size;v++){const d=f.get(v);if(d)for(let C=0;C<d.length;C++){const w=d[C],A=w.link.range.start.y<r?0:w.link.range.start.x,E=w.link.range.end.y>r?this._bufferService.cols:w.link.range.end.x;for(let L=A;L<=E;L++){if(p.has(L)){d.splice(C--,1);break}p.add(L)}}}}_checkLinkProviderResult(r,f,p){var v;if(!this._activeProviderReplies)return p;const d=this._activeProviderReplies.get(r);let C=!1;for(let w=0;w<r;w++)this._activeProviderReplies.has(w)&&!this._activeProviderReplies.get(w)||(C=!0);if(!C&&d){const w=d.find(A=>this._linkAtPosition(A.link,f));w&&(p=!0,this._handleNewLink(w))}if(this._activeProviderReplies.size===this._linkProviders.length&&!p)for(let w=0;w<this._activeProviderReplies.size;w++){const A=(v=this._activeProviderReplies.get(w))===null||v===void 0?void 0:v.find(E=>this._linkAtPosition(E.link,f));if(A){p=!0,this._handleNewLink(A);break}}return p}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(r){if(!this._element||!this._mouseService||!this._currentLink)return;const f=this._positionFromMouseEvent(r,this._element,this._mouseService);f&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,f)&&this._currentLink.link.activate(r,this._currentLink.link.text)}_clearCurrentLink(r,f){this._element&&this._currentLink&&this._lastMouseEvent&&(!r||!f||this._currentLink.link.range.start.y>=r&&this._currentLink.link.range.end.y<=f)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,g.disposeArray)(this._linkCacheDisposables))}_handleNewLink(r){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const f=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);f&&this._linkAtPosition(r.link,f)&&(this._currentLink=r,this._currentLink.state={decorations:{underline:r.link.decorations===void 0||r.link.decorations.underline,pointerCursor:r.link.decorations===void 0||r.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,r.link,this._lastMouseEvent),r.link.decorations={},Object.defineProperties(r.link.decorations,{pointerCursor:{get:()=>{var p,v;return(v=(p=this._currentLink)===null||p===void 0?void 0:p.state)===null||v===void 0?void 0:v.decorations.pointerCursor},set:p=>{var v,d;!((v=this._currentLink)===null||v===void 0)&&v.state&&this._currentLink.state.decorations.pointerCursor!==p&&(this._currentLink.state.decorations.pointerCursor=p,this._currentLink.state.isHovered&&((d=this._element)===null||d===void 0||d.classList.toggle("xterm-cursor-pointer",p)))}},underline:{get:()=>{var p,v;return(v=(p=this._currentLink)===null||p===void 0?void 0:p.state)===null||v===void 0?void 0:v.decorations.underline},set:p=>{var v,d,C;!((v=this._currentLink)===null||v===void 0)&&v.state&&((C=(d=this._currentLink)===null||d===void 0?void 0:d.state)===null||C===void 0?void 0:C.decorations.underline)!==p&&(this._currentLink.state.decorations.underline=p,this._currentLink.state.isHovered&&this._fireUnderlineEvent(r.link,p))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(p=>{if(!this._currentLink)return;const v=p.start===0?0:p.start+1+this._bufferService.buffer.ydisp,d=this._bufferService.buffer.ydisp+1+p.end;if(this._currentLink.link.range.start.y>=v&&this._currentLink.link.range.end.y<=d&&(this._clearCurrentLink(v,d),this._lastMouseEvent&&this._element)){const C=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);C&&this._askForLink(C,!1)}})))}_linkHover(r,f,p){var v;!((v=this._currentLink)===null||v===void 0)&&v.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(f,!0),this._currentLink.state.decorations.pointerCursor&&r.classList.add("xterm-cursor-pointer")),f.hover&&f.hover(p,f.text)}_fireUnderlineEvent(r,f){const p=r.range,v=this._bufferService.buffer.ydisp,d=this._createLinkUnderlineEvent(p.start.x-1,p.start.y-v-1,p.end.x,p.end.y-v-1,void 0);(f?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(d)}_linkLeave(r,f,p){var v;!((v=this._currentLink)===null||v===void 0)&&v.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(f,!1),this._currentLink.state.decorations.pointerCursor&&r.classList.remove("xterm-cursor-pointer")),f.leave&&f.leave(p,f.text)}_linkAtPosition(r,f){const p=r.range.start.y*this._bufferService.cols+r.range.start.x,v=r.range.end.y*this._bufferService.cols+r.range.end.x,d=f.y*this._bufferService.cols+f.x;return p<=d&&d<=v}_positionFromMouseEvent(r,f,p){const v=p.getCoords(r,f,this._bufferService.cols,this._bufferService.rows);if(v)return{x:v[0],y:v[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(r,f,p,v,d){return{x1:r,y1:f,x2:p,y2:v,cols:this._bufferService.cols,fg:d}}};t.Linkifier2=m=i([h(0,_.IBufferService)],m)},9042:(l,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.tooMuchOutput=t.promptLabel=void 0,t.promptLabel="Terminal input",t.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(l,t,n){var i=this&&this.__decorate||function(m,r,f,p){var v,d=arguments.length,C=d<3?r:p===null?p=Object.getOwnPropertyDescriptor(r,f):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(m,r,f,p);else for(var w=m.length-1;w>=0;w--)(v=m[w])&&(C=(d<3?v(C):d>3?v(r,f,C):v(r,f))||C);return d>3&&C&&Object.defineProperty(r,f,C),C},h=this&&this.__param||function(m,r){return function(f,p){r(f,p,m)}};Object.defineProperty(t,"__esModule",{value:!0}),t.OscLinkProvider=void 0;const o=n(511),u=n(2585);let g=t.OscLinkProvider=class{constructor(m,r,f){this._bufferService=m,this._optionsService=r,this._oscLinkService=f}provideLinks(m,r){var f;const p=this._bufferService.buffer.lines.get(m-1);if(!p)return void r(void 0);const v=[],d=this._optionsService.rawOptions.linkHandler,C=new o.CellData,w=p.getTrimmedLength();let A=-1,E=-1,L=!1;for(let D=0;D<w;D++)if(E!==-1||p.hasContent(D)){if(p.loadCell(D,C),C.hasExtendedAttrs()&&C.extended.urlId){if(E===-1){E=D,A=C.extended.urlId;continue}L=C.extended.urlId!==A}else E!==-1&&(L=!0);if(L||E!==-1&&D===w-1){const R=(f=this._oscLinkService.getLinkData(A))===null||f===void 0?void 0:f.uri;if(R){const I={start:{x:E+1,y:m},end:{x:D+(L||D!==w-1?0:1),y:m}};let P=!1;if(!(d!=null&&d.allowNonHttpProtocols))try{const $=new URL(R);["http:","https:"].includes($.protocol)||(P=!0)}catch{P=!0}P||v.push({text:R,range:I,activate:($,F)=>d?d.activate($,F,I):_(0,F),hover:($,F)=>{var U;return(U=d==null?void 0:d.hover)===null||U===void 0?void 0:U.call(d,$,F,I)},leave:($,F)=>{var U;return(U=d==null?void 0:d.leave)===null||U===void 0?void 0:U.call(d,$,F,I)}})}L=!1,C.hasExtendedAttrs()&&C.extended.urlId?(E=D,A=C.extended.urlId):(E=-1,A=-1)}}r(v)}};function _(m,r){if(confirm(`Do you want to navigate to ${r}?

WARNING: This link could potentially be dangerous`)){const f=window.open();if(f){try{f.opener=null}catch{}f.location.href=r}else console.warn("Opening link blocked as opener could not be cleared")}}t.OscLinkProvider=g=i([h(0,u.IBufferService),h(1,u.IOptionsService),h(2,u.IOscLinkService)],g)},6193:(l,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RenderDebouncer=void 0,t.RenderDebouncer=class{constructor(n,i){this._parentWindow=n,this._renderCallback=i,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(n){return this._refreshCallbacks.push(n),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(n,i,h){this._rowCount=h,n=n!==void 0?n:0,i=i!==void 0?i:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,n):n,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,i):i,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const n=Math.max(this._rowStart,0),i=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(n,i),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const n of this._refreshCallbacks)n(0);this._refreshCallbacks=[]}}},5596:(l,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ScreenDprMonitor=void 0;const i=n(844);class h extends i.Disposable{constructor(u){super(),this._parentWindow=u,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,i.toDisposable)(()=>{this.clearListener()}))}setListener(u){this._listener&&this.clearListener(),this._listener=u,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var u;this._outerListener&&((u=this._resolutionMediaMatchList)===null||u===void 0||u.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}t.ScreenDprMonitor=h},3236:(l,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Terminal=void 0;const i=n(3614),h=n(3656),o=n(6465),u=n(9042),g=n(3730),_=n(1680),m=n(3107),r=n(5744),f=n(2950),p=n(1296),v=n(428),d=n(4269),C=n(5114),w=n(8934),A=n(3230),E=n(9312),L=n(4725),D=n(6731),R=n(8055),I=n(8969),P=n(8460),$=n(844),F=n(6114),U=n(8437),Y=n(2584),k=n(7399),H=n(5941),z=n(9074),X=n(2585),te=n(5435),J=n(4567),V=typeof window<"u"?window.document:null;class se extends I.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(B={}){super(B),this.browser=F,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new $.MutableDisposable),this._onCursorMove=this.register(new P.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new P.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new P.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new P.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new P.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new P.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new P.EventEmitter),this._onBlur=this.register(new P.EventEmitter),this._onA11yCharEmitter=this.register(new P.EventEmitter),this._onA11yTabEmitter=this.register(new P.EventEmitter),this._onWillOpen=this.register(new P.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(o.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(g.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(z.DecorationService),this._instantiationService.setService(X.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((j,N)=>this.refresh(j,N))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(j=>this._reportWindowsOptions(j))),this.register(this._inputHandler.onColor(j=>this._handleColorEvent(j))),this.register((0,P.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,P.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,P.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,P.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(j=>this._afterResize(j.cols,j.rows))),this.register((0,$.toDisposable)(()=>{var j,N;this._customKeyEventHandler=void 0,(N=(j=this.element)===null||j===void 0?void 0:j.parentNode)===null||N===void 0||N.removeChild(this.element)}))}_handleColorEvent(B){if(this._themeService)for(const j of B){let N,Q="";switch(j.index){case 256:N="foreground",Q="10";break;case 257:N="background",Q="11";break;case 258:N="cursor",Q="12";break;default:N="ansi",Q="4;"+j.index}switch(j.type){case 0:const ce=R.color.toColorRGB(N==="ansi"?this._themeService.colors.ansi[j.index]:this._themeService.colors[N]);this.coreService.triggerDataEvent(`${Y.C0.ESC}]${Q};${(0,H.toRgbString)(ce)}${Y.C1_ESCAPED.ST}`);break;case 1:if(N==="ansi")this._themeService.modifyColors(ue=>ue.ansi[j.index]=R.rgba.toColor(...j.color));else{const ue=N;this._themeService.modifyColors(pe=>pe[ue]=R.rgba.toColor(...j.color))}break;case 2:this._themeService.restoreColor(j.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(B){B?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(J.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(B){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(Y.C0.ESC+"[I"),this.updateCursorStyle(B),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var B;return(B=this.textarea)===null||B===void 0?void 0:B.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(Y.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const B=this.buffer.ybase+this.buffer.y,j=this.buffer.lines.get(B);if(!j)return;const N=Math.min(this.buffer.x,this.cols-1),Q=this._renderService.dimensions.css.cell.height,ce=j.getWidth(N),ue=this._renderService.dimensions.css.cell.width*ce,pe=this.buffer.y*this._renderService.dimensions.css.cell.height,Te=N*this._renderService.dimensions.css.cell.width;this.textarea.style.left=Te+"px",this.textarea.style.top=pe+"px",this.textarea.style.width=ue+"px",this.textarea.style.height=Q+"px",this.textarea.style.lineHeight=Q+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,h.addDisposableDomListener)(this.element,"copy",j=>{this.hasSelection()&&(0,i.copyHandler)(j,this._selectionService)}));const B=j=>(0,i.handlePasteEvent)(j,this.textarea,this.coreService,this.optionsService);this.register((0,h.addDisposableDomListener)(this.textarea,"paste",B)),this.register((0,h.addDisposableDomListener)(this.element,"paste",B)),F.isFirefox?this.register((0,h.addDisposableDomListener)(this.element,"mousedown",j=>{j.button===2&&(0,i.rightClickHandler)(j,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,h.addDisposableDomListener)(this.element,"contextmenu",j=>{(0,i.rightClickHandler)(j,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),F.isLinux&&this.register((0,h.addDisposableDomListener)(this.element,"auxclick",j=>{j.button===1&&(0,i.moveTextAreaUnderMouseCursor)(j,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,h.addDisposableDomListener)(this.textarea,"keyup",B=>this._keyUp(B),!0)),this.register((0,h.addDisposableDomListener)(this.textarea,"keydown",B=>this._keyDown(B),!0)),this.register((0,h.addDisposableDomListener)(this.textarea,"keypress",B=>this._keyPress(B),!0)),this.register((0,h.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,h.addDisposableDomListener)(this.textarea,"compositionupdate",B=>this._compositionHelper.compositionupdate(B))),this.register((0,h.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,h.addDisposableDomListener)(this.textarea,"input",B=>this._inputEvent(B),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(B){var j;if(!B)throw new Error("Terminal requires a parent element.");B.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=B.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),B.appendChild(this.element);const N=V.createDocumentFragment();this._viewportElement=V.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),N.appendChild(this._viewportElement),this._viewportScrollArea=V.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=V.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=V.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),N.appendChild(this.screenElement),this.textarea=V.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",u.promptLabel),F.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(C.CoreBrowserService,this.textarea,(j=this._document.defaultView)!==null&&j!==void 0?j:window),this._instantiationService.setService(L.ICoreBrowserService,this._coreBrowserService),this.register((0,h.addDisposableDomListener)(this.textarea,"focus",Q=>this._handleTextAreaFocus(Q))),this.register((0,h.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(v.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(L.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(D.ThemeService),this._instantiationService.setService(L.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(d.CharacterJoinerService),this._instantiationService.setService(L.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(A.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(L.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(Q=>this._onRender.fire(Q))),this.onResize(Q=>this._renderService.resize(Q.cols,Q.rows)),this._compositionView=V.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(f.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(N);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(w.MouseService),this._instantiationService.setService(L.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(_.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(Q=>this.scrollLines(Q.amount,Q.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(E.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(L.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(Q=>this.scrollLines(Q.amount,Q.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(Q=>this._renderService.handleSelectionChanged(Q.start,Q.end,Q.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(Q=>{this.textarea.value=Q,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(Q=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,h.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(m.BufferDecorationRenderer,this.screenElement)),this.register((0,h.addDisposableDomListener)(this.element,"mousedown",Q=>this._selectionService.handleMouseDown(Q))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(J.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",Q=>this._handleScreenReaderModeOptionChange(Q))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(r.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",Q=>{!this._overviewRulerRenderer&&Q&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(r.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(p.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const B=this,j=this.element;function N(ue){const pe=B._mouseService.getMouseReportCoords(ue,B.screenElement);if(!pe)return!1;let Te,ve;switch(ue.overrideType||ue.type){case"mousemove":ve=32,ue.buttons===void 0?(Te=3,ue.button!==void 0&&(Te=ue.button<3?ue.button:3)):Te=1&ue.buttons?0:4&ue.buttons?1:2&ue.buttons?2:3;break;case"mouseup":ve=0,Te=ue.button<3?ue.button:3;break;case"mousedown":ve=1,Te=ue.button<3?ue.button:3;break;case"wheel":if(B.viewport.getLinesScrolled(ue)===0)return!1;ve=ue.deltaY<0?0:1,Te=4;break;default:return!1}return!(ve===void 0||Te===void 0||Te>4)&&B.coreMouseService.triggerMouseEvent({col:pe.col,row:pe.row,x:pe.x,y:pe.y,button:Te,action:ve,ctrl:ue.ctrlKey,alt:ue.altKey,shift:ue.shiftKey})}const Q={mouseup:null,wheel:null,mousedrag:null,mousemove:null},ce={mouseup:ue=>(N(ue),ue.buttons||(this._document.removeEventListener("mouseup",Q.mouseup),Q.mousedrag&&this._document.removeEventListener("mousemove",Q.mousedrag)),this.cancel(ue)),wheel:ue=>(N(ue),this.cancel(ue,!0)),mousedrag:ue=>{ue.buttons&&N(ue)},mousemove:ue=>{ue.buttons||N(ue)}};this.register(this.coreMouseService.onProtocolChange(ue=>{ue?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(ue)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&ue?Q.mousemove||(j.addEventListener("mousemove",ce.mousemove),Q.mousemove=ce.mousemove):(j.removeEventListener("mousemove",Q.mousemove),Q.mousemove=null),16&ue?Q.wheel||(j.addEventListener("wheel",ce.wheel,{passive:!1}),Q.wheel=ce.wheel):(j.removeEventListener("wheel",Q.wheel),Q.wheel=null),2&ue?Q.mouseup||(j.addEventListener("mouseup",ce.mouseup),Q.mouseup=ce.mouseup):(this._document.removeEventListener("mouseup",Q.mouseup),j.removeEventListener("mouseup",Q.mouseup),Q.mouseup=null),4&ue?Q.mousedrag||(Q.mousedrag=ce.mousedrag):(this._document.removeEventListener("mousemove",Q.mousedrag),Q.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,h.addDisposableDomListener)(j,"mousedown",ue=>{if(ue.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(ue))return N(ue),Q.mouseup&&this._document.addEventListener("mouseup",Q.mouseup),Q.mousedrag&&this._document.addEventListener("mousemove",Q.mousedrag),this.cancel(ue)})),this.register((0,h.addDisposableDomListener)(j,"wheel",ue=>{if(!Q.wheel){if(!this.buffer.hasScrollback){const pe=this.viewport.getLinesScrolled(ue);if(pe===0)return;const Te=Y.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(ue.deltaY<0?"A":"B");let ve="";for(let Ce=0;Ce<Math.abs(pe);Ce++)ve+=Te;return this.coreService.triggerDataEvent(ve,!0),this.cancel(ue,!0)}return this.viewport.handleWheel(ue)?this.cancel(ue):void 0}},{passive:!1})),this.register((0,h.addDisposableDomListener)(j,"touchstart",ue=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(ue),this.cancel(ue)},{passive:!0})),this.register((0,h.addDisposableDomListener)(j,"touchmove",ue=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(ue)?void 0:this.cancel(ue)},{passive:!1}))}refresh(B,j){var N;(N=this._renderService)===null||N===void 0||N.refreshRows(B,j)}updateCursorStyle(B){var j;!((j=this._selectionService)===null||j===void 0)&&j.shouldColumnSelect(B)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(B,j,N=0){var Q;N===1?(super.scrollLines(B,j,N),this.refresh(0,this.rows-1)):(Q=this.viewport)===null||Q===void 0||Q.scrollLines(B)}paste(B){(0,i.paste)(B,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(B){this._customKeyEventHandler=B}registerLinkProvider(B){return this.linkifier2.registerLinkProvider(B)}registerCharacterJoiner(B){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const j=this._characterJoinerService.register(B);return this.refresh(0,this.rows-1),j}deregisterCharacterJoiner(B){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(B)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(B){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+B)}registerDecoration(B){return this._decorationService.registerDecoration(B)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(B,j,N){this._selectionService.setSelection(B,j,N)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var B;(B=this._selectionService)===null||B===void 0||B.clearSelection()}selectAll(){var B;(B=this._selectionService)===null||B===void 0||B.selectAll()}selectLines(B,j){var N;(N=this._selectionService)===null||N===void 0||N.selectLines(B,j)}_keyDown(B){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(B)===!1)return!1;const j=this.browser.isMac&&this.options.macOptionIsMeta&&B.altKey;if(!j&&!this._compositionHelper.keydown(B))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;j||B.key!=="Dead"&&B.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const N=(0,k.evaluateKeyboardEvent)(B,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(B),N.type===3||N.type===2){const Q=this.rows-1;return this.scrollLines(N.type===2?-Q:Q),this.cancel(B,!0)}return N.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,B)||(N.cancel&&this.cancel(B,!0),!N.key||!!(B.key&&!B.ctrlKey&&!B.altKey&&!B.metaKey&&B.key.length===1&&B.key.charCodeAt(0)>=65&&B.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(N.key!==Y.C0.ETX&&N.key!==Y.C0.CR||(this.textarea.value=""),this._onKey.fire({key:N.key,domEvent:B}),this._showCursor(),this.coreService.triggerDataEvent(N.key,!0),!this.optionsService.rawOptions.screenReaderMode||B.altKey||B.ctrlKey?this.cancel(B,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(B,j){const N=B.isMac&&!this.options.macOptionIsMeta&&j.altKey&&!j.ctrlKey&&!j.metaKey||B.isWindows&&j.altKey&&j.ctrlKey&&!j.metaKey||B.isWindows&&j.getModifierState("AltGraph");return j.type==="keypress"?N:N&&(!j.keyCode||j.keyCode>47)}_keyUp(B){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(B)===!1||(function(j){return j.keyCode===16||j.keyCode===17||j.keyCode===18}(B)||this.focus(),this.updateCursorStyle(B),this._keyPressHandled=!1)}_keyPress(B){let j;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(B)===!1)return!1;if(this.cancel(B),B.charCode)j=B.charCode;else if(B.which===null||B.which===void 0)j=B.keyCode;else{if(B.which===0||B.charCode===0)return!1;j=B.which}return!(!j||(B.altKey||B.ctrlKey||B.metaKey)&&!this._isThirdLevelShift(this.browser,B)||(j=String.fromCharCode(j),this._onKey.fire({key:j,domEvent:B}),this._showCursor(),this.coreService.triggerDataEvent(j,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(B){if(B.data&&B.inputType==="insertText"&&(!B.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const j=B.data;return this.coreService.triggerDataEvent(j,!0),this.cancel(B),!0}return!1}resize(B,j){B!==this.cols||j!==this.rows?super.resize(B,j):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(B,j){var N,Q;(N=this._charSizeService)===null||N===void 0||N.measure(),(Q=this.viewport)===null||Q===void 0||Q.syncScrollArea(!0)}clear(){var B;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let j=1;j<this.rows;j++)this.buffer.lines.push(this.buffer.getBlankLine(U.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(B=this.viewport)===null||B===void 0||B.reset(),this.refresh(0,this.rows-1)}}reset(){var B,j;this.options.rows=this.rows,this.options.cols=this.cols;const N=this._customKeyEventHandler;this._setup(),super.reset(),(B=this._selectionService)===null||B===void 0||B.reset(),this._decorationService.reset(),(j=this.viewport)===null||j===void 0||j.reset(),this._customKeyEventHandler=N,this.refresh(0,this.rows-1)}clearTextureAtlas(){var B;(B=this._renderService)===null||B===void 0||B.clearTextureAtlas()}_reportFocus(){var B;!((B=this.element)===null||B===void 0)&&B.classList.contains("focus")?this.coreService.triggerDataEvent(Y.C0.ESC+"[I"):this.coreService.triggerDataEvent(Y.C0.ESC+"[O")}_reportWindowsOptions(B){if(this._renderService)switch(B){case te.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const j=this._renderService.dimensions.css.canvas.width.toFixed(0),N=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${Y.C0.ESC}[4;${N};${j}t`);break;case te.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const Q=this._renderService.dimensions.css.cell.width.toFixed(0),ce=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${Y.C0.ESC}[6;${ce};${Q}t`)}}cancel(B,j){if(this.options.cancelEvents||j)return B.preventDefault(),B.stopPropagation(),!1}}t.Terminal=se},9924:(l,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TimeBasedDebouncer=void 0,t.TimeBasedDebouncer=class{constructor(n,i=1e3){this._renderCallback=n,this._debounceThresholdMS=i,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(n,i,h){this._rowCount=h,n=n!==void 0?n:0,i=i!==void 0?i:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,n):n,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,i):i;const o=Date.now();if(o-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=o,this._innerRefresh();else if(!this._additionalRefreshRequested){const u=o-this._lastRefreshMs,g=this._debounceThresholdMS-u;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},g)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const n=Math.max(this._rowStart,0),i=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(n,i)}}},1680:function(l,t,n){var i=this&&this.__decorate||function(f,p,v,d){var C,w=arguments.length,A=w<3?p:d===null?d=Object.getOwnPropertyDescriptor(p,v):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(f,p,v,d);else for(var E=f.length-1;E>=0;E--)(C=f[E])&&(A=(w<3?C(A):w>3?C(p,v,A):C(p,v))||A);return w>3&&A&&Object.defineProperty(p,v,A),A},h=this&&this.__param||function(f,p){return function(v,d){p(v,d,f)}};Object.defineProperty(t,"__esModule",{value:!0}),t.Viewport=void 0;const o=n(3656),u=n(4725),g=n(8460),_=n(844),m=n(2585);let r=t.Viewport=class extends _.Disposable{constructor(f,p,v,d,C,w,A,E){super(),this._viewportElement=f,this._scrollArea=p,this._bufferService=v,this._optionsService=d,this._charSizeService=C,this._renderService=w,this._coreBrowserService=A,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new g.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,o.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(L=>this._activeBuffer=L.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(L=>this._renderDimensions=L)),this._handleThemeChange(E.colors),this.register(E.onChangeColors(L=>this._handleThemeChange(L))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(f){this._viewportElement.style.backgroundColor=f.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(f){if(f)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const p=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==p&&(this._lastRecordedBufferHeight=p,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const f=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==f&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=f),this._refreshAnimationFrame=null}syncScrollArea(f=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(f);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(f)}_handleScroll(f){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const p=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:p,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const f=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(f*(this._smoothScrollState.target-this._smoothScrollState.origin)),f<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(f,p){const v=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(p<0&&this._viewportElement.scrollTop!==0||p>0&&v<this._lastRecordedBufferHeight)||(f.cancelable&&f.preventDefault(),!1)}handleWheel(f){const p=this._getPixelsScrolled(f);return p!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+p:this._smoothScrollState.target+=p,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=p,this._bubbleScroll(f,p))}scrollLines(f){if(f!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const p=f*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+p,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:f,suppressScrollEvent:!1})}_getPixelsScrolled(f){if(f.deltaY===0||f.shiftKey)return 0;let p=this._applyScrollModifier(f.deltaY,f);return f.deltaMode===WheelEvent.DOM_DELTA_LINE?p*=this._currentRowHeight:f.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(p*=this._currentRowHeight*this._bufferService.rows),p}getBufferElements(f,p){var v;let d,C="";const w=[],A=p??this._bufferService.buffer.lines.length,E=this._bufferService.buffer.lines;for(let L=f;L<A;L++){const D=E.get(L);if(!D)continue;const R=(v=E.get(L+1))===null||v===void 0?void 0:v.isWrapped;if(C+=D.translateToString(!R),!R||L===E.length-1){const I=document.createElement("div");I.textContent=C,w.push(I),C.length>0&&(d=I),C=""}}return{bufferElements:w,cursorElement:d}}getLinesScrolled(f){if(f.deltaY===0||f.shiftKey)return 0;let p=this._applyScrollModifier(f.deltaY,f);return f.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(p/=this._currentRowHeight+0,this._wheelPartialScroll+=p,p=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):f.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(p*=this._bufferService.rows),p}_applyScrollModifier(f,p){const v=this._optionsService.rawOptions.fastScrollModifier;return v==="alt"&&p.altKey||v==="ctrl"&&p.ctrlKey||v==="shift"&&p.shiftKey?f*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:f*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(f){this._lastTouchY=f.touches[0].pageY}handleTouchMove(f){const p=this._lastTouchY-f.touches[0].pageY;return this._lastTouchY=f.touches[0].pageY,p!==0&&(this._viewportElement.scrollTop+=p,this._bubbleScroll(f,p))}};t.Viewport=r=i([h(2,m.IBufferService),h(3,m.IOptionsService),h(4,u.ICharSizeService),h(5,u.IRenderService),h(6,u.ICoreBrowserService),h(7,u.IThemeService)],r)},3107:function(l,t,n){var i=this&&this.__decorate||function(r,f,p,v){var d,C=arguments.length,w=C<3?f:v===null?v=Object.getOwnPropertyDescriptor(f,p):v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(r,f,p,v);else for(var A=r.length-1;A>=0;A--)(d=r[A])&&(w=(C<3?d(w):C>3?d(f,p,w):d(f,p))||w);return C>3&&w&&Object.defineProperty(f,p,w),w},h=this&&this.__param||function(r,f){return function(p,v){f(p,v,r)}};Object.defineProperty(t,"__esModule",{value:!0}),t.BufferDecorationRenderer=void 0;const o=n(3656),u=n(4725),g=n(844),_=n(2585);let m=t.BufferDecorationRenderer=class extends g.Disposable{constructor(r,f,p,v){super(),this._screenElement=r,this._bufferService=f,this._decorationService=p,this._renderService=v,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,o.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(d=>this._removeDecoration(d))),this.register((0,g.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const r of this._decorationService.decorations)this._renderDecoration(r);this._dimensionsChanged=!1}_renderDecoration(r){this._refreshStyle(r),this._dimensionsChanged&&this._refreshXPosition(r)}_createElement(r){var f,p;const v=document.createElement("div");v.classList.add("xterm-decoration"),v.classList.toggle("xterm-decoration-top-layer",((f=r==null?void 0:r.options)===null||f===void 0?void 0:f.layer)==="top"),v.style.width=`${Math.round((r.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,v.style.height=(r.options.height||1)*this._renderService.dimensions.css.cell.height+"px",v.style.top=(r.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",v.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const d=(p=r.options.x)!==null&&p!==void 0?p:0;return d&&d>this._bufferService.cols&&(v.style.display="none"),this._refreshXPosition(r,v),v}_refreshStyle(r){const f=r.marker.line-this._bufferService.buffers.active.ydisp;if(f<0||f>=this._bufferService.rows)r.element&&(r.element.style.display="none",r.onRenderEmitter.fire(r.element));else{let p=this._decorationElements.get(r);p||(p=this._createElement(r),r.element=p,this._decorationElements.set(r,p),this._container.appendChild(p),r.onDispose(()=>{this._decorationElements.delete(r),p.remove()})),p.style.top=f*this._renderService.dimensions.css.cell.height+"px",p.style.display=this._altBufferIsActive?"none":"block",r.onRenderEmitter.fire(p)}}_refreshXPosition(r,f=r.element){var p;if(!f)return;const v=(p=r.options.x)!==null&&p!==void 0?p:0;(r.options.anchor||"left")==="right"?f.style.right=v?v*this._renderService.dimensions.css.cell.width+"px":"":f.style.left=v?v*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(r){var f;(f=this._decorationElements.get(r))===null||f===void 0||f.remove(),this._decorationElements.delete(r),r.dispose()}};t.BufferDecorationRenderer=m=i([h(1,_.IBufferService),h(2,_.IDecorationService),h(3,u.IRenderService)],m)},5871:(l,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ColorZoneStore=void 0,t.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(n){if(n.options.overviewRulerOptions){for(const i of this._zones)if(i.color===n.options.overviewRulerOptions.color&&i.position===n.options.overviewRulerOptions.position){if(this._lineIntersectsZone(i,n.marker.line))return;if(this._lineAdjacentToZone(i,n.marker.line,n.options.overviewRulerOptions.position))return void this._addLineToZone(i,n.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=n.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=n.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=n.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=n.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:n.options.overviewRulerOptions.color,position:n.options.overviewRulerOptions.position,startBufferLine:n.marker.line,endBufferLine:n.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(n){this._linePadding=n}_lineIntersectsZone(n,i){return i>=n.startBufferLine&&i<=n.endBufferLine}_lineAdjacentToZone(n,i,h){return i>=n.startBufferLine-this._linePadding[h||"full"]&&i<=n.endBufferLine+this._linePadding[h||"full"]}_addLineToZone(n,i){n.startBufferLine=Math.min(n.startBufferLine,i),n.endBufferLine=Math.max(n.endBufferLine,i)}}},5744:function(l,t,n){var i=this&&this.__decorate||function(d,C,w,A){var E,L=arguments.length,D=L<3?C:A===null?A=Object.getOwnPropertyDescriptor(C,w):A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(d,C,w,A);else for(var R=d.length-1;R>=0;R--)(E=d[R])&&(D=(L<3?E(D):L>3?E(C,w,D):E(C,w))||D);return L>3&&D&&Object.defineProperty(C,w,D),D},h=this&&this.__param||function(d,C){return function(w,A){C(w,A,d)}};Object.defineProperty(t,"__esModule",{value:!0}),t.OverviewRulerRenderer=void 0;const o=n(5871),u=n(3656),g=n(4725),_=n(844),m=n(2585),r={full:0,left:0,center:0,right:0},f={full:0,left:0,center:0,right:0},p={full:0,left:0,center:0,right:0};let v=t.OverviewRulerRenderer=class extends _.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(d,C,w,A,E,L,D){var R;super(),this._viewportElement=d,this._screenElement=C,this._bufferService=w,this._decorationService=A,this._renderService=E,this._optionsService=L,this._coreBrowseService=D,this._colorZoneStore=new o.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(R=this._viewportElement.parentElement)===null||R===void 0||R.insertBefore(this._canvas,this._viewportElement);const I=this._canvas.getContext("2d");if(!I)throw new Error("Ctx cannot be null");this._ctx=I,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,_.toDisposable)(()=>{var P;(P=this._canvas)===null||P===void 0||P.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register((0,u.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const d=Math.floor(this._canvas.width/3),C=Math.ceil(this._canvas.width/3);f.full=this._canvas.width,f.left=d,f.center=C,f.right=d,this._refreshDrawHeightConstants(),p.full=0,p.left=0,p.center=f.left,p.right=f.left+f.center}_refreshDrawHeightConstants(){r.full=Math.round(2*this._coreBrowseService.dpr);const d=this._canvas.height/this._bufferService.buffer.lines.length,C=Math.round(Math.max(Math.min(d,12),6)*this._coreBrowseService.dpr);r.left=C,r.center=C,r.right=C}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*r.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*r.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*r.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*r.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const C of this._decorationService.decorations)this._colorZoneStore.addDecoration(C);this._ctx.lineWidth=1;const d=this._colorZoneStore.zones;for(const C of d)C.position!=="full"&&this._renderColorZone(C);for(const C of d)C.position==="full"&&this._renderColorZone(C);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(d){this._ctx.fillStyle=d.color,this._ctx.fillRect(p[d.position||"full"],Math.round((this._canvas.height-1)*(d.startBufferLine/this._bufferService.buffers.active.lines.length)-r[d.position||"full"]/2),f[d.position||"full"],Math.round((this._canvas.height-1)*((d.endBufferLine-d.startBufferLine)/this._bufferService.buffers.active.lines.length)+r[d.position||"full"]))}_queueRefresh(d,C){this._shouldUpdateDimensions=d||this._shouldUpdateDimensions,this._shouldUpdateAnchor=C||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};t.OverviewRulerRenderer=v=i([h(2,m.IBufferService),h(3,m.IDecorationService),h(4,g.IRenderService),h(5,m.IOptionsService),h(6,g.ICoreBrowserService)],v)},2950:function(l,t,n){var i=this&&this.__decorate||function(m,r,f,p){var v,d=arguments.length,C=d<3?r:p===null?p=Object.getOwnPropertyDescriptor(r,f):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(m,r,f,p);else for(var w=m.length-1;w>=0;w--)(v=m[w])&&(C=(d<3?v(C):d>3?v(r,f,C):v(r,f))||C);return d>3&&C&&Object.defineProperty(r,f,C),C},h=this&&this.__param||function(m,r){return function(f,p){r(f,p,m)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CompositionHelper=void 0;const o=n(4725),u=n(2585),g=n(2584);let _=t.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(m,r,f,p,v,d){this._textarea=m,this._compositionView=r,this._bufferService=f,this._optionsService=p,this._coreService=v,this._renderService=d,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(m){this._compositionView.textContent=m.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(m){if(this._isComposing||this._isSendingComposition){if(m.keyCode===229||m.keyCode===16||m.keyCode===17||m.keyCode===18)return!1;this._finalizeComposition(!1)}return m.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(m){if(this._compositionView.classList.remove("active"),this._isComposing=!1,m){const r={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let f;this._isSendingComposition=!1,r.start+=this._dataAlreadySent.length,f=this._isComposing?this._textarea.value.substring(r.start,r.end):this._textarea.value.substring(r.start),f.length>0&&this._coreService.triggerDataEvent(f,!0)}},0)}else{this._isSendingComposition=!1;const r=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(r,!0)}}_handleAnyTextareaChanges(){const m=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const r=this._textarea.value,f=r.replace(m,"");this._dataAlreadySent=f,r.length>m.length?this._coreService.triggerDataEvent(f,!0):r.length<m.length?this._coreService.triggerDataEvent(`${g.C0.DEL}`,!0):r.length===m.length&&r!==m&&this._coreService.triggerDataEvent(r,!0)}},0)}updateCompositionElements(m){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const r=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),f=this._renderService.dimensions.css.cell.height,p=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,v=r*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=v+"px",this._compositionView.style.top=p+"px",this._compositionView.style.height=f+"px",this._compositionView.style.lineHeight=f+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const d=this._compositionView.getBoundingClientRect();this._textarea.style.left=v+"px",this._textarea.style.top=p+"px",this._textarea.style.width=Math.max(d.width,1)+"px",this._textarea.style.height=Math.max(d.height,1)+"px",this._textarea.style.lineHeight=d.height+"px"}m||setTimeout(()=>this.updateCompositionElements(!0),0)}}};t.CompositionHelper=_=i([h(2,u.IBufferService),h(3,u.IOptionsService),h(4,u.ICoreService),h(5,o.IRenderService)],_)},9806:(l,t)=>{function n(i,h,o){const u=o.getBoundingClientRect(),g=i.getComputedStyle(o),_=parseInt(g.getPropertyValue("padding-left")),m=parseInt(g.getPropertyValue("padding-top"));return[h.clientX-u.left-_,h.clientY-u.top-m]}Object.defineProperty(t,"__esModule",{value:!0}),t.getCoords=t.getCoordsRelativeToElement=void 0,t.getCoordsRelativeToElement=n,t.getCoords=function(i,h,o,u,g,_,m,r,f){if(!_)return;const p=n(i,h,o);return p?(p[0]=Math.ceil((p[0]+(f?m/2:0))/m),p[1]=Math.ceil(p[1]/r),p[0]=Math.min(Math.max(p[0],1),u+(f?1:0)),p[1]=Math.min(Math.max(p[1],1),g),p):void 0}},9504:(l,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.moveToCellSequence=void 0;const i=n(2584);function h(r,f,p,v){const d=r-o(r,p),C=f-o(f,p),w=Math.abs(d-C)-function(A,E,L){let D=0;const R=A-o(A,L),I=E-o(E,L);for(let P=0;P<Math.abs(R-I);P++){const $=u(A,E)==="A"?-1:1,F=L.buffer.lines.get(R+$*P);F!=null&&F.isWrapped&&D++}return D}(r,f,p);return m(w,_(u(r,f),v))}function o(r,f){let p=0,v=f.buffer.lines.get(r),d=v==null?void 0:v.isWrapped;for(;d&&r>=0&&r<f.rows;)p++,v=f.buffer.lines.get(--r),d=v==null?void 0:v.isWrapped;return p}function u(r,f){return r>f?"A":"B"}function g(r,f,p,v,d,C){let w=r,A=f,E="";for(;w!==p||A!==v;)w+=d?1:-1,d&&w>C.cols-1?(E+=C.buffer.translateBufferLineToString(A,!1,r,w),w=0,r=0,A++):!d&&w<0&&(E+=C.buffer.translateBufferLineToString(A,!1,0,r+1),w=C.cols-1,r=w,A--);return E+C.buffer.translateBufferLineToString(A,!1,r,w)}function _(r,f){const p=f?"O":"[";return i.C0.ESC+p+r}function m(r,f){r=Math.floor(r);let p="";for(let v=0;v<r;v++)p+=f;return p}t.moveToCellSequence=function(r,f,p,v){const d=p.buffer.x,C=p.buffer.y;if(!p.buffer.hasScrollback)return function(E,L,D,R,I,P){return h(L,R,I,P).length===0?"":m(g(E,L,E,L-o(L,I),!1,I).length,_("D",P))}(d,C,0,f,p,v)+h(C,f,p,v)+function(E,L,D,R,I,P){let $;$=h(L,R,I,P).length>0?R-o(R,I):L;const F=R,U=function(Y,k,H,z,X,te){let J;return J=h(H,z,X,te).length>0?z-o(z,X):k,Y<H&&J<=z||Y>=H&&J<z?"C":"D"}(E,L,D,R,I,P);return m(g(E,$,D,F,U==="C",I).length,_(U,P))}(d,C,r,f,p,v);let w;if(C===f)return w=d>r?"D":"C",m(Math.abs(d-r),_(w,v));w=C>f?"D":"C";const A=Math.abs(C-f);return m(function(E,L){return L.cols-E}(C>f?r:d,p)+(A-1)*p.cols+1+((C>f?d:r)-1),_(w,v))}},1296:function(l,t,n){var i=this&&this.__decorate||function(I,P,$,F){var U,Y=arguments.length,k=Y<3?P:F===null?F=Object.getOwnPropertyDescriptor(P,$):F;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(I,P,$,F);else for(var H=I.length-1;H>=0;H--)(U=I[H])&&(k=(Y<3?U(k):Y>3?U(P,$,k):U(P,$))||k);return Y>3&&k&&Object.defineProperty(P,$,k),k},h=this&&this.__param||function(I,P){return function($,F){P($,F,I)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DomRenderer=void 0;const o=n(3787),u=n(2550),g=n(2223),_=n(6171),m=n(4725),r=n(8055),f=n(8460),p=n(844),v=n(2585),d="xterm-dom-renderer-owner-",C="xterm-rows",w="xterm-fg-",A="xterm-bg-",E="xterm-focus",L="xterm-selection";let D=1,R=t.DomRenderer=class extends p.Disposable{constructor(I,P,$,F,U,Y,k,H,z,X){super(),this._element=I,this._screenElement=P,this._viewportElement=$,this._linkifier2=F,this._charSizeService=Y,this._optionsService=k,this._bufferService=H,this._coreBrowserService=z,this._themeService=X,this._terminalClass=D++,this._rowElements=[],this.onRequestRedraw=this.register(new f.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add(C),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add(L),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,_.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(te=>this._injectCss(te))),this._injectCss(this._themeService.colors),this._rowFactory=U.createInstance(o.DomRendererRowFactory,document),this._element.classList.add(d+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(te=>this._handleLinkHover(te))),this.register(this._linkifier2.onHideLinkUnderline(te=>this._handleLinkLeave(te))),this.register((0,p.toDisposable)(()=>{this._element.classList.remove(d+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new u.WidthCache(document),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const I=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*I,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*I),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/I),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/I),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const $ of this._rowElements)$.style.width=`${this.dimensions.css.canvas.width}px`,$.style.height=`${this.dimensions.css.cell.height}px`,$.style.lineHeight=`${this.dimensions.css.cell.height}px`,$.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const P=`${this._terminalSelector} .${C} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=P,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(I){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let P=`${this._terminalSelector} .${C} { color: ${I.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;P+=`${this._terminalSelector} .${C} .xterm-dim { color: ${r.color.multiplyOpacity(I.foreground,.5).css};}`,P+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`,P+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  border-bottom-style: hidden; }}",P+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${I.cursor.css};  color: ${I.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${I.cursor.css}; }}`,P+=`${this._terminalSelector} .${C}.${E} .xterm-cursor.xterm-cursor-blink:not(.xterm-cursor-block) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${C}.${E} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${C} .xterm-cursor.xterm-cursor-block { background-color: ${I.cursor.css}; color: ${I.cursorAccent.css};}${this._terminalSelector} .${C} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${I.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${C} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${I.cursor.css} inset;}${this._terminalSelector} .${C} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${I.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,P+=`${this._terminalSelector} .${L} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${L} div { position: absolute; background-color: ${I.selectionBackgroundOpaque.css};}${this._terminalSelector} .${L} div { position: absolute; background-color: ${I.selectionInactiveBackgroundOpaque.css};}`;for(const[$,F]of I.ansi.entries())P+=`${this._terminalSelector} .${w}${$} { color: ${F.css}; }${this._terminalSelector} .${w}${$}.xterm-dim { color: ${r.color.multiplyOpacity(F,.5).css}; }${this._terminalSelector} .${A}${$} { background-color: ${F.css}; }`;P+=`${this._terminalSelector} .${w}${g.INVERTED_DEFAULT_COLOR} { color: ${r.color.opaque(I.background).css}; }${this._terminalSelector} .${w}${g.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${r.color.multiplyOpacity(r.color.opaque(I.background),.5).css}; }${this._terminalSelector} .${A}${g.INVERTED_DEFAULT_COLOR} { background-color: ${I.foreground.css}; }`,this._themeStyleElement.textContent=P}_setDefaultSpacing(){const I=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${I}px`,this._rowFactory.defaultSpacing=I}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(I,P){for(let $=this._rowElements.length;$<=P;$++){const F=document.createElement("div");this._rowContainer.appendChild(F),this._rowElements.push(F)}for(;this._rowElements.length>P;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(I,P){this._refreshRowElements(I,P),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(E)}handleFocus(){this._rowContainer.classList.add(E),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(I,P,$){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(I,P,$),this.renderRows(0,this._bufferService.rows-1),!I||!P)return;const F=I[1]-this._bufferService.buffer.ydisp,U=P[1]-this._bufferService.buffer.ydisp,Y=Math.max(F,0),k=Math.min(U,this._bufferService.rows-1);if(Y>=this._bufferService.rows||k<0)return;const H=document.createDocumentFragment();if($){const z=I[0]>P[0];H.appendChild(this._createSelectionElement(Y,z?P[0]:I[0],z?I[0]:P[0],k-Y+1))}else{const z=F===Y?I[0]:0,X=Y===U?P[0]:this._bufferService.cols;H.appendChild(this._createSelectionElement(Y,z,X));const te=k-Y-1;if(H.appendChild(this._createSelectionElement(Y+1,0,this._bufferService.cols,te)),Y!==k){const J=U===k?P[0]:this._bufferService.cols;H.appendChild(this._createSelectionElement(k,0,J))}}this._selectionContainer.appendChild(H)}_createSelectionElement(I,P,$,F=1){const U=document.createElement("div");return U.style.height=F*this.dimensions.css.cell.height+"px",U.style.top=I*this.dimensions.css.cell.height+"px",U.style.left=P*this.dimensions.css.cell.width+"px",U.style.width=this.dimensions.css.cell.width*($-P)+"px",U}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const I of this._rowElements)I.replaceChildren()}renderRows(I,P){const $=this._bufferService.buffer,F=$.ybase+$.y,U=Math.min($.x,this._bufferService.cols-1),Y=this._optionsService.rawOptions.cursorBlink,k=this._optionsService.rawOptions.cursorStyle,H=this._optionsService.rawOptions.cursorInactiveStyle;for(let z=I;z<=P;z++){const X=z+$.ydisp,te=this._rowElements[z],J=$.lines.get(X);if(!te||!J)break;te.replaceChildren(...this._rowFactory.createRow(J,X,X===F,k,H,U,Y,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${d}${this._terminalClass}`}_handleLinkHover(I){this._setCellUnderline(I.x1,I.x2,I.y1,I.y2,I.cols,!0)}_handleLinkLeave(I){this._setCellUnderline(I.x1,I.x2,I.y1,I.y2,I.cols,!1)}_setCellUnderline(I,P,$,F,U,Y){$<0&&(I=0),F<0&&(P=0);const k=this._bufferService.rows-1;$=Math.max(Math.min($,k),0),F=Math.max(Math.min(F,k),0),U=Math.min(U,this._bufferService.cols);const H=this._bufferService.buffer,z=H.ybase+H.y,X=Math.min(H.x,U-1),te=this._optionsService.rawOptions.cursorBlink,J=this._optionsService.rawOptions.cursorStyle,V=this._optionsService.rawOptions.cursorInactiveStyle;for(let se=$;se<=F;++se){const be=se+H.ydisp,B=this._rowElements[se],j=H.lines.get(be);if(!B||!j)break;B.replaceChildren(...this._rowFactory.createRow(j,be,be===z,J,V,X,te,this.dimensions.css.cell.width,this._widthCache,Y?se===$?I:0:-1,Y?(se===F?P:U)-1:-1))}}};t.DomRenderer=R=i([h(4,v.IInstantiationService),h(5,m.ICharSizeService),h(6,v.IOptionsService),h(7,v.IBufferService),h(8,m.ICoreBrowserService),h(9,m.IThemeService)],R)},3787:function(l,t,n){var i=this&&this.__decorate||function(w,A,E,L){var D,R=arguments.length,I=R<3?A:L===null?L=Object.getOwnPropertyDescriptor(A,E):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(w,A,E,L);else for(var P=w.length-1;P>=0;P--)(D=w[P])&&(I=(R<3?D(I):R>3?D(A,E,I):D(A,E))||I);return R>3&&I&&Object.defineProperty(A,E,I),I},h=this&&this.__param||function(w,A){return function(E,L){A(E,L,w)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DomRendererRowFactory=void 0;const o=n(2223),u=n(643),g=n(511),_=n(2585),m=n(8055),r=n(4725),f=n(4269),p=n(6171),v=n(3734);let d=t.DomRendererRowFactory=class{constructor(w,A,E,L,D,R,I){this._document=w,this._characterJoinerService=A,this._optionsService=E,this._coreBrowserService=L,this._coreService=D,this._decorationService=R,this._themeService=I,this._workCell=new g.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(w,A,E){this._selectionStart=w,this._selectionEnd=A,this._columnSelectMode=E}createRow(w,A,E,L,D,R,I,P,$,F,U){const Y=[],k=this._characterJoinerService.getJoinedCharacters(A),H=this._themeService.colors;let z,X=w.getNoBgTrimmedLength();E&&X<R+1&&(X=R+1);let te=0,J="",V=0,se=0,be=0,B=!1,j=0,N=!1,Q=0;const ce=[],ue=F!==-1&&U!==-1;for(let pe=0;pe<X;pe++){w.loadCell(pe,this._workCell);let Te=this._workCell.getWidth();if(Te===0)continue;let ve=!1,Ce=pe,xe=this._workCell;if(k.length>0&&pe===k[0][0]){ve=!0;const fe=k.shift();xe=new f.JoinedCellData(this._workCell,w.translateToString(!0,fe[0],fe[1]),fe[1]-fe[0]),Ce=fe[1]-1,Te=xe.getWidth()}const qe=this._isCellInSelection(pe,A),lt=E&&pe===R,Ve=ue&&pe>=F&&pe<=U;let tt=!1;this._decorationService.forEachDecorationAtCell(pe,A,void 0,fe=>{tt=!0});let Be=xe.getChars()||u.WHITESPACE_CELL_CHAR;if(Be===" "&&(xe.isUnderline()||xe.isOverline())&&(Be=" "),Q=Te*P-$.get(Be,xe.isBold(),xe.isItalic()),z){if(te&&(qe&&N||!qe&&!N&&xe.bg===V)&&(qe&&N&&H.selectionForeground||xe.fg===se)&&xe.extended.ext===be&&Ve===B&&Q===j&&!lt&&!ve&&!tt){J+=Be,te++;continue}te&&(z.textContent=J),z=this._document.createElement("span"),te=0,J=""}else z=this._document.createElement("span");if(V=xe.bg,se=xe.fg,be=xe.extended.ext,B=Ve,j=Q,N=qe,ve&&R>=pe&&R<=Ce&&(R=pe),!this._coreService.isCursorHidden&&lt){if(ce.push("xterm-cursor"),this._coreBrowserService.isFocused)I&&ce.push("xterm-cursor-blink"),ce.push(L==="bar"?"xterm-cursor-bar":L==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(D)switch(D){case"outline":ce.push("xterm-cursor-outline");break;case"block":ce.push("xterm-cursor-block");break;case"bar":ce.push("xterm-cursor-bar");break;case"underline":ce.push("xterm-cursor-underline")}}if(xe.isBold()&&ce.push("xterm-bold"),xe.isItalic()&&ce.push("xterm-italic"),xe.isDim()&&ce.push("xterm-dim"),J=xe.isInvisible()?u.WHITESPACE_CELL_CHAR:xe.getChars()||u.WHITESPACE_CELL_CHAR,xe.isUnderline()&&(ce.push(`xterm-underline-${xe.extended.underlineStyle}`),J===" "&&(J=" "),!xe.isUnderlineColorDefault()))if(xe.isUnderlineColorRGB())z.style.textDecorationColor=`rgb(${v.AttributeData.toColorRGB(xe.getUnderlineColor()).join(",")})`;else{let fe=xe.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&xe.isBold()&&fe<8&&(fe+=8),z.style.textDecorationColor=H.ansi[fe].css}xe.isOverline()&&(ce.push("xterm-overline"),J===" "&&(J=" ")),xe.isStrikethrough()&&ce.push("xterm-strikethrough"),Ve&&(z.style.textDecoration="underline");let Qe=xe.getFgColor(),Fe=xe.getFgColorMode(),Ge=xe.getBgColor(),ot=xe.getBgColorMode();const Ye=!!xe.isInverse();if(Ye){const fe=Qe;Qe=Ge,Ge=fe;const Re=Fe;Fe=ot,ot=Re}let Xe,_e,le,me=!1;switch(this._decorationService.forEachDecorationAtCell(pe,A,void 0,fe=>{fe.options.layer!=="top"&&me||(fe.backgroundColorRGB&&(ot=50331648,Ge=fe.backgroundColorRGB.rgba>>8&16777215,Xe=fe.backgroundColorRGB),fe.foregroundColorRGB&&(Fe=50331648,Qe=fe.foregroundColorRGB.rgba>>8&16777215,_e=fe.foregroundColorRGB),me=fe.options.layer==="top")}),!me&&qe&&(Xe=this._coreBrowserService.isFocused?H.selectionBackgroundOpaque:H.selectionInactiveBackgroundOpaque,Ge=Xe.rgba>>8&16777215,ot=50331648,me=!0,H.selectionForeground&&(Fe=50331648,Qe=H.selectionForeground.rgba>>8&16777215,_e=H.selectionForeground)),me&&ce.push("xterm-decoration-top"),ot){case 16777216:case 33554432:le=H.ansi[Ge],ce.push(`xterm-bg-${Ge}`);break;case 50331648:le=m.rgba.toColor(Ge>>16,Ge>>8&255,255&Ge),this._addStyle(z,`background-color:#${C((Ge>>>0).toString(16),"0",6)}`);break;default:Ye?(le=H.foreground,ce.push(`xterm-bg-${o.INVERTED_DEFAULT_COLOR}`)):le=H.background}switch(Xe||xe.isDim()&&(Xe=m.color.multiplyOpacity(le,.5)),Fe){case 16777216:case 33554432:xe.isBold()&&Qe<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(Qe+=8),this._applyMinimumContrast(z,le,H.ansi[Qe],xe,Xe,void 0)||ce.push(`xterm-fg-${Qe}`);break;case 50331648:const fe=m.rgba.toColor(Qe>>16&255,Qe>>8&255,255&Qe);this._applyMinimumContrast(z,le,fe,xe,Xe,_e)||this._addStyle(z,`color:#${C(Qe.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(z,le,H.foreground,xe,Xe,void 0)||Ye&&ce.push(`xterm-fg-${o.INVERTED_DEFAULT_COLOR}`)}ce.length&&(z.className=ce.join(" "),ce.length=0),lt||ve||tt?z.textContent=J:te++,Q!==this.defaultSpacing&&(z.style.letterSpacing=`${Q}px`),Y.push(z),pe=Ce}return z&&te&&(z.textContent=J),Y}_applyMinimumContrast(w,A,E,L,D,R){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,p.excludeFromContrastRatioDemands)(L.getCode()))return!1;const I=this._getContrastCache(L);let P;if(D||R||(P=I.getColor(A.rgba,E.rgba)),P===void 0){const $=this._optionsService.rawOptions.minimumContrastRatio/(L.isDim()?2:1);P=m.color.ensureContrastRatio(D||A,R||E,$),I.setColor((D||A).rgba,(R||E).rgba,P??null)}return!!P&&(this._addStyle(w,`color:${P.css}`),!0)}_getContrastCache(w){return w.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(w,A){w.setAttribute("style",`${w.getAttribute("style")||""}${A};`)}_isCellInSelection(w,A){const E=this._selectionStart,L=this._selectionEnd;return!(!E||!L)&&(this._columnSelectMode?E[0]<=L[0]?w>=E[0]&&A>=E[1]&&w<L[0]&&A<=L[1]:w<E[0]&&A>=E[1]&&w>=L[0]&&A<=L[1]:A>E[1]&&A<L[1]||E[1]===L[1]&&A===E[1]&&w>=E[0]&&w<L[0]||E[1]<L[1]&&A===L[1]&&w<L[0]||E[1]<L[1]&&A===E[1]&&w>=E[0])}};function C(w,A,E){for(;w.length<E;)w=A+w;return w}t.DomRendererRowFactory=d=i([h(1,r.ICharacterJoinerService),h(2,_.IOptionsService),h(3,r.ICoreBrowserService),h(4,_.ICoreService),h(5,_.IDecorationService),h(6,r.IThemeService)],d)},2550:(l,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WidthCache=void 0,t.WidthCache=class{constructor(n){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=n.createElement("div"),this._container.style.position="absolute",this._container.style.top="-50000px",this._container.style.width="50000px",this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const i=n.createElement("span"),h=n.createElement("span");h.style.fontWeight="bold";const o=n.createElement("span");o.style.fontStyle="italic";const u=n.createElement("span");u.style.fontWeight="bold",u.style.fontStyle="italic",this._measureElements=[i,h,o,u],this._container.appendChild(i),this._container.appendChild(h),this._container.appendChild(o),this._container.appendChild(u),n.body.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(n,i,h,o){n===this._font&&i===this._fontSize&&h===this._weight&&o===this._weightBold||(this._font=n,this._fontSize=i,this._weight=h,this._weightBold=o,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${h}`,this._measureElements[1].style.fontWeight=`${o}`,this._measureElements[2].style.fontWeight=`${h}`,this._measureElements[3].style.fontWeight=`${o}`,this.clear())}get(n,i,h){let o=0;if(!i&&!h&&n.length===1&&(o=n.charCodeAt(0))<256)return this._flat[o]!==-9999?this._flat[o]:this._flat[o]=this._measure(n,0);let u=n;i&&(u+="B"),h&&(u+="I");let g=this._holey.get(u);if(g===void 0){let _=0;i&&(_|=1),h&&(_|=2),g=this._measure(n,_),this._holey.set(u,g)}return g}_measure(n,i){const h=this._measureElements[i];return h.textContent=n.repeat(32),h.offsetWidth/32}}},2223:(l,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TEXT_BASELINE=t.DIM_OPACITY=t.INVERTED_DEFAULT_COLOR=void 0;const i=n(6114);t.INVERTED_DEFAULT_COLOR=257,t.DIM_OPACITY=.5,t.TEXT_BASELINE=i.isFirefox||i.isLegacyEdge?"bottom":"ideographic"},6171:(l,t)=>{function n(i){return 57508<=i&&i<=57558}Object.defineProperty(t,"__esModule",{value:!0}),t.createRenderDimensions=t.excludeFromContrastRatioDemands=t.isRestrictedPowerlineGlyph=t.isPowerlineGlyph=t.throwIfFalsy=void 0,t.throwIfFalsy=function(i){if(!i)throw new Error("value must not be falsy");return i},t.isPowerlineGlyph=n,t.isRestrictedPowerlineGlyph=function(i){return 57520<=i&&i<=57527},t.excludeFromContrastRatioDemands=function(i){return n(i)||function(h){return 9472<=h&&h<=9631}(i)},t.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(l,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionModel=void 0,t.SelectionModel=class{constructor(n){this._bufferService=n,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const n=this.selectionStart[0]+this.selectionStartLength;return n>this._bufferService.cols?n%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(n/this._bufferService.cols)-1]:[n%this._bufferService.cols,this.selectionStart[1]+Math.floor(n/this._bufferService.cols)]:[n,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const n=this.selectionStart[0]+this.selectionStartLength;return n>this._bufferService.cols?[n%this._bufferService.cols,this.selectionStart[1]+Math.floor(n/this._bufferService.cols)]:[Math.max(n,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const n=this.selectionStart,i=this.selectionEnd;return!(!n||!i)&&(n[1]>i[1]||n[1]===i[1]&&n[0]>i[0])}handleTrim(n){return this.selectionStart&&(this.selectionStart[1]-=n),this.selectionEnd&&(this.selectionEnd[1]-=n),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(l,t,n){var i=this&&this.__decorate||function(r,f,p,v){var d,C=arguments.length,w=C<3?f:v===null?v=Object.getOwnPropertyDescriptor(f,p):v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(r,f,p,v);else for(var A=r.length-1;A>=0;A--)(d=r[A])&&(w=(C<3?d(w):C>3?d(f,p,w):d(f,p))||w);return C>3&&w&&Object.defineProperty(f,p,w),w},h=this&&this.__param||function(r,f){return function(p,v){f(p,v,r)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CharSizeService=void 0;const o=n(2585),u=n(8460),g=n(844);let _=t.CharSizeService=class extends g.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(r,f,p){super(),this._optionsService=p,this.width=0,this.height=0,this._onCharSizeChange=this.register(new u.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new m(r,f,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const r=this._measureStrategy.measure();r.width===this.width&&r.height===this.height||(this.width=r.width,this.height=r.height,this._onCharSizeChange.fire())}};t.CharSizeService=_=i([h(2,o.IOptionsService)],_);class m{constructor(f,p,v){this._document=f,this._parentElement=p,this._optionsService=v,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const f={height:Number(this._measureElement.offsetHeight),width:Number(this._measureElement.offsetWidth)};return f.width!==0&&f.height!==0&&(this._result.width=f.width/32,this._result.height=Math.ceil(f.height)),this._result}}},4269:function(l,t,n){var i=this&&this.__decorate||function(f,p,v,d){var C,w=arguments.length,A=w<3?p:d===null?d=Object.getOwnPropertyDescriptor(p,v):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(f,p,v,d);else for(var E=f.length-1;E>=0;E--)(C=f[E])&&(A=(w<3?C(A):w>3?C(p,v,A):C(p,v))||A);return w>3&&A&&Object.defineProperty(p,v,A),A},h=this&&this.__param||function(f,p){return function(v,d){p(v,d,f)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CharacterJoinerService=t.JoinedCellData=void 0;const o=n(3734),u=n(643),g=n(511),_=n(2585);class m extends o.AttributeData{constructor(p,v,d){super(),this.content=0,this.combinedData="",this.fg=p.fg,this.bg=p.bg,this.combinedData=v,this._width=d}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(p){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}t.JoinedCellData=m;let r=t.CharacterJoinerService=class Zv{constructor(p){this._bufferService=p,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new g.CellData}register(p){const v={id:this._nextCharacterJoinerId++,handler:p};return this._characterJoiners.push(v),v.id}deregister(p){for(let v=0;v<this._characterJoiners.length;v++)if(this._characterJoiners[v].id===p)return this._characterJoiners.splice(v,1),!0;return!1}getJoinedCharacters(p){if(this._characterJoiners.length===0)return[];const v=this._bufferService.buffer.lines.get(p);if(!v||v.length===0)return[];const d=[],C=v.translateToString(!0);let w=0,A=0,E=0,L=v.getFg(0),D=v.getBg(0);for(let R=0;R<v.getTrimmedLength();R++)if(v.loadCell(R,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==L||this._workCell.bg!==D){if(R-w>1){const I=this._getJoinedRanges(C,E,A,v,w);for(let P=0;P<I.length;P++)d.push(I[P])}w=R,E=A,L=this._workCell.fg,D=this._workCell.bg}A+=this._workCell.getChars().length||u.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-w>1){const R=this._getJoinedRanges(C,E,A,v,w);for(let I=0;I<R.length;I++)d.push(R[I])}return d}_getJoinedRanges(p,v,d,C,w){const A=p.substring(v,d);let E=[];try{E=this._characterJoiners[0].handler(A)}catch(L){console.error(L)}for(let L=1;L<this._characterJoiners.length;L++)try{const D=this._characterJoiners[L].handler(A);for(let R=0;R<D.length;R++)Zv._mergeRanges(E,D[R])}catch(D){console.error(D)}return this._stringRangesToCellRanges(E,C,w),E}_stringRangesToCellRanges(p,v,d){let C=0,w=!1,A=0,E=p[C];if(E){for(let L=d;L<this._bufferService.cols;L++){const D=v.getWidth(L),R=v.getString(L).length||u.WHITESPACE_CELL_CHAR.length;if(D!==0){if(!w&&E[0]<=A&&(E[0]=L,w=!0),E[1]<=A){if(E[1]=L,E=p[++C],!E)break;E[0]<=A?(E[0]=L,w=!0):w=!1}A+=R}}E&&(E[1]=this._bufferService.cols)}}static _mergeRanges(p,v){let d=!1;for(let C=0;C<p.length;C++){const w=p[C];if(d){if(v[1]<=w[0])return p[C-1][1]=v[1],p;if(v[1]<=w[1])return p[C-1][1]=Math.max(v[1],w[1]),p.splice(C,1),p;p.splice(C,1),C--}else{if(v[1]<=w[0])return p.splice(C,0,v),p;if(v[1]<=w[1])return w[0]=Math.min(v[0],w[0]),p;v[0]<w[1]&&(w[0]=Math.min(v[0],w[0]),d=!0)}}return d?p[p.length-1][1]=v[1]:p.push(v),p}};t.CharacterJoinerService=r=i([h(0,_.IBufferService)],r)},5114:(l,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CoreBrowserService=void 0,t.CoreBrowserService=class{constructor(n,i){this._textarea=n,this.window=i,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(l,t,n){var i=this&&this.__decorate||function(_,m,r,f){var p,v=arguments.length,d=v<3?m:f===null?f=Object.getOwnPropertyDescriptor(m,r):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(_,m,r,f);else for(var C=_.length-1;C>=0;C--)(p=_[C])&&(d=(v<3?p(d):v>3?p(m,r,d):p(m,r))||d);return v>3&&d&&Object.defineProperty(m,r,d),d},h=this&&this.__param||function(_,m){return function(r,f){m(r,f,_)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MouseService=void 0;const o=n(4725),u=n(9806);let g=t.MouseService=class{constructor(_,m){this._renderService=_,this._charSizeService=m}getCoords(_,m,r,f,p){return(0,u.getCoords)(window,_,m,r,f,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,p)}getMouseReportCoords(_,m){const r=(0,u.getCoordsRelativeToElement)(window,_,m);if(this._charSizeService.hasValidSize)return r[0]=Math.min(Math.max(r[0],0),this._renderService.dimensions.css.canvas.width-1),r[1]=Math.min(Math.max(r[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(r[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(r[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(r[0]),y:Math.floor(r[1])}}};t.MouseService=g=i([h(0,o.IRenderService),h(1,o.ICharSizeService)],g)},3230:function(l,t,n){var i=this&&this.__decorate||function(d,C,w,A){var E,L=arguments.length,D=L<3?C:A===null?A=Object.getOwnPropertyDescriptor(C,w):A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(d,C,w,A);else for(var R=d.length-1;R>=0;R--)(E=d[R])&&(D=(L<3?E(D):L>3?E(C,w,D):E(C,w))||D);return L>3&&D&&Object.defineProperty(C,w,D),D},h=this&&this.__param||function(d,C){return function(w,A){C(w,A,d)}};Object.defineProperty(t,"__esModule",{value:!0}),t.RenderService=void 0;const o=n(3656),u=n(6193),g=n(5596),_=n(4725),m=n(8460),r=n(844),f=n(7226),p=n(2585);let v=t.RenderService=class extends r.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(d,C,w,A,E,L,D,R){if(super(),this._rowCount=d,this._charSizeService=A,this._renderer=this.register(new r.MutableDisposable),this._pausedResizeTask=new f.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new m.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new m.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new m.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new m.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new u.RenderDebouncer(D.window,(I,P)=>this._renderRows(I,P)),this.register(this._renderDebouncer),this._screenDprMonitor=new g.ScreenDprMonitor(D.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(L.onResize(()=>this._fullRefresh())),this.register(L.buffers.onBufferActivate(()=>{var I;return(I=this._renderer.value)===null||I===void 0?void 0:I.clear()})),this.register(w.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(E.onDecorationRegistered(()=>this._fullRefresh())),this.register(E.onDecorationRemoved(()=>this._fullRefresh())),this.register(w.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(L.cols,L.rows),this._fullRefresh()})),this.register(w.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(L.buffer.y,L.buffer.y,!0))),this.register((0,o.addDisposableDomListener)(D.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(R.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in D.window){const I=new D.window.IntersectionObserver(P=>this._handleIntersectionChange(P[P.length-1]),{threshold:0});I.observe(C),this.register({dispose:()=>I.disconnect()})}}_handleIntersectionChange(d){this._isPaused=d.isIntersecting===void 0?d.intersectionRatio===0:!d.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(d,C,w=!1){this._isPaused?this._needsFullRefresh=!0:(w||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(d,C,this._rowCount))}_renderRows(d,C){this._renderer.value&&(d=Math.min(d,this._rowCount-1),C=Math.min(C,this._rowCount-1),this._renderer.value.renderRows(d,C),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:d,end:C}),this._onRender.fire({start:d,end:C}),this._isNextRenderRedrawOnly=!0)}resize(d,C){this._rowCount=C,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(d){this._renderer.value=d,this._renderer.value.onRequestRedraw(C=>this.refreshRows(C.start,C.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(d){return this._renderDebouncer.addRefreshCallback(d)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var d,C;this._renderer.value&&((C=(d=this._renderer.value).clearTextureAtlas)===null||C===void 0||C.call(d),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(d,C){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value.handleResize(d,C)):this._renderer.value.handleResize(d,C),this._fullRefresh())}handleCharSizeChanged(){var d;(d=this._renderer.value)===null||d===void 0||d.handleCharSizeChanged()}handleBlur(){var d;(d=this._renderer.value)===null||d===void 0||d.handleBlur()}handleFocus(){var d;(d=this._renderer.value)===null||d===void 0||d.handleFocus()}handleSelectionChanged(d,C,w){var A;this._selectionState.start=d,this._selectionState.end=C,this._selectionState.columnSelectMode=w,(A=this._renderer.value)===null||A===void 0||A.handleSelectionChanged(d,C,w)}handleCursorMove(){var d;(d=this._renderer.value)===null||d===void 0||d.handleCursorMove()}clear(){var d;(d=this._renderer.value)===null||d===void 0||d.clear()}};t.RenderService=v=i([h(2,p.IOptionsService),h(3,_.ICharSizeService),h(4,p.IDecorationService),h(5,p.IBufferService),h(6,_.ICoreBrowserService),h(7,_.IThemeService)],v)},9312:function(l,t,n){var i=this&&this.__decorate||function(E,L,D,R){var I,P=arguments.length,$=P<3?L:R===null?R=Object.getOwnPropertyDescriptor(L,D):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(E,L,D,R);else for(var F=E.length-1;F>=0;F--)(I=E[F])&&($=(P<3?I($):P>3?I(L,D,$):I(L,D))||$);return P>3&&$&&Object.defineProperty(L,D,$),$},h=this&&this.__param||function(E,L){return function(D,R){L(D,R,E)}};Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionService=void 0;const o=n(9806),u=n(9504),g=n(456),_=n(4725),m=n(8460),r=n(844),f=n(6114),p=n(4841),v=n(511),d=n(2585),C=" ",w=new RegExp(C,"g");let A=t.SelectionService=class extends r.Disposable{constructor(E,L,D,R,I,P,$,F,U){super(),this._element=E,this._screenElement=L,this._linkifier=D,this._bufferService=R,this._coreService=I,this._mouseService=P,this._optionsService=$,this._renderService=F,this._coreBrowserService=U,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new v.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new m.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new m.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new m.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new m.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=Y=>this._handleMouseMove(Y),this._mouseUpListener=Y=>this._handleMouseUp(Y),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(Y=>this._handleTrim(Y)),this.register(this._bufferService.buffers.onBufferActivate(Y=>this._handleBufferActivate(Y))),this.enable(),this._model=new g.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,r.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const E=this._model.finalSelectionStart,L=this._model.finalSelectionEnd;return!(!E||!L||E[0]===L[0]&&E[1]===L[1])}get selectionText(){const E=this._model.finalSelectionStart,L=this._model.finalSelectionEnd;if(!E||!L)return"";const D=this._bufferService.buffer,R=[];if(this._activeSelectionMode===3){if(E[0]===L[0])return"";const I=E[0]<L[0]?E[0]:L[0],P=E[0]<L[0]?L[0]:E[0];for(let $=E[1];$<=L[1];$++){const F=D.translateBufferLineToString($,!0,I,P);R.push(F)}}else{const I=E[1]===L[1]?L[0]:void 0;R.push(D.translateBufferLineToString(E[1],!0,E[0],I));for(let P=E[1]+1;P<=L[1]-1;P++){const $=D.lines.get(P),F=D.translateBufferLineToString(P,!0);$!=null&&$.isWrapped?R[R.length-1]+=F:R.push(F)}if(E[1]!==L[1]){const P=D.lines.get(L[1]),$=D.translateBufferLineToString(L[1],!0,0,L[0]);P&&P.isWrapped?R[R.length-1]+=$:R.push($)}}return R.map(I=>I.replace(w," ")).join(f.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(E){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),f.isLinux&&E&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(E){const L=this._getMouseBufferCoords(E),D=this._model.finalSelectionStart,R=this._model.finalSelectionEnd;return!!(D&&R&&L)&&this._areCoordsInSelection(L,D,R)}isCellInSelection(E,L){const D=this._model.finalSelectionStart,R=this._model.finalSelectionEnd;return!(!D||!R)&&this._areCoordsInSelection([E,L],D,R)}_areCoordsInSelection(E,L,D){return E[1]>L[1]&&E[1]<D[1]||L[1]===D[1]&&E[1]===L[1]&&E[0]>=L[0]&&E[0]<D[0]||L[1]<D[1]&&E[1]===D[1]&&E[0]<D[0]||L[1]<D[1]&&E[1]===L[1]&&E[0]>=L[0]}_selectWordAtCursor(E,L){var D,R;const I=(R=(D=this._linkifier.currentLink)===null||D===void 0?void 0:D.link)===null||R===void 0?void 0:R.range;if(I)return this._model.selectionStart=[I.start.x-1,I.start.y-1],this._model.selectionStartLength=(0,p.getRangeLength)(I,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const P=this._getMouseBufferCoords(E);return!!P&&(this._selectWordAt(P,L),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(E,L){this._model.clearSelection(),E=Math.max(E,0),L=Math.min(L,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,E],this._model.selectionEnd=[this._bufferService.cols,L],this.refresh(),this._onSelectionChange.fire()}_handleTrim(E){this._model.handleTrim(E)&&this.refresh()}_getMouseBufferCoords(E){const L=this._mouseService.getCoords(E,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(L)return L[0]--,L[1]--,L[1]+=this._bufferService.buffer.ydisp,L}_getMouseEventScrollAmount(E){let L=(0,o.getCoordsRelativeToElement)(this._coreBrowserService.window,E,this._screenElement)[1];const D=this._renderService.dimensions.css.canvas.height;return L>=0&&L<=D?0:(L>D&&(L-=D),L=Math.min(Math.max(L,-50),50),L/=50,L/Math.abs(L)+Math.round(14*L))}shouldForceSelection(E){return f.isMac?E.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:E.shiftKey}handleMouseDown(E){if(this._mouseDownTimeStamp=E.timeStamp,(E.button!==2||!this.hasSelection)&&E.button===0){if(!this._enabled){if(!this.shouldForceSelection(E))return;E.stopPropagation()}E.preventDefault(),this._dragScrollAmount=0,this._enabled&&E.shiftKey?this._handleIncrementalClick(E):E.detail===1?this._handleSingleClick(E):E.detail===2?this._handleDoubleClick(E):E.detail===3&&this._handleTripleClick(E),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(E){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(E))}_handleSingleClick(E){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(E)?3:0,this._model.selectionStart=this._getMouseBufferCoords(E),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const L=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);L&&L.length!==this._model.selectionStart[0]&&L.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(E){this._selectWordAtCursor(E,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(E){const L=this._getMouseBufferCoords(E);L&&(this._activeSelectionMode=2,this._selectLineAt(L[1]))}shouldColumnSelect(E){return E.altKey&&!(f.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(E){if(E.stopImmediatePropagation(),!this._model.selectionStart)return;const L=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(E),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(E),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const D=this._bufferService.buffer;if(this._model.selectionEnd[1]<D.lines.length){const R=D.lines.get(this._model.selectionEnd[1]);R&&R.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}L&&L[0]===this._model.selectionEnd[0]&&L[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const E=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(E.ydisp+this._bufferService.rows,E.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=E.ydisp),this.refresh()}}_handleMouseUp(E){const L=E.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&L<500&&E.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const D=this._mouseService.getCoords(E,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(D&&D[0]!==void 0&&D[1]!==void 0){const R=(0,u.moveToCellSequence)(D[0]-1,D[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(R,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const E=this._model.finalSelectionStart,L=this._model.finalSelectionEnd,D=!(!E||!L||E[0]===L[0]&&E[1]===L[1]);D?E&&L&&(this._oldSelectionStart&&this._oldSelectionEnd&&E[0]===this._oldSelectionStart[0]&&E[1]===this._oldSelectionStart[1]&&L[0]===this._oldSelectionEnd[0]&&L[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(E,L,D)):this._oldHasSelection&&this._fireOnSelectionChange(E,L,D)}_fireOnSelectionChange(E,L,D){this._oldSelectionStart=E,this._oldSelectionEnd=L,this._oldHasSelection=D,this._onSelectionChange.fire()}_handleBufferActivate(E){this.clearSelection(),this._trimListener.dispose(),this._trimListener=E.activeBuffer.lines.onTrim(L=>this._handleTrim(L))}_convertViewportColToCharacterIndex(E,L){let D=L;for(let R=0;L>=R;R++){const I=E.loadCell(R,this._workCell).getChars().length;this._workCell.getWidth()===0?D--:I>1&&L!==R&&(D+=I-1)}return D}setSelection(E,L,D){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[E,L],this._model.selectionStartLength=D,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(E){this._isClickInSelection(E)||(this._selectWordAtCursor(E,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(E,L,D=!0,R=!0){if(E[0]>=this._bufferService.cols)return;const I=this._bufferService.buffer,P=I.lines.get(E[1]);if(!P)return;const $=I.translateBufferLineToString(E[1],!1);let F=this._convertViewportColToCharacterIndex(P,E[0]),U=F;const Y=E[0]-F;let k=0,H=0,z=0,X=0;if($.charAt(F)===" "){for(;F>0&&$.charAt(F-1)===" ";)F--;for(;U<$.length&&$.charAt(U+1)===" ";)U++}else{let V=E[0],se=E[0];P.getWidth(V)===0&&(k++,V--),P.getWidth(se)===2&&(H++,se++);const be=P.getString(se).length;for(be>1&&(X+=be-1,U+=be-1);V>0&&F>0&&!this._isCharWordSeparator(P.loadCell(V-1,this._workCell));){P.loadCell(V-1,this._workCell);const B=this._workCell.getChars().length;this._workCell.getWidth()===0?(k++,V--):B>1&&(z+=B-1,F-=B-1),F--,V--}for(;se<P.length&&U+1<$.length&&!this._isCharWordSeparator(P.loadCell(se+1,this._workCell));){P.loadCell(se+1,this._workCell);const B=this._workCell.getChars().length;this._workCell.getWidth()===2?(H++,se++):B>1&&(X+=B-1,U+=B-1),U++,se++}}U++;let te=F+Y-k+z,J=Math.min(this._bufferService.cols,U-F+k+H-z-X);if(L||$.slice(F,U).trim()!==""){if(D&&te===0&&P.getCodePoint(0)!==32){const V=I.lines.get(E[1]-1);if(V&&P.isWrapped&&V.getCodePoint(this._bufferService.cols-1)!==32){const se=this._getWordAt([this._bufferService.cols-1,E[1]-1],!1,!0,!1);if(se){const be=this._bufferService.cols-se.start;te-=be,J+=be}}}if(R&&te+J===this._bufferService.cols&&P.getCodePoint(this._bufferService.cols-1)!==32){const V=I.lines.get(E[1]+1);if(V!=null&&V.isWrapped&&V.getCodePoint(0)!==32){const se=this._getWordAt([0,E[1]+1],!1,!1,!0);se&&(J+=se.length)}}return{start:te,length:J}}}_selectWordAt(E,L){const D=this._getWordAt(E,L);if(D){for(;D.start<0;)D.start+=this._bufferService.cols,E[1]--;this._model.selectionStart=[D.start,E[1]],this._model.selectionStartLength=D.length}}_selectToWordAt(E){const L=this._getWordAt(E,!0);if(L){let D=E[1];for(;L.start<0;)L.start+=this._bufferService.cols,D--;if(!this._model.areSelectionValuesReversed())for(;L.start+L.length>this._bufferService.cols;)L.length-=this._bufferService.cols,D++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?L.start:L.start+L.length,D]}}_isCharWordSeparator(E){return E.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(E.getChars())>=0}_selectLineAt(E){const L=this._bufferService.buffer.getWrappedRangeForLine(E),D={start:{x:0,y:L.first},end:{x:this._bufferService.cols-1,y:L.last}};this._model.selectionStart=[0,L.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,p.getRangeLength)(D,this._bufferService.cols)}};t.SelectionService=A=i([h(3,d.IBufferService),h(4,d.ICoreService),h(5,_.IMouseService),h(6,d.IOptionsService),h(7,_.IRenderService),h(8,_.ICoreBrowserService)],A)},4725:(l,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IThemeService=t.ICharacterJoinerService=t.ISelectionService=t.IRenderService=t.IMouseService=t.ICoreBrowserService=t.ICharSizeService=void 0;const i=n(8343);t.ICharSizeService=(0,i.createDecorator)("CharSizeService"),t.ICoreBrowserService=(0,i.createDecorator)("CoreBrowserService"),t.IMouseService=(0,i.createDecorator)("MouseService"),t.IRenderService=(0,i.createDecorator)("RenderService"),t.ISelectionService=(0,i.createDecorator)("SelectionService"),t.ICharacterJoinerService=(0,i.createDecorator)("CharacterJoinerService"),t.IThemeService=(0,i.createDecorator)("ThemeService")},6731:function(l,t,n){var i=this&&this.__decorate||function(A,E,L,D){var R,I=arguments.length,P=I<3?E:D===null?D=Object.getOwnPropertyDescriptor(E,L):D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(A,E,L,D);else for(var $=A.length-1;$>=0;$--)(R=A[$])&&(P=(I<3?R(P):I>3?R(E,L,P):R(E,L))||P);return I>3&&P&&Object.defineProperty(E,L,P),P},h=this&&this.__param||function(A,E){return function(L,D){E(L,D,A)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeService=t.DEFAULT_ANSI_COLORS=void 0;const o=n(7239),u=n(8055),g=n(8460),_=n(844),m=n(2585),r=u.css.toColor("#ffffff"),f=u.css.toColor("#000000"),p=u.css.toColor("#ffffff"),v=u.css.toColor("#000000"),d={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};t.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const A=[u.css.toColor("#2e3436"),u.css.toColor("#cc0000"),u.css.toColor("#4e9a06"),u.css.toColor("#c4a000"),u.css.toColor("#3465a4"),u.css.toColor("#75507b"),u.css.toColor("#06989a"),u.css.toColor("#d3d7cf"),u.css.toColor("#555753"),u.css.toColor("#ef2929"),u.css.toColor("#8ae234"),u.css.toColor("#fce94f"),u.css.toColor("#729fcf"),u.css.toColor("#ad7fa8"),u.css.toColor("#34e2e2"),u.css.toColor("#eeeeec")],E=[0,95,135,175,215,255];for(let L=0;L<216;L++){const D=E[L/36%6|0],R=E[L/6%6|0],I=E[L%6];A.push({css:u.channels.toCss(D,R,I),rgba:u.channels.toRgba(D,R,I)})}for(let L=0;L<24;L++){const D=8+10*L;A.push({css:u.channels.toCss(D,D,D),rgba:u.channels.toRgba(D,D,D)})}return A})());let C=t.ThemeService=class extends _.Disposable{get colors(){return this._colors}constructor(A){super(),this._optionsService=A,this._contrastCache=new o.ColorContrastCache,this._halfContrastCache=new o.ColorContrastCache,this._onChangeColors=this.register(new g.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:r,background:f,cursor:p,cursorAccent:v,selectionForeground:void 0,selectionBackgroundTransparent:d,selectionBackgroundOpaque:u.color.blend(f,d),selectionInactiveBackgroundTransparent:d,selectionInactiveBackgroundOpaque:u.color.blend(f,d),ansi:t.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(A={}){const E=this._colors;if(E.foreground=w(A.foreground,r),E.background=w(A.background,f),E.cursor=w(A.cursor,p),E.cursorAccent=w(A.cursorAccent,v),E.selectionBackgroundTransparent=w(A.selectionBackground,d),E.selectionBackgroundOpaque=u.color.blend(E.background,E.selectionBackgroundTransparent),E.selectionInactiveBackgroundTransparent=w(A.selectionInactiveBackground,E.selectionBackgroundTransparent),E.selectionInactiveBackgroundOpaque=u.color.blend(E.background,E.selectionInactiveBackgroundTransparent),E.selectionForeground=A.selectionForeground?w(A.selectionForeground,u.NULL_COLOR):void 0,E.selectionForeground===u.NULL_COLOR&&(E.selectionForeground=void 0),u.color.isOpaque(E.selectionBackgroundTransparent)&&(E.selectionBackgroundTransparent=u.color.opacity(E.selectionBackgroundTransparent,.3)),u.color.isOpaque(E.selectionInactiveBackgroundTransparent)&&(E.selectionInactiveBackgroundTransparent=u.color.opacity(E.selectionInactiveBackgroundTransparent,.3)),E.ansi=t.DEFAULT_ANSI_COLORS.slice(),E.ansi[0]=w(A.black,t.DEFAULT_ANSI_COLORS[0]),E.ansi[1]=w(A.red,t.DEFAULT_ANSI_COLORS[1]),E.ansi[2]=w(A.green,t.DEFAULT_ANSI_COLORS[2]),E.ansi[3]=w(A.yellow,t.DEFAULT_ANSI_COLORS[3]),E.ansi[4]=w(A.blue,t.DEFAULT_ANSI_COLORS[4]),E.ansi[5]=w(A.magenta,t.DEFAULT_ANSI_COLORS[5]),E.ansi[6]=w(A.cyan,t.DEFAULT_ANSI_COLORS[6]),E.ansi[7]=w(A.white,t.DEFAULT_ANSI_COLORS[7]),E.ansi[8]=w(A.brightBlack,t.DEFAULT_ANSI_COLORS[8]),E.ansi[9]=w(A.brightRed,t.DEFAULT_ANSI_COLORS[9]),E.ansi[10]=w(A.brightGreen,t.DEFAULT_ANSI_COLORS[10]),E.ansi[11]=w(A.brightYellow,t.DEFAULT_ANSI_COLORS[11]),E.ansi[12]=w(A.brightBlue,t.DEFAULT_ANSI_COLORS[12]),E.ansi[13]=w(A.brightMagenta,t.DEFAULT_ANSI_COLORS[13]),E.ansi[14]=w(A.brightCyan,t.DEFAULT_ANSI_COLORS[14]),E.ansi[15]=w(A.brightWhite,t.DEFAULT_ANSI_COLORS[15]),A.extendedAnsi){const L=Math.min(E.ansi.length-16,A.extendedAnsi.length);for(let D=0;D<L;D++)E.ansi[D+16]=w(A.extendedAnsi[D],t.DEFAULT_ANSI_COLORS[D+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(A){this._restoreColor(A),this._onChangeColors.fire(this.colors)}_restoreColor(A){if(A!==void 0)switch(A){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[A]=this._restoreColors.ansi[A]}else for(let E=0;E<this._restoreColors.ansi.length;++E)this._colors.ansi[E]=this._restoreColors.ansi[E]}modifyColors(A){A(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function w(A,E){if(A!==void 0)try{return u.css.toColor(A)}catch{}return E}t.ThemeService=C=i([h(0,m.IOptionsService)],C)},6349:(l,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CircularList=void 0;const i=n(8460),h=n(844);class o extends h.Disposable{constructor(g){super(),this._maxLength=g,this.onDeleteEmitter=this.register(new i.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new i.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new i.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(g){if(this._maxLength===g)return;const _=new Array(g);for(let m=0;m<Math.min(g,this.length);m++)_[m]=this._array[this._getCyclicIndex(m)];this._array=_,this._maxLength=g,this._startIndex=0}get length(){return this._length}set length(g){if(g>this._length)for(let _=this._length;_<g;_++)this._array[_]=void 0;this._length=g}get(g){return this._array[this._getCyclicIndex(g)]}set(g,_){this._array[this._getCyclicIndex(g)]=_}push(g){this._array[this._getCyclicIndex(this._length)]=g,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(g,_,...m){if(_){for(let r=g;r<this._length-_;r++)this._array[this._getCyclicIndex(r)]=this._array[this._getCyclicIndex(r+_)];this._length-=_,this.onDeleteEmitter.fire({index:g,amount:_})}for(let r=this._length-1;r>=g;r--)this._array[this._getCyclicIndex(r+m.length)]=this._array[this._getCyclicIndex(r)];for(let r=0;r<m.length;r++)this._array[this._getCyclicIndex(g+r)]=m[r];if(m.length&&this.onInsertEmitter.fire({index:g,amount:m.length}),this._length+m.length>this._maxLength){const r=this._length+m.length-this._maxLength;this._startIndex+=r,this._length=this._maxLength,this.onTrimEmitter.fire(r)}else this._length+=m.length}trimStart(g){g>this._length&&(g=this._length),this._startIndex+=g,this._length-=g,this.onTrimEmitter.fire(g)}shiftElements(g,_,m){if(!(_<=0)){if(g<0||g>=this._length)throw new Error("start argument out of range");if(g+m<0)throw new Error("Cannot shift elements in list beyond index 0");if(m>0){for(let f=_-1;f>=0;f--)this.set(g+f+m,this.get(g+f));const r=g+_+m-this._length;if(r>0)for(this._length+=r;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let r=0;r<_;r++)this.set(g+r+m,this.get(g+r))}}_getCyclicIndex(g){return(this._startIndex+g)%this._maxLength}}t.CircularList=o},1439:(l,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.clone=void 0,t.clone=function n(i,h=5){if(typeof i!="object")return i;const o=Array.isArray(i)?[]:{};for(const u in i)o[u]=h<=1?i[u]:i[u]&&n(i[u],h-1);return o}},8055:(l,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.contrastRatio=t.toPaddedHex=t.rgba=t.rgb=t.css=t.color=t.channels=t.NULL_COLOR=void 0;const i=n(6114);let h=0,o=0,u=0,g=0;var _,m,r,f,p;function v(C){const w=C.toString(16);return w.length<2?"0"+w:w}function d(C,w){return C<w?(w+.05)/(C+.05):(C+.05)/(w+.05)}t.NULL_COLOR={css:"#00000000",rgba:0},function(C){C.toCss=function(w,A,E,L){return L!==void 0?`#${v(w)}${v(A)}${v(E)}${v(L)}`:`#${v(w)}${v(A)}${v(E)}`},C.toRgba=function(w,A,E,L=255){return(w<<24|A<<16|E<<8|L)>>>0}}(_||(t.channels=_={})),function(C){function w(A,E){return g=Math.round(255*E),[h,o,u]=p.toChannels(A.rgba),{css:_.toCss(h,o,u,g),rgba:_.toRgba(h,o,u,g)}}C.blend=function(A,E){if(g=(255&E.rgba)/255,g===1)return{css:E.css,rgba:E.rgba};const L=E.rgba>>24&255,D=E.rgba>>16&255,R=E.rgba>>8&255,I=A.rgba>>24&255,P=A.rgba>>16&255,$=A.rgba>>8&255;return h=I+Math.round((L-I)*g),o=P+Math.round((D-P)*g),u=$+Math.round((R-$)*g),{css:_.toCss(h,o,u),rgba:_.toRgba(h,o,u)}},C.isOpaque=function(A){return(255&A.rgba)==255},C.ensureContrastRatio=function(A,E,L){const D=p.ensureContrastRatio(A.rgba,E.rgba,L);if(D)return p.toColor(D>>24&255,D>>16&255,D>>8&255)},C.opaque=function(A){const E=(255|A.rgba)>>>0;return[h,o,u]=p.toChannels(E),{css:_.toCss(h,o,u),rgba:E}},C.opacity=w,C.multiplyOpacity=function(A,E){return g=255&A.rgba,w(A,g*E/255)},C.toColorRGB=function(A){return[A.rgba>>24&255,A.rgba>>16&255,A.rgba>>8&255]}}(m||(t.color=m={})),function(C){let w,A;if(!i.isNode){const E=document.createElement("canvas");E.width=1,E.height=1;const L=E.getContext("2d",{willReadFrequently:!0});L&&(w=L,w.globalCompositeOperation="copy",A=w.createLinearGradient(0,0,1,1))}C.toColor=function(E){if(E.match(/#[\da-f]{3,8}/i))switch(E.length){case 4:return h=parseInt(E.slice(1,2).repeat(2),16),o=parseInt(E.slice(2,3).repeat(2),16),u=parseInt(E.slice(3,4).repeat(2),16),p.toColor(h,o,u);case 5:return h=parseInt(E.slice(1,2).repeat(2),16),o=parseInt(E.slice(2,3).repeat(2),16),u=parseInt(E.slice(3,4).repeat(2),16),g=parseInt(E.slice(4,5).repeat(2),16),p.toColor(h,o,u,g);case 7:return{css:E,rgba:(parseInt(E.slice(1),16)<<8|255)>>>0};case 9:return{css:E,rgba:parseInt(E.slice(1),16)>>>0}}const L=E.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(L)return h=parseInt(L[1]),o=parseInt(L[2]),u=parseInt(L[3]),g=Math.round(255*(L[5]===void 0?1:parseFloat(L[5]))),p.toColor(h,o,u,g);if(!w||!A)throw new Error("css.toColor: Unsupported css format");if(w.fillStyle=A,w.fillStyle=E,typeof w.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(w.fillRect(0,0,1,1),[h,o,u,g]=w.getImageData(0,0,1,1).data,g!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:_.toRgba(h,o,u,g),css:E}}}(r||(t.css=r={})),function(C){function w(A,E,L){const D=A/255,R=E/255,I=L/255;return .2126*(D<=.03928?D/12.92:Math.pow((D+.055)/1.055,2.4))+.7152*(R<=.03928?R/12.92:Math.pow((R+.055)/1.055,2.4))+.0722*(I<=.03928?I/12.92:Math.pow((I+.055)/1.055,2.4))}C.relativeLuminance=function(A){return w(A>>16&255,A>>8&255,255&A)},C.relativeLuminance2=w}(f||(t.rgb=f={})),function(C){function w(E,L,D){const R=E>>24&255,I=E>>16&255,P=E>>8&255;let $=L>>24&255,F=L>>16&255,U=L>>8&255,Y=d(f.relativeLuminance2($,F,U),f.relativeLuminance2(R,I,P));for(;Y<D&&($>0||F>0||U>0);)$-=Math.max(0,Math.ceil(.1*$)),F-=Math.max(0,Math.ceil(.1*F)),U-=Math.max(0,Math.ceil(.1*U)),Y=d(f.relativeLuminance2($,F,U),f.relativeLuminance2(R,I,P));return($<<24|F<<16|U<<8|255)>>>0}function A(E,L,D){const R=E>>24&255,I=E>>16&255,P=E>>8&255;let $=L>>24&255,F=L>>16&255,U=L>>8&255,Y=d(f.relativeLuminance2($,F,U),f.relativeLuminance2(R,I,P));for(;Y<D&&($<255||F<255||U<255);)$=Math.min(255,$+Math.ceil(.1*(255-$))),F=Math.min(255,F+Math.ceil(.1*(255-F))),U=Math.min(255,U+Math.ceil(.1*(255-U))),Y=d(f.relativeLuminance2($,F,U),f.relativeLuminance2(R,I,P));return($<<24|F<<16|U<<8|255)>>>0}C.ensureContrastRatio=function(E,L,D){const R=f.relativeLuminance(E>>8),I=f.relativeLuminance(L>>8);if(d(R,I)<D){if(I<R){const F=w(E,L,D),U=d(R,f.relativeLuminance(F>>8));if(U<D){const Y=A(E,L,D);return U>d(R,f.relativeLuminance(Y>>8))?F:Y}return F}const P=A(E,L,D),$=d(R,f.relativeLuminance(P>>8));if($<D){const F=w(E,L,D);return $>d(R,f.relativeLuminance(F>>8))?P:F}return P}},C.reduceLuminance=w,C.increaseLuminance=A,C.toChannels=function(E){return[E>>24&255,E>>16&255,E>>8&255,255&E]},C.toColor=function(E,L,D,R){return{css:_.toCss(E,L,D,R),rgba:_.toRgba(E,L,D,R)}}}(p||(t.rgba=p={})),t.toPaddedHex=v,t.contrastRatio=d},8969:(l,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CoreTerminal=void 0;const i=n(844),h=n(2585),o=n(4348),u=n(7866),g=n(744),_=n(7302),m=n(6975),r=n(8460),f=n(1753),p=n(1480),v=n(7994),d=n(9282),C=n(5435),w=n(5981),A=n(2660);let E=!1;class L extends i.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new r.EventEmitter),this._onScroll.event(R=>{var I;(I=this._onScrollApi)===null||I===void 0||I.fire(R.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(R){for(const I in R)this.optionsService.options[I]=R[I]}constructor(R){super(),this._windowsWrappingHeuristics=this.register(new i.MutableDisposable),this._onBinary=this.register(new r.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new r.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new r.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new r.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new r.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new r.EventEmitter),this._instantiationService=new o.InstantiationService,this.optionsService=this.register(new _.OptionsService(R)),this._instantiationService.setService(h.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(g.BufferService)),this._instantiationService.setService(h.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(u.LogService)),this._instantiationService.setService(h.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(m.CoreService)),this._instantiationService.setService(h.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(f.CoreMouseService)),this._instantiationService.setService(h.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(p.UnicodeService)),this._instantiationService.setService(h.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(v.CharsetService),this._instantiationService.setService(h.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(A.OscLinkService),this._instantiationService.setService(h.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new C.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,r.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,r.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,r.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,r.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(I=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(I=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new w.WriteBuffer((I,P)=>this._inputHandler.parse(I,P))),this.register((0,r.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(R,I){this._writeBuffer.write(R,I)}writeSync(R,I){this._logService.logLevel<=h.LogLevelEnum.WARN&&!E&&(this._logService.warn("writeSync is unreliable and will be removed soon."),E=!0),this._writeBuffer.writeSync(R,I)}resize(R,I){isNaN(R)||isNaN(I)||(R=Math.max(R,g.MINIMUM_COLS),I=Math.max(I,g.MINIMUM_ROWS),this._bufferService.resize(R,I))}scroll(R,I=!1){this._bufferService.scroll(R,I)}scrollLines(R,I,P){this._bufferService.scrollLines(R,I,P)}scrollPages(R){this.scrollLines(R*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(R){const I=R-this._bufferService.buffer.ydisp;I!==0&&this.scrollLines(I)}registerEscHandler(R,I){return this._inputHandler.registerEscHandler(R,I)}registerDcsHandler(R,I){return this._inputHandler.registerDcsHandler(R,I)}registerCsiHandler(R,I){return this._inputHandler.registerCsiHandler(R,I)}registerOscHandler(R,I){return this._inputHandler.registerOscHandler(R,I)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let R=!1;const I=this.optionsService.rawOptions.windowsPty;I&&I.buildNumber!==void 0&&I.buildNumber!==void 0?R=I.backend==="conpty"&&I.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(R=!0),R?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const R=[];R.push(this.onLineFeed(d.updateWindowsModeWrappedState.bind(null,this._bufferService))),R.push(this.registerCsiHandler({final:"H"},()=>((0,d.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,i.toDisposable)(()=>{for(const I of R)I.dispose()})}}}t.CoreTerminal=L},8460:(l,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.forwardEvent=t.EventEmitter=void 0,t.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=n=>(this._listeners.push(n),{dispose:()=>{if(!this._disposed){for(let i=0;i<this._listeners.length;i++)if(this._listeners[i]===n)return void this._listeners.splice(i,1)}}})),this._event}fire(n,i){const h=[];for(let o=0;o<this._listeners.length;o++)h.push(this._listeners[o]);for(let o=0;o<h.length;o++)h[o].call(void 0,n,i)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},t.forwardEvent=function(n,i){return n(h=>i.fire(h))}},5435:function(l,t,n){var i=this&&this.__decorate||function(Y,k,H,z){var X,te=arguments.length,J=te<3?k:z===null?z=Object.getOwnPropertyDescriptor(k,H):z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")J=Reflect.decorate(Y,k,H,z);else for(var V=Y.length-1;V>=0;V--)(X=Y[V])&&(J=(te<3?X(J):te>3?X(k,H,J):X(k,H))||J);return te>3&&J&&Object.defineProperty(k,H,J),J},h=this&&this.__param||function(Y,k){return function(H,z){k(H,z,Y)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InputHandler=t.WindowsOptionsReportType=void 0;const o=n(2584),u=n(7116),g=n(2015),_=n(844),m=n(482),r=n(8437),f=n(8460),p=n(643),v=n(511),d=n(3734),C=n(2585),w=n(6242),A=n(6351),E=n(5941),L={"(":0,")":1,"*":2,"+":3,"-":1,".":2},D=131072;function R(Y,k){if(Y>24)return k.setWinLines||!1;switch(Y){case 1:return!!k.restoreWin;case 2:return!!k.minimizeWin;case 3:return!!k.setWinPosition;case 4:return!!k.setWinSizePixels;case 5:return!!k.raiseWin;case 6:return!!k.lowerWin;case 7:return!!k.refreshWin;case 8:return!!k.setWinSizeChars;case 9:return!!k.maximizeWin;case 10:return!!k.fullscreenWin;case 11:return!!k.getWinState;case 13:return!!k.getWinPosition;case 14:return!!k.getWinSizePixels;case 15:return!!k.getScreenSizePixels;case 16:return!!k.getCellSizePixels;case 18:return!!k.getWinSizeChars;case 19:return!!k.getScreenSizeChars;case 20:return!!k.getIconTitle;case 21:return!!k.getWinTitle;case 22:return!!k.pushTitle;case 23:return!!k.popTitle;case 24:return!!k.setWinLines}return!1}var I;(function(Y){Y[Y.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",Y[Y.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(I||(t.WindowsOptionsReportType=I={}));let P=0;class $ extends _.Disposable{getAttrData(){return this._curAttrData}constructor(k,H,z,X,te,J,V,se,be=new g.EscapeSequenceParser){super(),this._bufferService=k,this._charsetService=H,this._coreService=z,this._logService=X,this._optionsService=te,this._oscLinkService=J,this._coreMouseService=V,this._unicodeService=se,this._parser=be,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new m.StringToUtf32,this._utf8Decoder=new m.Utf8ToUtf32,this._workCell=new v.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=r.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=r.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new f.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new f.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new f.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new f.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new f.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new f.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new f.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new f.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new f.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new f.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new f.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new f.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new f.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new F(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(B=>this._activeBuffer=B.activeBuffer)),this._parser.setCsiHandlerFallback((B,j)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(B),params:j.toArray()})}),this._parser.setEscHandlerFallback(B=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(B)})}),this._parser.setExecuteHandlerFallback(B=>{this._logService.debug("Unknown EXECUTE code: ",{code:B})}),this._parser.setOscHandlerFallback((B,j,N)=>{this._logService.debug("Unknown OSC code: ",{identifier:B,action:j,data:N})}),this._parser.setDcsHandlerFallback((B,j,N)=>{j==="HOOK"&&(N=N.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(B),action:j,payload:N})}),this._parser.setPrintHandler((B,j,N)=>this.print(B,j,N)),this._parser.registerCsiHandler({final:"@"},B=>this.insertChars(B)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},B=>this.scrollLeft(B)),this._parser.registerCsiHandler({final:"A"},B=>this.cursorUp(B)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},B=>this.scrollRight(B)),this._parser.registerCsiHandler({final:"B"},B=>this.cursorDown(B)),this._parser.registerCsiHandler({final:"C"},B=>this.cursorForward(B)),this._parser.registerCsiHandler({final:"D"},B=>this.cursorBackward(B)),this._parser.registerCsiHandler({final:"E"},B=>this.cursorNextLine(B)),this._parser.registerCsiHandler({final:"F"},B=>this.cursorPrecedingLine(B)),this._parser.registerCsiHandler({final:"G"},B=>this.cursorCharAbsolute(B)),this._parser.registerCsiHandler({final:"H"},B=>this.cursorPosition(B)),this._parser.registerCsiHandler({final:"I"},B=>this.cursorForwardTab(B)),this._parser.registerCsiHandler({final:"J"},B=>this.eraseInDisplay(B,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},B=>this.eraseInDisplay(B,!0)),this._parser.registerCsiHandler({final:"K"},B=>this.eraseInLine(B,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},B=>this.eraseInLine(B,!0)),this._parser.registerCsiHandler({final:"L"},B=>this.insertLines(B)),this._parser.registerCsiHandler({final:"M"},B=>this.deleteLines(B)),this._parser.registerCsiHandler({final:"P"},B=>this.deleteChars(B)),this._parser.registerCsiHandler({final:"S"},B=>this.scrollUp(B)),this._parser.registerCsiHandler({final:"T"},B=>this.scrollDown(B)),this._parser.registerCsiHandler({final:"X"},B=>this.eraseChars(B)),this._parser.registerCsiHandler({final:"Z"},B=>this.cursorBackwardTab(B)),this._parser.registerCsiHandler({final:"`"},B=>this.charPosAbsolute(B)),this._parser.registerCsiHandler({final:"a"},B=>this.hPositionRelative(B)),this._parser.registerCsiHandler({final:"b"},B=>this.repeatPrecedingCharacter(B)),this._parser.registerCsiHandler({final:"c"},B=>this.sendDeviceAttributesPrimary(B)),this._parser.registerCsiHandler({prefix:">",final:"c"},B=>this.sendDeviceAttributesSecondary(B)),this._parser.registerCsiHandler({final:"d"},B=>this.linePosAbsolute(B)),this._parser.registerCsiHandler({final:"e"},B=>this.vPositionRelative(B)),this._parser.registerCsiHandler({final:"f"},B=>this.hVPosition(B)),this._parser.registerCsiHandler({final:"g"},B=>this.tabClear(B)),this._parser.registerCsiHandler({final:"h"},B=>this.setMode(B)),this._parser.registerCsiHandler({prefix:"?",final:"h"},B=>this.setModePrivate(B)),this._parser.registerCsiHandler({final:"l"},B=>this.resetMode(B)),this._parser.registerCsiHandler({prefix:"?",final:"l"},B=>this.resetModePrivate(B)),this._parser.registerCsiHandler({final:"m"},B=>this.charAttributes(B)),this._parser.registerCsiHandler({final:"n"},B=>this.deviceStatus(B)),this._parser.registerCsiHandler({prefix:"?",final:"n"},B=>this.deviceStatusPrivate(B)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},B=>this.softReset(B)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},B=>this.setCursorStyle(B)),this._parser.registerCsiHandler({final:"r"},B=>this.setScrollRegion(B)),this._parser.registerCsiHandler({final:"s"},B=>this.saveCursor(B)),this._parser.registerCsiHandler({final:"t"},B=>this.windowOptions(B)),this._parser.registerCsiHandler({final:"u"},B=>this.restoreCursor(B)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},B=>this.insertColumns(B)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},B=>this.deleteColumns(B)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},B=>this.selectProtected(B)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},B=>this.requestMode(B,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},B=>this.requestMode(B,!1)),this._parser.setExecuteHandler(o.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(o.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(o.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(o.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(o.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(o.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(o.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(o.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(o.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(o.C1.IND,()=>this.index()),this._parser.setExecuteHandler(o.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(o.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new w.OscHandler(B=>(this.setTitle(B),this.setIconName(B),!0))),this._parser.registerOscHandler(1,new w.OscHandler(B=>this.setIconName(B))),this._parser.registerOscHandler(2,new w.OscHandler(B=>this.setTitle(B))),this._parser.registerOscHandler(4,new w.OscHandler(B=>this.setOrReportIndexedColor(B))),this._parser.registerOscHandler(8,new w.OscHandler(B=>this.setHyperlink(B))),this._parser.registerOscHandler(10,new w.OscHandler(B=>this.setOrReportFgColor(B))),this._parser.registerOscHandler(11,new w.OscHandler(B=>this.setOrReportBgColor(B))),this._parser.registerOscHandler(12,new w.OscHandler(B=>this.setOrReportCursorColor(B))),this._parser.registerOscHandler(104,new w.OscHandler(B=>this.restoreIndexedColor(B))),this._parser.registerOscHandler(110,new w.OscHandler(B=>this.restoreFgColor(B))),this._parser.registerOscHandler(111,new w.OscHandler(B=>this.restoreBgColor(B))),this._parser.registerOscHandler(112,new w.OscHandler(B=>this.restoreCursorColor(B))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const B in u.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:B},()=>this.selectCharset("("+B)),this._parser.registerEscHandler({intermediates:")",final:B},()=>this.selectCharset(")"+B)),this._parser.registerEscHandler({intermediates:"*",final:B},()=>this.selectCharset("*"+B)),this._parser.registerEscHandler({intermediates:"+",final:B},()=>this.selectCharset("+"+B)),this._parser.registerEscHandler({intermediates:"-",final:B},()=>this.selectCharset("-"+B)),this._parser.registerEscHandler({intermediates:".",final:B},()=>this.selectCharset("."+B)),this._parser.registerEscHandler({intermediates:"/",final:B},()=>this.selectCharset("/"+B));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(B=>(this._logService.error("Parsing error: ",B),B)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new A.DcsHandler((B,j)=>this.requestStatusString(B,j)))}_preserveStack(k,H,z,X){this._parseStack.paused=!0,this._parseStack.cursorStartX=k,this._parseStack.cursorStartY=H,this._parseStack.decodedLength=z,this._parseStack.position=X}_logSlowResolvingAsync(k){this._logService.logLevel<=C.LogLevelEnum.WARN&&Promise.race([k,new Promise((H,z)=>setTimeout(()=>z("#SLOW_TIMEOUT"),5e3))]).catch(H=>{if(H!=="#SLOW_TIMEOUT")throw H;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(k,H){let z,X=this._activeBuffer.x,te=this._activeBuffer.y,J=0;const V=this._parseStack.paused;if(V){if(z=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,H))return this._logSlowResolvingAsync(z),z;X=this._parseStack.cursorStartX,te=this._parseStack.cursorStartY,this._parseStack.paused=!1,k.length>D&&(J=this._parseStack.position+D)}if(this._logService.logLevel<=C.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof k=="string"?` "${k}"`:` "${Array.prototype.map.call(k,se=>String.fromCharCode(se)).join("")}"`),typeof k=="string"?k.split("").map(se=>se.charCodeAt(0)):k),this._parseBuffer.length<k.length&&this._parseBuffer.length<D&&(this._parseBuffer=new Uint32Array(Math.min(k.length,D))),V||this._dirtyRowTracker.clearRange(),k.length>D)for(let se=J;se<k.length;se+=D){const be=se+D<k.length?se+D:k.length,B=typeof k=="string"?this._stringDecoder.decode(k.substring(se,be),this._parseBuffer):this._utf8Decoder.decode(k.subarray(se,be),this._parseBuffer);if(z=this._parser.parse(this._parseBuffer,B))return this._preserveStack(X,te,B,se),this._logSlowResolvingAsync(z),z}else if(!V){const se=typeof k=="string"?this._stringDecoder.decode(k,this._parseBuffer):this._utf8Decoder.decode(k,this._parseBuffer);if(z=this._parser.parse(this._parseBuffer,se))return this._preserveStack(X,te,se,0),this._logSlowResolvingAsync(z),z}this._activeBuffer.x===X&&this._activeBuffer.y===te||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(k,H,z){let X,te;const J=this._charsetService.charset,V=this._optionsService.rawOptions.screenReaderMode,se=this._bufferService.cols,be=this._coreService.decPrivateModes.wraparound,B=this._coreService.modes.insertMode,j=this._curAttrData;let N=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&z-H>0&&N.getWidth(this._activeBuffer.x-1)===2&&N.setCellFromCodePoint(this._activeBuffer.x-1,0,1,j.fg,j.bg,j.extended);for(let Q=H;Q<z;++Q){if(X=k[Q],te=this._unicodeService.wcwidth(X),X<127&&J){const ce=J[String.fromCharCode(X)];ce&&(X=ce.charCodeAt(0))}if(V&&this._onA11yChar.fire((0,m.stringFromCodePoint)(X)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),te||!this._activeBuffer.x){if(this._activeBuffer.x+te-1>=se){if(be){for(;this._activeBuffer.x<se;)N.setCellFromCodePoint(this._activeBuffer.x++,0,1,j.fg,j.bg,j.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),N=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=se-1,te===2)continue}if(B&&(N.insertCells(this._activeBuffer.x,te,this._activeBuffer.getNullCell(j),j),N.getWidth(se-1)===2&&N.setCellFromCodePoint(se-1,p.NULL_CELL_CODE,p.NULL_CELL_WIDTH,j.fg,j.bg,j.extended)),N.setCellFromCodePoint(this._activeBuffer.x++,X,te,j.fg,j.bg,j.extended),te>0)for(;--te;)N.setCellFromCodePoint(this._activeBuffer.x++,0,0,j.fg,j.bg,j.extended)}else N.getWidth(this._activeBuffer.x-1)?N.addCodepointToCell(this._activeBuffer.x-1,X):N.addCodepointToCell(this._activeBuffer.x-2,X)}z-H>0&&(N.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<se&&z-H>0&&N.getWidth(this._activeBuffer.x)===0&&!N.hasContent(this._activeBuffer.x)&&N.setCellFromCodePoint(this._activeBuffer.x,0,1,j.fg,j.bg,j.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(k,H){return k.final!=="t"||k.prefix||k.intermediates?this._parser.registerCsiHandler(k,H):this._parser.registerCsiHandler(k,z=>!R(z.params[0],this._optionsService.rawOptions.windowOptions)||H(z))}registerDcsHandler(k,H){return this._parser.registerDcsHandler(k,new A.DcsHandler(H))}registerEscHandler(k,H){return this._parser.registerEscHandler(k,H)}registerOscHandler(k,H){return this._parser.registerOscHandler(k,new w.OscHandler(H))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var k;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(!((k=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||k===void 0)&&k.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const H=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);H.hasWidth(this._activeBuffer.x)&&!H.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const k=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-k),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(k=this._bufferService.cols-1){this._activeBuffer.x=Math.min(k,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(k,H){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=k,this._activeBuffer.y=this._activeBuffer.scrollTop+H):(this._activeBuffer.x=k,this._activeBuffer.y=H),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(k,H){this._restrictCursor(),this._setCursor(this._activeBuffer.x+k,this._activeBuffer.y+H)}cursorUp(k){const H=this._activeBuffer.y-this._activeBuffer.scrollTop;return H>=0?this._moveCursor(0,-Math.min(H,k.params[0]||1)):this._moveCursor(0,-(k.params[0]||1)),!0}cursorDown(k){const H=this._activeBuffer.scrollBottom-this._activeBuffer.y;return H>=0?this._moveCursor(0,Math.min(H,k.params[0]||1)):this._moveCursor(0,k.params[0]||1),!0}cursorForward(k){return this._moveCursor(k.params[0]||1,0),!0}cursorBackward(k){return this._moveCursor(-(k.params[0]||1),0),!0}cursorNextLine(k){return this.cursorDown(k),this._activeBuffer.x=0,!0}cursorPrecedingLine(k){return this.cursorUp(k),this._activeBuffer.x=0,!0}cursorCharAbsolute(k){return this._setCursor((k.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(k){return this._setCursor(k.length>=2?(k.params[1]||1)-1:0,(k.params[0]||1)-1),!0}charPosAbsolute(k){return this._setCursor((k.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(k){return this._moveCursor(k.params[0]||1,0),!0}linePosAbsolute(k){return this._setCursor(this._activeBuffer.x,(k.params[0]||1)-1),!0}vPositionRelative(k){return this._moveCursor(0,k.params[0]||1),!0}hVPosition(k){return this.cursorPosition(k),!0}tabClear(k){const H=k.params[0];return H===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:H===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(k){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let H=k.params[0]||1;for(;H--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(k){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let H=k.params[0]||1;for(;H--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(k){const H=k.params[0];return H===1&&(this._curAttrData.bg|=536870912),H!==2&&H!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(k,H,z,X=!1,te=!1){const J=this._activeBuffer.lines.get(this._activeBuffer.ybase+k);J.replaceCells(H,z,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),te),X&&(J.isWrapped=!1)}_resetBufferLine(k,H=!1){const z=this._activeBuffer.lines.get(this._activeBuffer.ybase+k);z&&(z.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),H),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+k),z.isWrapped=!1)}eraseInDisplay(k,H=!1){let z;switch(this._restrictCursor(this._bufferService.cols),k.params[0]){case 0:for(z=this._activeBuffer.y,this._dirtyRowTracker.markDirty(z),this._eraseInBufferLine(z++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,H);z<this._bufferService.rows;z++)this._resetBufferLine(z,H);this._dirtyRowTracker.markDirty(z);break;case 1:for(z=this._activeBuffer.y,this._dirtyRowTracker.markDirty(z),this._eraseInBufferLine(z,0,this._activeBuffer.x+1,!0,H),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(z+1).isWrapped=!1);z--;)this._resetBufferLine(z,H);this._dirtyRowTracker.markDirty(0);break;case 2:for(z=this._bufferService.rows,this._dirtyRowTracker.markDirty(z-1);z--;)this._resetBufferLine(z,H);this._dirtyRowTracker.markDirty(0);break;case 3:const X=this._activeBuffer.lines.length-this._bufferService.rows;X>0&&(this._activeBuffer.lines.trimStart(X),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-X,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-X,0),this._onScroll.fire(0))}return!0}eraseInLine(k,H=!1){switch(this._restrictCursor(this._bufferService.cols),k.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,H);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,H);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,H)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(k){this._restrictCursor();let H=k.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const z=this._activeBuffer.ybase+this._activeBuffer.y,X=this._bufferService.rows-1-this._activeBuffer.scrollBottom,te=this._bufferService.rows-1+this._activeBuffer.ybase-X+1;for(;H--;)this._activeBuffer.lines.splice(te-1,1),this._activeBuffer.lines.splice(z,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(k){this._restrictCursor();let H=k.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const z=this._activeBuffer.ybase+this._activeBuffer.y;let X;for(X=this._bufferService.rows-1-this._activeBuffer.scrollBottom,X=this._bufferService.rows-1+this._activeBuffer.ybase-X;H--;)this._activeBuffer.lines.splice(z,1),this._activeBuffer.lines.splice(X,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(k){this._restrictCursor();const H=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return H&&(H.insertCells(this._activeBuffer.x,k.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(k){this._restrictCursor();const H=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return H&&(H.deleteCells(this._activeBuffer.x,k.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(k){let H=k.params[0]||1;for(;H--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(k){let H=k.params[0]||1;for(;H--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(r.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(k){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const H=k.params[0]||1;for(let z=this._activeBuffer.scrollTop;z<=this._activeBuffer.scrollBottom;++z){const X=this._activeBuffer.lines.get(this._activeBuffer.ybase+z);X.deleteCells(0,H,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),X.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(k){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const H=k.params[0]||1;for(let z=this._activeBuffer.scrollTop;z<=this._activeBuffer.scrollBottom;++z){const X=this._activeBuffer.lines.get(this._activeBuffer.ybase+z);X.insertCells(0,H,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),X.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(k){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const H=k.params[0]||1;for(let z=this._activeBuffer.scrollTop;z<=this._activeBuffer.scrollBottom;++z){const X=this._activeBuffer.lines.get(this._activeBuffer.ybase+z);X.insertCells(this._activeBuffer.x,H,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),X.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(k){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const H=k.params[0]||1;for(let z=this._activeBuffer.scrollTop;z<=this._activeBuffer.scrollBottom;++z){const X=this._activeBuffer.lines.get(this._activeBuffer.ybase+z);X.deleteCells(this._activeBuffer.x,H,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),X.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(k){this._restrictCursor();const H=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return H&&(H.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(k.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(k){if(!this._parser.precedingCodepoint)return!0;const H=k.params[0]||1,z=new Uint32Array(H);for(let X=0;X<H;++X)z[X]=this._parser.precedingCodepoint;return this.print(z,0,z.length),!0}sendDeviceAttributesPrimary(k){return k.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(o.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(o.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(k){return k.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(o.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(o.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(k.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(o.C0.ESC+"[>83;40003;0c")),!0}_is(k){return(this._optionsService.rawOptions.termName+"").indexOf(k)===0}setMode(k){for(let H=0;H<k.length;H++)switch(k.params[H]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(k){for(let H=0;H<k.length;H++)switch(k.params[H]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,u.DEFAULT_CHARSET),this._charsetService.setgCharset(1,u.DEFAULT_CHARSET),this._charsetService.setgCharset(2,u.DEFAULT_CHARSET),this._charsetService.setgCharset(3,u.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(k){for(let H=0;H<k.length;H++)switch(k.params[H]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(k){for(let H=0;H<k.length;H++)switch(k.params[H]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),k.params[H]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(k,H){const z=this._coreService.decPrivateModes,{activeProtocol:X,activeEncoding:te}=this._coreMouseService,J=this._coreService,{buffers:V,cols:se}=this._bufferService,{active:be,alt:B}=V,j=this._optionsService.rawOptions,N=pe=>pe?1:2,Q=k.params[0];return ce=Q,ue=H?Q===2?4:Q===4?N(J.modes.insertMode):Q===12?3:Q===20?N(j.convertEol):0:Q===1?N(z.applicationCursorKeys):Q===3?j.windowOptions.setWinLines?se===80?2:se===132?1:0:0:Q===6?N(z.origin):Q===7?N(z.wraparound):Q===8?3:Q===9?N(X==="X10"):Q===12?N(j.cursorBlink):Q===25?N(!J.isCursorHidden):Q===45?N(z.reverseWraparound):Q===66?N(z.applicationKeypad):Q===67?4:Q===1e3?N(X==="VT200"):Q===1002?N(X==="DRAG"):Q===1003?N(X==="ANY"):Q===1004?N(z.sendFocus):Q===1005?4:Q===1006?N(te==="SGR"):Q===1015?4:Q===1016?N(te==="SGR_PIXELS"):Q===1048?1:Q===47||Q===1047||Q===1049?N(be===B):Q===2004?N(z.bracketedPasteMode):0,J.triggerDataEvent(`${o.C0.ESC}[${H?"":"?"}${ce};${ue}$y`),!0;var ce,ue}_updateAttrColor(k,H,z,X,te){return H===2?(k|=50331648,k&=-16777216,k|=d.AttributeData.fromColorRGB([z,X,te])):H===5&&(k&=-50331904,k|=33554432|255&z),k}_extractColor(k,H,z){const X=[0,0,-1,0,0,0];let te=0,J=0;do{if(X[J+te]=k.params[H+J],k.hasSubParams(H+J)){const V=k.getSubParams(H+J);let se=0;do X[1]===5&&(te=1),X[J+se+1+te]=V[se];while(++se<V.length&&se+J+1+te<X.length);break}if(X[1]===5&&J+te>=2||X[1]===2&&J+te>=5)break;X[1]&&(te=1)}while(++J+H<k.length&&J+te<X.length);for(let V=2;V<X.length;++V)X[V]===-1&&(X[V]=0);switch(X[0]){case 38:z.fg=this._updateAttrColor(z.fg,X[1],X[3],X[4],X[5]);break;case 48:z.bg=this._updateAttrColor(z.bg,X[1],X[3],X[4],X[5]);break;case 58:z.extended=z.extended.clone(),z.extended.underlineColor=this._updateAttrColor(z.extended.underlineColor,X[1],X[3],X[4],X[5])}return J}_processUnderline(k,H){H.extended=H.extended.clone(),(!~k||k>5)&&(k=1),H.extended.underlineStyle=k,H.fg|=268435456,k===0&&(H.fg&=-268435457),H.updateExtended()}_processSGR0(k){k.fg=r.DEFAULT_ATTR_DATA.fg,k.bg=r.DEFAULT_ATTR_DATA.bg,k.extended=k.extended.clone(),k.extended.underlineStyle=0,k.extended.underlineColor&=-67108864,k.updateExtended()}charAttributes(k){if(k.length===1&&k.params[0]===0)return this._processSGR0(this._curAttrData),!0;const H=k.length;let z;const X=this._curAttrData;for(let te=0;te<H;te++)z=k.params[te],z>=30&&z<=37?(X.fg&=-50331904,X.fg|=16777216|z-30):z>=40&&z<=47?(X.bg&=-50331904,X.bg|=16777216|z-40):z>=90&&z<=97?(X.fg&=-50331904,X.fg|=16777224|z-90):z>=100&&z<=107?(X.bg&=-50331904,X.bg|=16777224|z-100):z===0?this._processSGR0(X):z===1?X.fg|=134217728:z===3?X.bg|=67108864:z===4?(X.fg|=268435456,this._processUnderline(k.hasSubParams(te)?k.getSubParams(te)[0]:1,X)):z===5?X.fg|=536870912:z===7?X.fg|=67108864:z===8?X.fg|=1073741824:z===9?X.fg|=2147483648:z===2?X.bg|=134217728:z===21?this._processUnderline(2,X):z===22?(X.fg&=-134217729,X.bg&=-134217729):z===23?X.bg&=-67108865:z===24?(X.fg&=-268435457,this._processUnderline(0,X)):z===25?X.fg&=-536870913:z===27?X.fg&=-67108865:z===28?X.fg&=-1073741825:z===29?X.fg&=2147483647:z===39?(X.fg&=-67108864,X.fg|=16777215&r.DEFAULT_ATTR_DATA.fg):z===49?(X.bg&=-67108864,X.bg|=16777215&r.DEFAULT_ATTR_DATA.bg):z===38||z===48||z===58?te+=this._extractColor(k,te,X):z===53?X.bg|=1073741824:z===55?X.bg&=-1073741825:z===59?(X.extended=X.extended.clone(),X.extended.underlineColor=-1,X.updateExtended()):z===100?(X.fg&=-67108864,X.fg|=16777215&r.DEFAULT_ATTR_DATA.fg,X.bg&=-67108864,X.bg|=16777215&r.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",z);return!0}deviceStatus(k){switch(k.params[0]){case 5:this._coreService.triggerDataEvent(`${o.C0.ESC}[0n`);break;case 6:const H=this._activeBuffer.y+1,z=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${o.C0.ESC}[${H};${z}R`)}return!0}deviceStatusPrivate(k){if(k.params[0]===6){const H=this._activeBuffer.y+1,z=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${o.C0.ESC}[?${H};${z}R`)}return!0}softReset(k){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=r.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(k){const H=k.params[0]||1;switch(H){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const z=H%2==1;return this._optionsService.options.cursorBlink=z,!0}setScrollRegion(k){const H=k.params[0]||1;let z;return(k.length<2||(z=k.params[1])>this._bufferService.rows||z===0)&&(z=this._bufferService.rows),z>H&&(this._activeBuffer.scrollTop=H-1,this._activeBuffer.scrollBottom=z-1,this._setCursor(0,0)),!0}windowOptions(k){if(!R(k.params[0],this._optionsService.rawOptions.windowOptions))return!0;const H=k.length>1?k.params[1]:0;switch(k.params[0]){case 14:H!==2&&this._onRequestWindowsOptionsReport.fire(I.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(I.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${o.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:H!==0&&H!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),H!==0&&H!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:H!==0&&H!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),H!==0&&H!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(k){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(k){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(k){return this._windowTitle=k,this._onTitleChange.fire(k),!0}setIconName(k){return this._iconName=k,!0}setOrReportIndexedColor(k){const H=[],z=k.split(";");for(;z.length>1;){const X=z.shift(),te=z.shift();if(/^\d+$/.exec(X)){const J=parseInt(X);if(U(J))if(te==="?")H.push({type:0,index:J});else{const V=(0,E.parseColor)(te);V&&H.push({type:1,index:J,color:V})}}}return H.length&&this._onColor.fire(H),!0}setHyperlink(k){const H=k.split(";");return!(H.length<2)&&(H[1]?this._createHyperlink(H[0],H[1]):!H[0]&&this._finishHyperlink())}_createHyperlink(k,H){this._getCurrentLinkId()&&this._finishHyperlink();const z=k.split(":");let X;const te=z.findIndex(J=>J.startsWith("id="));return te!==-1&&(X=z[te].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:X,uri:H}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(k,H){const z=k.split(";");for(let X=0;X<z.length&&!(H>=this._specialColors.length);++X,++H)if(z[X]==="?")this._onColor.fire([{type:0,index:this._specialColors[H]}]);else{const te=(0,E.parseColor)(z[X]);te&&this._onColor.fire([{type:1,index:this._specialColors[H],color:te}])}return!0}setOrReportFgColor(k){return this._setOrReportSpecialColor(k,0)}setOrReportBgColor(k){return this._setOrReportSpecialColor(k,1)}setOrReportCursorColor(k){return this._setOrReportSpecialColor(k,2)}restoreIndexedColor(k){if(!k)return this._onColor.fire([{type:2}]),!0;const H=[],z=k.split(";");for(let X=0;X<z.length;++X)if(/^\d+$/.exec(z[X])){const te=parseInt(z[X]);U(te)&&H.push({type:2,index:te})}return H.length&&this._onColor.fire(H),!0}restoreFgColor(k){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(k){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(k){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,u.DEFAULT_CHARSET),!0}selectCharset(k){return k.length!==2?(this.selectDefaultCharset(),!0):(k[0]==="/"||this._charsetService.setgCharset(L[k[0]],u.CHARSETS[k[1]]||u.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const k=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,k,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=r.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=r.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(k){return this._charsetService.setgLevel(k),!0}screenAlignmentPattern(){const k=new v.CellData;k.content=4194373,k.fg=this._curAttrData.fg,k.bg=this._curAttrData.bg,this._setCursor(0,0);for(let H=0;H<this._bufferService.rows;++H){const z=this._activeBuffer.ybase+this._activeBuffer.y+H,X=this._activeBuffer.lines.get(z);X&&(X.fill(k),X.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(k,H){const z=this._bufferService.buffer,X=this._optionsService.rawOptions;return(te=>(this._coreService.triggerDataEvent(`${o.C0.ESC}${te}${o.C0.ESC}\\`),!0))(k==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:k==='"p'?'P1$r61;1"p':k==="r"?`P1$r${z.scrollTop+1};${z.scrollBottom+1}r`:k==="m"?"P1$r0m":k===" q"?`P1$r${{block:2,underline:4,bar:6}[X.cursorStyle]-(X.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(k,H){this._dirtyRowTracker.markRangeDirty(k,H)}}t.InputHandler=$;let F=class{constructor(Y){this._bufferService=Y,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(Y){Y<this.start?this.start=Y:Y>this.end&&(this.end=Y)}markRangeDirty(Y,k){Y>k&&(P=Y,Y=k,k=P),Y<this.start&&(this.start=Y),k>this.end&&(this.end=k)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function U(Y){return 0<=Y&&Y<256}F=i([h(0,C.IBufferService)],F)},844:(l,t)=>{function n(i){for(const h of i)h.dispose();i.length=0}Object.defineProperty(t,"__esModule",{value:!0}),t.getDisposeArrayDisposable=t.disposeArray=t.toDisposable=t.MutableDisposable=t.Disposable=void 0,t.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const i of this._disposables)i.dispose();this._disposables.length=0}register(i){return this._disposables.push(i),i}unregister(i){const h=this._disposables.indexOf(i);h!==-1&&this._disposables.splice(h,1)}},t.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(i){var h;this._isDisposed||i===this._value||((h=this._value)===null||h===void 0||h.dispose(),this._value=i)}clear(){this.value=void 0}dispose(){var i;this._isDisposed=!0,(i=this._value)===null||i===void 0||i.dispose(),this._value=void 0}},t.toDisposable=function(i){return{dispose:i}},t.disposeArray=n,t.getDisposeArrayDisposable=function(i){return{dispose:()=>n(i)}}},1505:(l,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FourKeyMap=t.TwoKeyMap=void 0;class n{constructor(){this._data={}}set(h,o,u){this._data[h]||(this._data[h]={}),this._data[h][o]=u}get(h,o){return this._data[h]?this._data[h][o]:void 0}clear(){this._data={}}}t.TwoKeyMap=n,t.FourKeyMap=class{constructor(){this._data=new n}set(i,h,o,u,g){this._data.get(i,h)||this._data.set(i,h,new n),this._data.get(i,h).set(o,u,g)}get(i,h,o,u){var g;return(g=this._data.get(i,h))===null||g===void 0?void 0:g.get(o,u)}clear(){this._data.clear()}}},6114:(l,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isChromeOS=t.isLinux=t.isWindows=t.isIphone=t.isIpad=t.isMac=t.getSafariVersion=t.isSafari=t.isLegacyEdge=t.isFirefox=t.isNode=void 0,t.isNode=typeof navigator>"u";const n=t.isNode?"node":navigator.userAgent,i=t.isNode?"node":navigator.platform;t.isFirefox=n.includes("Firefox"),t.isLegacyEdge=n.includes("Edge"),t.isSafari=/^((?!chrome|android).)*safari/i.test(n),t.getSafariVersion=function(){if(!t.isSafari)return 0;const h=n.match(/Version\/(\d+)/);return h===null||h.length<2?0:parseInt(h[1])},t.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(i),t.isIpad=i==="iPad",t.isIphone=i==="iPhone",t.isWindows=["Windows","Win16","Win32","WinCE"].includes(i),t.isLinux=i.indexOf("Linux")>=0,t.isChromeOS=/\bCrOS\b/.test(n)},6106:(l,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SortedList=void 0;let n=0;t.SortedList=class{constructor(i){this._getKey=i,this._array=[]}clear(){this._array.length=0}insert(i){this._array.length!==0?(n=this._search(this._getKey(i)),this._array.splice(n,0,i)):this._array.push(i)}delete(i){if(this._array.length===0)return!1;const h=this._getKey(i);if(h===void 0||(n=this._search(h),n===-1)||this._getKey(this._array[n])!==h)return!1;do if(this._array[n]===i)return this._array.splice(n,1),!0;while(++n<this._array.length&&this._getKey(this._array[n])===h);return!1}*getKeyIterator(i){if(this._array.length!==0&&(n=this._search(i),!(n<0||n>=this._array.length)&&this._getKey(this._array[n])===i))do yield this._array[n];while(++n<this._array.length&&this._getKey(this._array[n])===i)}forEachByKey(i,h){if(this._array.length!==0&&(n=this._search(i),!(n<0||n>=this._array.length)&&this._getKey(this._array[n])===i))do h(this._array[n]);while(++n<this._array.length&&this._getKey(this._array[n])===i)}values(){return[...this._array].values()}_search(i){let h=0,o=this._array.length-1;for(;o>=h;){let u=h+o>>1;const g=this._getKey(this._array[u]);if(g>i)o=u-1;else{if(!(g<i)){for(;u>0&&this._getKey(this._array[u-1])===i;)u--;return u}h=u+1}}return h}}},7226:(l,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DebouncedIdleTask=t.IdleTaskQueue=t.PriorityTaskQueue=void 0;const i=n(6114);class h{constructor(){this._tasks=[],this._i=0}enqueue(g){this._tasks.push(g),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(g){this._idleCallback=void 0;let _=0,m=0,r=g.timeRemaining(),f=0;for(;this._i<this._tasks.length;){if(_=Date.now(),this._tasks[this._i]()||this._i++,_=Math.max(1,Date.now()-_),m=Math.max(_,m),f=g.timeRemaining(),1.5*m>f)return r-_<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(r-_))}ms`),void this._start();r=f}this.clear()}}class o extends h{_requestCallback(g){return setTimeout(()=>g(this._createDeadline(16)))}_cancelCallback(g){clearTimeout(g)}_createDeadline(g){const _=Date.now()+g;return{timeRemaining:()=>Math.max(0,_-Date.now())}}}t.PriorityTaskQueue=o,t.IdleTaskQueue=!i.isNode&&"requestIdleCallback"in window?class extends h{_requestCallback(u){return requestIdleCallback(u)}_cancelCallback(u){cancelIdleCallback(u)}}:o,t.DebouncedIdleTask=class{constructor(){this._queue=new t.IdleTaskQueue}set(u){this._queue.clear(),this._queue.enqueue(u)}flush(){this._queue.flush()}}},9282:(l,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.updateWindowsModeWrappedState=void 0;const i=n(643);t.updateWindowsModeWrappedState=function(h){const o=h.buffer.lines.get(h.buffer.ybase+h.buffer.y-1),u=o==null?void 0:o.get(h.cols-1),g=h.buffer.lines.get(h.buffer.ybase+h.buffer.y);g&&u&&(g.isWrapped=u[i.CHAR_DATA_CODE_INDEX]!==i.NULL_CELL_CODE&&u[i.CHAR_DATA_CODE_INDEX]!==i.WHITESPACE_CELL_CODE)}},3734:(l,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ExtendedAttrs=t.AttributeData=void 0;class n{constructor(){this.fg=0,this.bg=0,this.extended=new i}static toColorRGB(o){return[o>>>16&255,o>>>8&255,255&o]}static fromColorRGB(o){return(255&o[0])<<16|(255&o[1])<<8|255&o[2]}clone(){const o=new n;return o.fg=this.fg,o.bg=this.bg,o.extended=this.extended.clone(),o}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}t.AttributeData=n;class i{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(o){this._ext=o}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(o){this._ext&=-469762049,this._ext|=o<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(o){this._ext&=-67108864,this._ext|=67108863&o}get urlId(){return this._urlId}set urlId(o){this._urlId=o}constructor(o=0,u=0){this._ext=0,this._urlId=0,this._ext=o,this._urlId=u}clone(){return new i(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}t.ExtendedAttrs=i},9092:(l,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Buffer=t.MAX_BUFFER_SIZE=void 0;const i=n(6349),h=n(7226),o=n(3734),u=n(8437),g=n(4634),_=n(511),m=n(643),r=n(4863),f=n(7116);t.MAX_BUFFER_SIZE=4294967295,t.Buffer=class{constructor(p,v,d){this._hasScrollback=p,this._optionsService=v,this._bufferService=d,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=u.DEFAULT_ATTR_DATA.clone(),this.savedCharset=f.DEFAULT_CHARSET,this.markers=[],this._nullCell=_.CellData.fromCharData([0,m.NULL_CELL_CHAR,m.NULL_CELL_WIDTH,m.NULL_CELL_CODE]),this._whitespaceCell=_.CellData.fromCharData([0,m.WHITESPACE_CELL_CHAR,m.WHITESPACE_CELL_WIDTH,m.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new h.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new i.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(p){return p?(this._nullCell.fg=p.fg,this._nullCell.bg=p.bg,this._nullCell.extended=p.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new o.ExtendedAttrs),this._nullCell}getWhitespaceCell(p){return p?(this._whitespaceCell.fg=p.fg,this._whitespaceCell.bg=p.bg,this._whitespaceCell.extended=p.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new o.ExtendedAttrs),this._whitespaceCell}getBlankLine(p,v){return new u.BufferLine(this._bufferService.cols,this.getNullCell(p),v)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const p=this.ybase+this.y-this.ydisp;return p>=0&&p<this._rows}_getCorrectBufferLength(p){if(!this._hasScrollback)return p;const v=p+this._optionsService.rawOptions.scrollback;return v>t.MAX_BUFFER_SIZE?t.MAX_BUFFER_SIZE:v}fillViewportRows(p){if(this.lines.length===0){p===void 0&&(p=u.DEFAULT_ATTR_DATA);let v=this._rows;for(;v--;)this.lines.push(this.getBlankLine(p))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new i.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(p,v){const d=this.getNullCell(u.DEFAULT_ATTR_DATA);let C=0;const w=this._getCorrectBufferLength(v);if(w>this.lines.maxLength&&(this.lines.maxLength=w),this.lines.length>0){if(this._cols<p)for(let E=0;E<this.lines.length;E++)C+=+this.lines.get(E).resize(p,d);let A=0;if(this._rows<v)for(let E=this._rows;E<v;E++)this.lines.length<v+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new u.BufferLine(p,d)):this.ybase>0&&this.lines.length<=this.ybase+this.y+A+1?(this.ybase--,A++,this.ydisp>0&&this.ydisp--):this.lines.push(new u.BufferLine(p,d)));else for(let E=this._rows;E>v;E--)this.lines.length>v+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(w<this.lines.maxLength){const E=this.lines.length-w;E>0&&(this.lines.trimStart(E),this.ybase=Math.max(this.ybase-E,0),this.ydisp=Math.max(this.ydisp-E,0),this.savedY=Math.max(this.savedY-E,0)),this.lines.maxLength=w}this.x=Math.min(this.x,p-1),this.y=Math.min(this.y,v-1),A&&(this.y+=A),this.savedX=Math.min(this.savedX,p-1),this.scrollTop=0}if(this.scrollBottom=v-1,this._isReflowEnabled&&(this._reflow(p,v),this._cols>p))for(let A=0;A<this.lines.length;A++)C+=+this.lines.get(A).resize(p,d);this._cols=p,this._rows=v,this._memoryCleanupQueue.clear(),C>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let p=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,p=!1);let v=0;for(;this._memoryCleanupPosition<this.lines.length;)if(v+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),v>100)return!0;return p}get _isReflowEnabled(){const p=this._optionsService.rawOptions.windowsPty;return p&&p.buildNumber?this._hasScrollback&&p.backend==="conpty"&&p.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(p,v){this._cols!==p&&(p>this._cols?this._reflowLarger(p,v):this._reflowSmaller(p,v))}_reflowLarger(p,v){const d=(0,g.reflowLargerGetLinesToRemove)(this.lines,this._cols,p,this.ybase+this.y,this.getNullCell(u.DEFAULT_ATTR_DATA));if(d.length>0){const C=(0,g.reflowLargerCreateNewLayout)(this.lines,d);(0,g.reflowLargerApplyNewLayout)(this.lines,C.layout),this._reflowLargerAdjustViewport(p,v,C.countRemoved)}}_reflowLargerAdjustViewport(p,v,d){const C=this.getNullCell(u.DEFAULT_ATTR_DATA);let w=d;for(;w-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<v&&this.lines.push(new u.BufferLine(p,C))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-d,0)}_reflowSmaller(p,v){const d=this.getNullCell(u.DEFAULT_ATTR_DATA),C=[];let w=0;for(let A=this.lines.length-1;A>=0;A--){let E=this.lines.get(A);if(!E||!E.isWrapped&&E.getTrimmedLength()<=p)continue;const L=[E];for(;E.isWrapped&&A>0;)E=this.lines.get(--A),L.unshift(E);const D=this.ybase+this.y;if(D>=A&&D<A+L.length)continue;const R=L[L.length-1].getTrimmedLength(),I=(0,g.reflowSmallerGetNewLineLengths)(L,this._cols,p),P=I.length-L.length;let $;$=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+P):Math.max(0,this.lines.length-this.lines.maxLength+P);const F=[];for(let X=0;X<P;X++){const te=this.getBlankLine(u.DEFAULT_ATTR_DATA,!0);F.push(te)}F.length>0&&(C.push({start:A+L.length+w,newLines:F}),w+=F.length),L.push(...F);let U=I.length-1,Y=I[U];Y===0&&(U--,Y=I[U]);let k=L.length-P-1,H=R;for(;k>=0;){const X=Math.min(H,Y);if(L[U]===void 0)break;if(L[U].copyCellsFrom(L[k],H-X,Y-X,X,!0),Y-=X,Y===0&&(U--,Y=I[U]),H-=X,H===0){k--;const te=Math.max(k,0);H=(0,g.getWrappedLineTrimmedLength)(L,te,this._cols)}}for(let X=0;X<L.length;X++)I[X]<p&&L[X].setCell(I[X],d);let z=P-$;for(;z-- >0;)this.ybase===0?this.y<v-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+w)-v&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+P,this.ybase+v-1)}if(C.length>0){const A=[],E=[];for(let U=0;U<this.lines.length;U++)E.push(this.lines.get(U));const L=this.lines.length;let D=L-1,R=0,I=C[R];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+w);let P=0;for(let U=Math.min(this.lines.maxLength-1,L+w-1);U>=0;U--)if(I&&I.start>D+P){for(let Y=I.newLines.length-1;Y>=0;Y--)this.lines.set(U--,I.newLines[Y]);U++,A.push({index:D+1,amount:I.newLines.length}),P+=I.newLines.length,I=C[++R]}else this.lines.set(U,E[D--]);let $=0;for(let U=A.length-1;U>=0;U--)A[U].index+=$,this.lines.onInsertEmitter.fire(A[U]),$+=A[U].amount;const F=Math.max(0,L+w-this.lines.maxLength);F>0&&this.lines.onTrimEmitter.fire(F)}}translateBufferLineToString(p,v,d=0,C){const w=this.lines.get(p);return w?w.translateToString(v,d,C):""}getWrappedRangeForLine(p){let v=p,d=p;for(;v>0&&this.lines.get(v).isWrapped;)v--;for(;d+1<this.lines.length&&this.lines.get(d+1).isWrapped;)d++;return{first:v,last:d}}setupTabStops(p){for(p!=null?this.tabs[p]||(p=this.prevStop(p)):(this.tabs={},p=0);p<this._cols;p+=this._optionsService.rawOptions.tabStopWidth)this.tabs[p]=!0}prevStop(p){for(p==null&&(p=this.x);!this.tabs[--p]&&p>0;);return p>=this._cols?this._cols-1:p<0?0:p}nextStop(p){for(p==null&&(p=this.x);!this.tabs[++p]&&p<this._cols;);return p>=this._cols?this._cols-1:p<0?0:p}clearMarkers(p){this._isClearing=!0;for(let v=0;v<this.markers.length;v++)this.markers[v].line===p&&(this.markers[v].dispose(),this.markers.splice(v--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let p=0;p<this.markers.length;p++)this.markers[p].dispose(),this.markers.splice(p--,1);this._isClearing=!1}addMarker(p){const v=new r.Marker(p);return this.markers.push(v),v.register(this.lines.onTrim(d=>{v.line-=d,v.line<0&&v.dispose()})),v.register(this.lines.onInsert(d=>{v.line>=d.index&&(v.line+=d.amount)})),v.register(this.lines.onDelete(d=>{v.line>=d.index&&v.line<d.index+d.amount&&v.dispose(),v.line>d.index&&(v.line-=d.amount)})),v.register(v.onDispose(()=>this._removeMarker(v))),v}_removeMarker(p){this._isClearing||this.markers.splice(this.markers.indexOf(p),1)}}},8437:(l,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferLine=t.DEFAULT_ATTR_DATA=void 0;const i=n(3734),h=n(511),o=n(643),u=n(482);t.DEFAULT_ATTR_DATA=Object.freeze(new i.AttributeData);let g=0;class _{constructor(r,f,p=!1){this.isWrapped=p,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*r);const v=f||h.CellData.fromCharData([0,o.NULL_CELL_CHAR,o.NULL_CELL_WIDTH,o.NULL_CELL_CODE]);for(let d=0;d<r;++d)this.setCell(d,v);this.length=r}get(r){const f=this._data[3*r+0],p=2097151&f;return[this._data[3*r+1],2097152&f?this._combined[r]:p?(0,u.stringFromCodePoint)(p):"",f>>22,2097152&f?this._combined[r].charCodeAt(this._combined[r].length-1):p]}set(r,f){this._data[3*r+1]=f[o.CHAR_DATA_ATTR_INDEX],f[o.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[r]=f[1],this._data[3*r+0]=2097152|r|f[o.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*r+0]=f[o.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|f[o.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(r){return this._data[3*r+0]>>22}hasWidth(r){return 12582912&this._data[3*r+0]}getFg(r){return this._data[3*r+1]}getBg(r){return this._data[3*r+2]}hasContent(r){return 4194303&this._data[3*r+0]}getCodePoint(r){const f=this._data[3*r+0];return 2097152&f?this._combined[r].charCodeAt(this._combined[r].length-1):2097151&f}isCombined(r){return 2097152&this._data[3*r+0]}getString(r){const f=this._data[3*r+0];return 2097152&f?this._combined[r]:2097151&f?(0,u.stringFromCodePoint)(2097151&f):""}isProtected(r){return 536870912&this._data[3*r+2]}loadCell(r,f){return g=3*r,f.content=this._data[g+0],f.fg=this._data[g+1],f.bg=this._data[g+2],2097152&f.content&&(f.combinedData=this._combined[r]),268435456&f.bg&&(f.extended=this._extendedAttrs[r]),f}setCell(r,f){2097152&f.content&&(this._combined[r]=f.combinedData),268435456&f.bg&&(this._extendedAttrs[r]=f.extended),this._data[3*r+0]=f.content,this._data[3*r+1]=f.fg,this._data[3*r+2]=f.bg}setCellFromCodePoint(r,f,p,v,d,C){268435456&d&&(this._extendedAttrs[r]=C),this._data[3*r+0]=f|p<<22,this._data[3*r+1]=v,this._data[3*r+2]=d}addCodepointToCell(r,f){let p=this._data[3*r+0];2097152&p?this._combined[r]+=(0,u.stringFromCodePoint)(f):(2097151&p?(this._combined[r]=(0,u.stringFromCodePoint)(2097151&p)+(0,u.stringFromCodePoint)(f),p&=-2097152,p|=2097152):p=f|4194304,this._data[3*r+0]=p)}insertCells(r,f,p,v){if((r%=this.length)&&this.getWidth(r-1)===2&&this.setCellFromCodePoint(r-1,0,1,(v==null?void 0:v.fg)||0,(v==null?void 0:v.bg)||0,(v==null?void 0:v.extended)||new i.ExtendedAttrs),f<this.length-r){const d=new h.CellData;for(let C=this.length-r-f-1;C>=0;--C)this.setCell(r+f+C,this.loadCell(r+C,d));for(let C=0;C<f;++C)this.setCell(r+C,p)}else for(let d=r;d<this.length;++d)this.setCell(d,p);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,(v==null?void 0:v.fg)||0,(v==null?void 0:v.bg)||0,(v==null?void 0:v.extended)||new i.ExtendedAttrs)}deleteCells(r,f,p,v){if(r%=this.length,f<this.length-r){const d=new h.CellData;for(let C=0;C<this.length-r-f;++C)this.setCell(r+C,this.loadCell(r+f+C,d));for(let C=this.length-f;C<this.length;++C)this.setCell(C,p)}else for(let d=r;d<this.length;++d)this.setCell(d,p);r&&this.getWidth(r-1)===2&&this.setCellFromCodePoint(r-1,0,1,(v==null?void 0:v.fg)||0,(v==null?void 0:v.bg)||0,(v==null?void 0:v.extended)||new i.ExtendedAttrs),this.getWidth(r)!==0||this.hasContent(r)||this.setCellFromCodePoint(r,0,1,(v==null?void 0:v.fg)||0,(v==null?void 0:v.bg)||0,(v==null?void 0:v.extended)||new i.ExtendedAttrs)}replaceCells(r,f,p,v,d=!1){if(d)for(r&&this.getWidth(r-1)===2&&!this.isProtected(r-1)&&this.setCellFromCodePoint(r-1,0,1,(v==null?void 0:v.fg)||0,(v==null?void 0:v.bg)||0,(v==null?void 0:v.extended)||new i.ExtendedAttrs),f<this.length&&this.getWidth(f-1)===2&&!this.isProtected(f)&&this.setCellFromCodePoint(f,0,1,(v==null?void 0:v.fg)||0,(v==null?void 0:v.bg)||0,(v==null?void 0:v.extended)||new i.ExtendedAttrs);r<f&&r<this.length;)this.isProtected(r)||this.setCell(r,p),r++;else for(r&&this.getWidth(r-1)===2&&this.setCellFromCodePoint(r-1,0,1,(v==null?void 0:v.fg)||0,(v==null?void 0:v.bg)||0,(v==null?void 0:v.extended)||new i.ExtendedAttrs),f<this.length&&this.getWidth(f-1)===2&&this.setCellFromCodePoint(f,0,1,(v==null?void 0:v.fg)||0,(v==null?void 0:v.bg)||0,(v==null?void 0:v.extended)||new i.ExtendedAttrs);r<f&&r<this.length;)this.setCell(r++,p)}resize(r,f){if(r===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const p=3*r;if(r>this.length){if(this._data.buffer.byteLength>=4*p)this._data=new Uint32Array(this._data.buffer,0,p);else{const v=new Uint32Array(p);v.set(this._data),this._data=v}for(let v=this.length;v<r;++v)this.setCell(v,f)}else{this._data=this._data.subarray(0,p);const v=Object.keys(this._combined);for(let C=0;C<v.length;C++){const w=parseInt(v[C],10);w>=r&&delete this._combined[w]}const d=Object.keys(this._extendedAttrs);for(let C=0;C<d.length;C++){const w=parseInt(d[C],10);w>=r&&delete this._extendedAttrs[w]}}return this.length=r,4*p*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const r=new Uint32Array(this._data.length);return r.set(this._data),this._data=r,1}return 0}fill(r,f=!1){if(f)for(let p=0;p<this.length;++p)this.isProtected(p)||this.setCell(p,r);else{this._combined={},this._extendedAttrs={};for(let p=0;p<this.length;++p)this.setCell(p,r)}}copyFrom(r){this.length!==r.length?this._data=new Uint32Array(r._data):this._data.set(r._data),this.length=r.length,this._combined={};for(const f in r._combined)this._combined[f]=r._combined[f];this._extendedAttrs={};for(const f in r._extendedAttrs)this._extendedAttrs[f]=r._extendedAttrs[f];this.isWrapped=r.isWrapped}clone(){const r=new _(0);r._data=new Uint32Array(this._data),r.length=this.length;for(const f in this._combined)r._combined[f]=this._combined[f];for(const f in this._extendedAttrs)r._extendedAttrs[f]=this._extendedAttrs[f];return r.isWrapped=this.isWrapped,r}getTrimmedLength(){for(let r=this.length-1;r>=0;--r)if(4194303&this._data[3*r+0])return r+(this._data[3*r+0]>>22);return 0}getNoBgTrimmedLength(){for(let r=this.length-1;r>=0;--r)if(4194303&this._data[3*r+0]||50331648&this._data[3*r+2])return r+(this._data[3*r+0]>>22);return 0}copyCellsFrom(r,f,p,v,d){const C=r._data;if(d)for(let A=v-1;A>=0;A--){for(let E=0;E<3;E++)this._data[3*(p+A)+E]=C[3*(f+A)+E];268435456&C[3*(f+A)+2]&&(this._extendedAttrs[p+A]=r._extendedAttrs[f+A])}else for(let A=0;A<v;A++){for(let E=0;E<3;E++)this._data[3*(p+A)+E]=C[3*(f+A)+E];268435456&C[3*(f+A)+2]&&(this._extendedAttrs[p+A]=r._extendedAttrs[f+A])}const w=Object.keys(r._combined);for(let A=0;A<w.length;A++){const E=parseInt(w[A],10);E>=f&&(this._combined[E-f+p]=r._combined[E])}}translateToString(r=!1,f=0,p=this.length){r&&(p=Math.min(p,this.getTrimmedLength()));let v="";for(;f<p;){const d=this._data[3*f+0],C=2097151&d;v+=2097152&d?this._combined[f]:C?(0,u.stringFromCodePoint)(C):o.WHITESPACE_CELL_CHAR,f+=d>>22||1}return v}}t.BufferLine=_},4841:(l,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getRangeLength=void 0,t.getRangeLength=function(n,i){if(n.start.y>n.end.y)throw new Error(`Buffer range end (${n.end.x}, ${n.end.y}) cannot be before start (${n.start.x}, ${n.start.y})`);return i*(n.end.y-n.start.y)+(n.end.x-n.start.x+1)}},4634:(l,t)=>{function n(i,h,o){if(h===i.length-1)return i[h].getTrimmedLength();const u=!i[h].hasContent(o-1)&&i[h].getWidth(o-1)===1,g=i[h+1].getWidth(0)===2;return u&&g?o-1:o}Object.defineProperty(t,"__esModule",{value:!0}),t.getWrappedLineTrimmedLength=t.reflowSmallerGetNewLineLengths=t.reflowLargerApplyNewLayout=t.reflowLargerCreateNewLayout=t.reflowLargerGetLinesToRemove=void 0,t.reflowLargerGetLinesToRemove=function(i,h,o,u,g){const _=[];for(let m=0;m<i.length-1;m++){let r=m,f=i.get(++r);if(!f.isWrapped)continue;const p=[i.get(m)];for(;r<i.length&&f.isWrapped;)p.push(f),f=i.get(++r);if(u>=m&&u<r){m+=p.length-1;continue}let v=0,d=n(p,v,h),C=1,w=0;for(;C<p.length;){const E=n(p,C,h),L=E-w,D=o-d,R=Math.min(L,D);p[v].copyCellsFrom(p[C],w,d,R,!1),d+=R,d===o&&(v++,d=0),w+=R,w===E&&(C++,w=0),d===0&&v!==0&&p[v-1].getWidth(o-1)===2&&(p[v].copyCellsFrom(p[v-1],o-1,d++,1,!1),p[v-1].setCell(o-1,g))}p[v].replaceCells(d,o,g);let A=0;for(let E=p.length-1;E>0&&(E>v||p[E].getTrimmedLength()===0);E--)A++;A>0&&(_.push(m+p.length-A),_.push(A)),m+=p.length-1}return _},t.reflowLargerCreateNewLayout=function(i,h){const o=[];let u=0,g=h[u],_=0;for(let m=0;m<i.length;m++)if(g===m){const r=h[++u];i.onDeleteEmitter.fire({index:m-_,amount:r}),m+=r-1,_+=r,g=h[++u]}else o.push(m);return{layout:o,countRemoved:_}},t.reflowLargerApplyNewLayout=function(i,h){const o=[];for(let u=0;u<h.length;u++)o.push(i.get(h[u]));for(let u=0;u<o.length;u++)i.set(u,o[u]);i.length=h.length},t.reflowSmallerGetNewLineLengths=function(i,h,o){const u=[],g=i.map((f,p)=>n(i,p,h)).reduce((f,p)=>f+p);let _=0,m=0,r=0;for(;r<g;){if(g-r<o){u.push(g-r);break}_+=o;const f=n(i,m,h);_>f&&(_-=f,m++);const p=i[m].getWidth(_-1)===2;p&&_--;const v=p?o-1:o;u.push(v),r+=v}return u},t.getWrappedLineTrimmedLength=n},5295:(l,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferSet=void 0;const i=n(8460),h=n(844),o=n(9092);class u extends h.Disposable{constructor(_,m){super(),this._optionsService=_,this._bufferService=m,this._onBufferActivate=this.register(new i.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new o.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new o.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(_){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(_),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(_,m){this._normal.resize(_,m),this._alt.resize(_,m),this.setupTabStops(_)}setupTabStops(_){this._normal.setupTabStops(_),this._alt.setupTabStops(_)}}t.BufferSet=u},511:(l,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CellData=void 0;const i=n(482),h=n(643),o=n(3734);class u extends o.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new o.ExtendedAttrs,this.combinedData=""}static fromCharData(_){const m=new u;return m.setFromCharData(_),m}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,i.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(_){this.fg=_[h.CHAR_DATA_ATTR_INDEX],this.bg=0;let m=!1;if(_[h.CHAR_DATA_CHAR_INDEX].length>2)m=!0;else if(_[h.CHAR_DATA_CHAR_INDEX].length===2){const r=_[h.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=r&&r<=56319){const f=_[h.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=f&&f<=57343?this.content=1024*(r-55296)+f-56320+65536|_[h.CHAR_DATA_WIDTH_INDEX]<<22:m=!0}else m=!0}else this.content=_[h.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|_[h.CHAR_DATA_WIDTH_INDEX]<<22;m&&(this.combinedData=_[h.CHAR_DATA_CHAR_INDEX],this.content=2097152|_[h.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}t.CellData=u},643:(l,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WHITESPACE_CELL_CODE=t.WHITESPACE_CELL_WIDTH=t.WHITESPACE_CELL_CHAR=t.NULL_CELL_CODE=t.NULL_CELL_WIDTH=t.NULL_CELL_CHAR=t.CHAR_DATA_CODE_INDEX=t.CHAR_DATA_WIDTH_INDEX=t.CHAR_DATA_CHAR_INDEX=t.CHAR_DATA_ATTR_INDEX=t.DEFAULT_EXT=t.DEFAULT_ATTR=t.DEFAULT_COLOR=void 0,t.DEFAULT_COLOR=0,t.DEFAULT_ATTR=256|t.DEFAULT_COLOR<<9,t.DEFAULT_EXT=0,t.CHAR_DATA_ATTR_INDEX=0,t.CHAR_DATA_CHAR_INDEX=1,t.CHAR_DATA_WIDTH_INDEX=2,t.CHAR_DATA_CODE_INDEX=3,t.NULL_CELL_CHAR="",t.NULL_CELL_WIDTH=1,t.NULL_CELL_CODE=0,t.WHITESPACE_CELL_CHAR=" ",t.WHITESPACE_CELL_WIDTH=1,t.WHITESPACE_CELL_CODE=32},4863:(l,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Marker=void 0;const i=n(8460),h=n(844);class o{get id(){return this._id}constructor(g){this.line=g,this.isDisposed=!1,this._disposables=[],this._id=o._nextId++,this._onDispose=this.register(new i.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,h.disposeArray)(this._disposables),this._disposables.length=0)}register(g){return this._disposables.push(g),g}}t.Marker=o,o._nextId=1},7116:(l,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_CHARSET=t.CHARSETS=void 0,t.CHARSETS={},t.DEFAULT_CHARSET=t.CHARSETS.B,t.CHARSETS[0]={"`":"◆",a:"▒",b:"␉",c:"␌",d:"␍",e:"␊",f:"°",g:"±",h:"␤",i:"␋",j:"┘",k:"┐",l:"┌",m:"└",n:"┼",o:"⎺",p:"⎻",q:"─",r:"⎼",s:"⎽",t:"├",u:"┤",v:"┴",w:"┬",x:"│",y:"≤",z:"≥","{":"π","|":"≠","}":"£","~":"·"},t.CHARSETS.A={"#":"£"},t.CHARSETS.B=void 0,t.CHARSETS[4]={"#":"£","@":"¾","[":"ij","\\":"½","]":"|","{":"¨","|":"f","}":"¼","~":"´"},t.CHARSETS.C=t.CHARSETS[5]={"[":"Ä","\\":"Ö","]":"Å","^":"Ü","`":"é","{":"ä","|":"ö","}":"å","~":"ü"},t.CHARSETS.R={"#":"£","@":"à","[":"°","\\":"ç","]":"§","{":"é","|":"ù","}":"è","~":"¨"},t.CHARSETS.Q={"@":"à","[":"â","\\":"ç","]":"ê","^":"î","`":"ô","{":"é","|":"ù","}":"è","~":"û"},t.CHARSETS.K={"@":"§","[":"Ä","\\":"Ö","]":"Ü","{":"ä","|":"ö","}":"ü","~":"ß"},t.CHARSETS.Y={"#":"£","@":"§","[":"°","\\":"ç","]":"é","`":"ù","{":"à","|":"ò","}":"è","~":"ì"},t.CHARSETS.E=t.CHARSETS[6]={"@":"Ä","[":"Æ","\\":"Ø","]":"Å","^":"Ü","`":"ä","{":"æ","|":"ø","}":"å","~":"ü"},t.CHARSETS.Z={"#":"£","@":"§","[":"¡","\\":"Ñ","]":"¿","{":"°","|":"ñ","}":"ç"},t.CHARSETS.H=t.CHARSETS[7]={"@":"É","[":"Ä","\\":"Ö","]":"Å","^":"Ü","`":"é","{":"ä","|":"ö","}":"å","~":"ü"},t.CHARSETS["="]={"#":"ù","@":"à","[":"é","\\":"ç","]":"ê","^":"î",_:"è","`":"ô","{":"ä","|":"ö","}":"ü","~":"û"}},2584:(l,t)=>{var n,i,h;Object.defineProperty(t,"__esModule",{value:!0}),t.C1_ESCAPED=t.C1=t.C0=void 0,function(o){o.NUL="\0",o.SOH="",o.STX="",o.ETX="",o.EOT="",o.ENQ="",o.ACK="",o.BEL="\x07",o.BS="\b",o.HT="	",o.LF=`
`,o.VT="\v",o.FF="\f",o.CR="\r",o.SO="",o.SI="",o.DLE="",o.DC1="",o.DC2="",o.DC3="",o.DC4="",o.NAK="",o.SYN="",o.ETB="",o.CAN="",o.EM="",o.SUB="",o.ESC="\x1B",o.FS="",o.GS="",o.RS="",o.US="",o.SP=" ",o.DEL=""}(n||(t.C0=n={})),function(o){o.PAD="",o.HOP="",o.BPH="",o.NBH="",o.IND="",o.NEL="",o.SSA="",o.ESA="",o.HTS="",o.HTJ="",o.VTS="",o.PLD="",o.PLU="",o.RI="",o.SS2="",o.SS3="",o.DCS="",o.PU1="",o.PU2="",o.STS="",o.CCH="",o.MW="",o.SPA="",o.EPA="",o.SOS="",o.SGCI="",o.SCI="",o.CSI="",o.ST="",o.OSC="",o.PM="",o.APC=""}(i||(t.C1=i={})),function(o){o.ST=`${n.ESC}\\`}(h||(t.C1_ESCAPED=h={}))},7399:(l,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.evaluateKeyboardEvent=void 0;const i=n(2584),h={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};t.evaluateKeyboardEvent=function(o,u,g,_){const m={type:0,cancel:!1,key:void 0},r=(o.shiftKey?1:0)|(o.altKey?2:0)|(o.ctrlKey?4:0)|(o.metaKey?8:0);switch(o.keyCode){case 0:o.key==="UIKeyInputUpArrow"?m.key=u?i.C0.ESC+"OA":i.C0.ESC+"[A":o.key==="UIKeyInputLeftArrow"?m.key=u?i.C0.ESC+"OD":i.C0.ESC+"[D":o.key==="UIKeyInputRightArrow"?m.key=u?i.C0.ESC+"OC":i.C0.ESC+"[C":o.key==="UIKeyInputDownArrow"&&(m.key=u?i.C0.ESC+"OB":i.C0.ESC+"[B");break;case 8:if(o.altKey){m.key=i.C0.ESC+i.C0.DEL;break}m.key=i.C0.DEL;break;case 9:if(o.shiftKey){m.key=i.C0.ESC+"[Z";break}m.key=i.C0.HT,m.cancel=!0;break;case 13:m.key=o.altKey?i.C0.ESC+i.C0.CR:i.C0.CR,m.cancel=!0;break;case 27:m.key=i.C0.ESC,o.altKey&&(m.key=i.C0.ESC+i.C0.ESC),m.cancel=!0;break;case 37:if(o.metaKey)break;r?(m.key=i.C0.ESC+"[1;"+(r+1)+"D",m.key===i.C0.ESC+"[1;3D"&&(m.key=i.C0.ESC+(g?"b":"[1;5D"))):m.key=u?i.C0.ESC+"OD":i.C0.ESC+"[D";break;case 39:if(o.metaKey)break;r?(m.key=i.C0.ESC+"[1;"+(r+1)+"C",m.key===i.C0.ESC+"[1;3C"&&(m.key=i.C0.ESC+(g?"f":"[1;5C"))):m.key=u?i.C0.ESC+"OC":i.C0.ESC+"[C";break;case 38:if(o.metaKey)break;r?(m.key=i.C0.ESC+"[1;"+(r+1)+"A",g||m.key!==i.C0.ESC+"[1;3A"||(m.key=i.C0.ESC+"[1;5A")):m.key=u?i.C0.ESC+"OA":i.C0.ESC+"[A";break;case 40:if(o.metaKey)break;r?(m.key=i.C0.ESC+"[1;"+(r+1)+"B",g||m.key!==i.C0.ESC+"[1;3B"||(m.key=i.C0.ESC+"[1;5B")):m.key=u?i.C0.ESC+"OB":i.C0.ESC+"[B";break;case 45:o.shiftKey||o.ctrlKey||(m.key=i.C0.ESC+"[2~");break;case 46:m.key=r?i.C0.ESC+"[3;"+(r+1)+"~":i.C0.ESC+"[3~";break;case 36:m.key=r?i.C0.ESC+"[1;"+(r+1)+"H":u?i.C0.ESC+"OH":i.C0.ESC+"[H";break;case 35:m.key=r?i.C0.ESC+"[1;"+(r+1)+"F":u?i.C0.ESC+"OF":i.C0.ESC+"[F";break;case 33:o.shiftKey?m.type=2:o.ctrlKey?m.key=i.C0.ESC+"[5;"+(r+1)+"~":m.key=i.C0.ESC+"[5~";break;case 34:o.shiftKey?m.type=3:o.ctrlKey?m.key=i.C0.ESC+"[6;"+(r+1)+"~":m.key=i.C0.ESC+"[6~";break;case 112:m.key=r?i.C0.ESC+"[1;"+(r+1)+"P":i.C0.ESC+"OP";break;case 113:m.key=r?i.C0.ESC+"[1;"+(r+1)+"Q":i.C0.ESC+"OQ";break;case 114:m.key=r?i.C0.ESC+"[1;"+(r+1)+"R":i.C0.ESC+"OR";break;case 115:m.key=r?i.C0.ESC+"[1;"+(r+1)+"S":i.C0.ESC+"OS";break;case 116:m.key=r?i.C0.ESC+"[15;"+(r+1)+"~":i.C0.ESC+"[15~";break;case 117:m.key=r?i.C0.ESC+"[17;"+(r+1)+"~":i.C0.ESC+"[17~";break;case 118:m.key=r?i.C0.ESC+"[18;"+(r+1)+"~":i.C0.ESC+"[18~";break;case 119:m.key=r?i.C0.ESC+"[19;"+(r+1)+"~":i.C0.ESC+"[19~";break;case 120:m.key=r?i.C0.ESC+"[20;"+(r+1)+"~":i.C0.ESC+"[20~";break;case 121:m.key=r?i.C0.ESC+"[21;"+(r+1)+"~":i.C0.ESC+"[21~";break;case 122:m.key=r?i.C0.ESC+"[23;"+(r+1)+"~":i.C0.ESC+"[23~";break;case 123:m.key=r?i.C0.ESC+"[24;"+(r+1)+"~":i.C0.ESC+"[24~";break;default:if(!o.ctrlKey||o.shiftKey||o.altKey||o.metaKey)if(g&&!_||!o.altKey||o.metaKey)!g||o.altKey||o.ctrlKey||o.shiftKey||!o.metaKey?o.key&&!o.ctrlKey&&!o.altKey&&!o.metaKey&&o.keyCode>=48&&o.key.length===1?m.key=o.key:o.key&&o.ctrlKey&&(o.key==="_"&&(m.key=i.C0.US),o.key==="@"&&(m.key=i.C0.NUL)):o.keyCode===65&&(m.type=1);else{const f=h[o.keyCode],p=f==null?void 0:f[o.shiftKey?1:0];if(p)m.key=i.C0.ESC+p;else if(o.keyCode>=65&&o.keyCode<=90){const v=o.ctrlKey?o.keyCode-64:o.keyCode+32;let d=String.fromCharCode(v);o.shiftKey&&(d=d.toUpperCase()),m.key=i.C0.ESC+d}else if(o.keyCode===32)m.key=i.C0.ESC+(o.ctrlKey?i.C0.NUL:" ");else if(o.key==="Dead"&&o.code.startsWith("Key")){let v=o.code.slice(3,4);o.shiftKey||(v=v.toLowerCase()),m.key=i.C0.ESC+v,m.cancel=!0}}else o.keyCode>=65&&o.keyCode<=90?m.key=String.fromCharCode(o.keyCode-64):o.keyCode===32?m.key=i.C0.NUL:o.keyCode>=51&&o.keyCode<=55?m.key=String.fromCharCode(o.keyCode-51+27):o.keyCode===56?m.key=i.C0.DEL:o.keyCode===219?m.key=i.C0.ESC:o.keyCode===220?m.key=i.C0.FS:o.keyCode===221&&(m.key=i.C0.GS)}return m}},482:(l,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Utf8ToUtf32=t.StringToUtf32=t.utf32ToString=t.stringFromCodePoint=void 0,t.stringFromCodePoint=function(n){return n>65535?(n-=65536,String.fromCharCode(55296+(n>>10))+String.fromCharCode(n%1024+56320)):String.fromCharCode(n)},t.utf32ToString=function(n,i=0,h=n.length){let o="";for(let u=i;u<h;++u){let g=n[u];g>65535?(g-=65536,o+=String.fromCharCode(55296+(g>>10))+String.fromCharCode(g%1024+56320)):o+=String.fromCharCode(g)}return o},t.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(n,i){const h=n.length;if(!h)return 0;let o=0,u=0;if(this._interim){const g=n.charCodeAt(u++);56320<=g&&g<=57343?i[o++]=1024*(this._interim-55296)+g-56320+65536:(i[o++]=this._interim,i[o++]=g),this._interim=0}for(let g=u;g<h;++g){const _=n.charCodeAt(g);if(55296<=_&&_<=56319){if(++g>=h)return this._interim=_,o;const m=n.charCodeAt(g);56320<=m&&m<=57343?i[o++]=1024*(_-55296)+m-56320+65536:(i[o++]=_,i[o++]=m)}else _!==65279&&(i[o++]=_)}return o}},t.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(n,i){const h=n.length;if(!h)return 0;let o,u,g,_,m=0,r=0,f=0;if(this.interim[0]){let d=!1,C=this.interim[0];C&=(224&C)==192?31:(240&C)==224?15:7;let w,A=0;for(;(w=63&this.interim[++A])&&A<4;)C<<=6,C|=w;const E=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,L=E-A;for(;f<L;){if(f>=h)return 0;if(w=n[f++],(192&w)!=128){f--,d=!0;break}this.interim[A++]=w,C<<=6,C|=63&w}d||(E===2?C<128?f--:i[m++]=C:E===3?C<2048||C>=55296&&C<=57343||C===65279||(i[m++]=C):C<65536||C>1114111||(i[m++]=C)),this.interim.fill(0)}const p=h-4;let v=f;for(;v<h;){for(;!(!(v<p)||128&(o=n[v])||128&(u=n[v+1])||128&(g=n[v+2])||128&(_=n[v+3]));)i[m++]=o,i[m++]=u,i[m++]=g,i[m++]=_,v+=4;if(o=n[v++],o<128)i[m++]=o;else if((224&o)==192){if(v>=h)return this.interim[0]=o,m;if(u=n[v++],(192&u)!=128){v--;continue}if(r=(31&o)<<6|63&u,r<128){v--;continue}i[m++]=r}else if((240&o)==224){if(v>=h)return this.interim[0]=o,m;if(u=n[v++],(192&u)!=128){v--;continue}if(v>=h)return this.interim[0]=o,this.interim[1]=u,m;if(g=n[v++],(192&g)!=128){v--;continue}if(r=(15&o)<<12|(63&u)<<6|63&g,r<2048||r>=55296&&r<=57343||r===65279)continue;i[m++]=r}else if((248&o)==240){if(v>=h)return this.interim[0]=o,m;if(u=n[v++],(192&u)!=128){v--;continue}if(v>=h)return this.interim[0]=o,this.interim[1]=u,m;if(g=n[v++],(192&g)!=128){v--;continue}if(v>=h)return this.interim[0]=o,this.interim[1]=u,this.interim[2]=g,m;if(_=n[v++],(192&_)!=128){v--;continue}if(r=(7&o)<<18|(63&u)<<12|(63&g)<<6|63&_,r<65536||r>1114111)continue;i[m++]=r}}return m}}},225:(l,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnicodeV6=void 0;const n=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],i=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let h;t.UnicodeV6=class{constructor(){if(this.version="6",!h){h=new Uint8Array(65536),h.fill(1),h[0]=0,h.fill(0,1,32),h.fill(0,127,160),h.fill(2,4352,4448),h[9001]=2,h[9002]=2,h.fill(2,11904,42192),h[12351]=1,h.fill(2,44032,55204),h.fill(2,63744,64256),h.fill(2,65040,65050),h.fill(2,65072,65136),h.fill(2,65280,65377),h.fill(2,65504,65511);for(let o=0;o<n.length;++o)h.fill(0,n[o][0],n[o][1]+1)}}wcwidth(o){return o<32?0:o<127?1:o<65536?h[o]:function(u,g){let _,m=0,r=g.length-1;if(u<g[0][0]||u>g[r][1])return!1;for(;r>=m;)if(_=m+r>>1,u>g[_][1])m=_+1;else{if(!(u<g[_][0]))return!0;r=_-1}return!1}(o,i)?0:o>=131072&&o<=196605||o>=196608&&o<=262141?2:1}}},5981:(l,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WriteBuffer=void 0;const i=n(8460),h=n(844);class o extends h.Disposable{constructor(g){super(),this._action=g,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new i.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(g,_){if(_!==void 0&&this._syncCalls>_)return void(this._syncCalls=0);if(this._pendingData+=g.length,this._writeBuffer.push(g),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let m;for(this._isSyncWriting=!0;m=this._writeBuffer.shift();){this._action(m);const r=this._callbacks.shift();r&&r()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(g,_){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=g.length,this._writeBuffer.push(g),this._callbacks.push(_),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=g.length,this._writeBuffer.push(g),this._callbacks.push(_)}_innerWrite(g=0,_=!0){const m=g||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const r=this._writeBuffer[this._bufferOffset],f=this._action(r,_);if(f){const v=d=>Date.now()-m>=12?setTimeout(()=>this._innerWrite(0,d)):this._innerWrite(m,d);return void f.catch(d=>(queueMicrotask(()=>{throw d}),Promise.resolve(!1))).then(v)}const p=this._callbacks[this._bufferOffset];if(p&&p(),this._bufferOffset++,this._pendingData-=r.length,Date.now()-m>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}t.WriteBuffer=o},5941:(l,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.toRgbString=t.parseColor=void 0;const n=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,i=/^[\da-f]+$/;function h(o,u){const g=o.toString(16),_=g.length<2?"0"+g:g;switch(u){case 4:return g[0];case 8:return _;case 12:return(_+_).slice(0,3);default:return _+_}}t.parseColor=function(o){if(!o)return;let u=o.toLowerCase();if(u.indexOf("rgb:")===0){u=u.slice(4);const g=n.exec(u);if(g){const _=g[1]?15:g[4]?255:g[7]?4095:65535;return[Math.round(parseInt(g[1]||g[4]||g[7]||g[10],16)/_*255),Math.round(parseInt(g[2]||g[5]||g[8]||g[11],16)/_*255),Math.round(parseInt(g[3]||g[6]||g[9]||g[12],16)/_*255)]}}else if(u.indexOf("#")===0&&(u=u.slice(1),i.exec(u)&&[3,6,9,12].includes(u.length))){const g=u.length/3,_=[0,0,0];for(let m=0;m<3;++m){const r=parseInt(u.slice(g*m,g*m+g),16);_[m]=g===1?r<<4:g===2?r:g===3?r>>4:r>>8}return _}},t.toRgbString=function(o,u=16){const[g,_,m]=o;return`rgb:${h(g,u)}/${h(_,u)}/${h(m,u)}`}},5770:(l,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PAYLOAD_LIMIT=void 0,t.PAYLOAD_LIMIT=1e7},6351:(l,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DcsHandler=t.DcsParser=void 0;const i=n(482),h=n(8742),o=n(5770),u=[];t.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=u,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=u}registerHandler(_,m){this._handlers[_]===void 0&&(this._handlers[_]=[]);const r=this._handlers[_];return r.push(m),{dispose:()=>{const f=r.indexOf(m);f!==-1&&r.splice(f,1)}}}clearHandler(_){this._handlers[_]&&delete this._handlers[_]}setHandlerFallback(_){this._handlerFb=_}reset(){if(this._active.length)for(let _=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;_>=0;--_)this._active[_].unhook(!1);this._stack.paused=!1,this._active=u,this._ident=0}hook(_,m){if(this.reset(),this._ident=_,this._active=this._handlers[_]||u,this._active.length)for(let r=this._active.length-1;r>=0;r--)this._active[r].hook(m);else this._handlerFb(this._ident,"HOOK",m)}put(_,m,r){if(this._active.length)for(let f=this._active.length-1;f>=0;f--)this._active[f].put(_,m,r);else this._handlerFb(this._ident,"PUT",(0,i.utf32ToString)(_,m,r))}unhook(_,m=!0){if(this._active.length){let r=!1,f=this._active.length-1,p=!1;if(this._stack.paused&&(f=this._stack.loopPosition-1,r=m,p=this._stack.fallThrough,this._stack.paused=!1),!p&&r===!1){for(;f>=0&&(r=this._active[f].unhook(_),r!==!0);f--)if(r instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=f,this._stack.fallThrough=!1,r;f--}for(;f>=0;f--)if(r=this._active[f].unhook(!1),r instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=f,this._stack.fallThrough=!0,r}else this._handlerFb(this._ident,"UNHOOK",_);this._active=u,this._ident=0}};const g=new h.Params;g.addParam(0),t.DcsHandler=class{constructor(_){this._handler=_,this._data="",this._params=g,this._hitLimit=!1}hook(_){this._params=_.length>1||_.params[0]?_.clone():g,this._data="",this._hitLimit=!1}put(_,m,r){this._hitLimit||(this._data+=(0,i.utf32ToString)(_,m,r),this._data.length>o.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(_){let m=!1;if(this._hitLimit)m=!1;else if(_&&(m=this._handler(this._data,this._params),m instanceof Promise))return m.then(r=>(this._params=g,this._data="",this._hitLimit=!1,r));return this._params=g,this._data="",this._hitLimit=!1,m}}},2015:(l,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EscapeSequenceParser=t.VT500_TRANSITION_TABLE=t.TransitionTable=void 0;const i=n(844),h=n(8742),o=n(6242),u=n(6351);class g{constructor(f){this.table=new Uint8Array(f)}setDefault(f,p){this.table.fill(f<<4|p)}add(f,p,v,d){this.table[p<<8|f]=v<<4|d}addMany(f,p,v,d){for(let C=0;C<f.length;C++)this.table[p<<8|f[C]]=v<<4|d}}t.TransitionTable=g;const _=160;t.VT500_TRANSITION_TABLE=function(){const r=new g(4095),f=Array.apply(null,Array(256)).map((A,E)=>E),p=(A,E)=>f.slice(A,E),v=p(32,127),d=p(0,24);d.push(25),d.push.apply(d,p(28,32));const C=p(0,14);let w;for(w in r.setDefault(1,0),r.addMany(v,0,2,0),C)r.addMany([24,26,153,154],w,3,0),r.addMany(p(128,144),w,3,0),r.addMany(p(144,152),w,3,0),r.add(156,w,0,0),r.add(27,w,11,1),r.add(157,w,4,8),r.addMany([152,158,159],w,0,7),r.add(155,w,11,3),r.add(144,w,11,9);return r.addMany(d,0,3,0),r.addMany(d,1,3,1),r.add(127,1,0,1),r.addMany(d,8,0,8),r.addMany(d,3,3,3),r.add(127,3,0,3),r.addMany(d,4,3,4),r.add(127,4,0,4),r.addMany(d,6,3,6),r.addMany(d,5,3,5),r.add(127,5,0,5),r.addMany(d,2,3,2),r.add(127,2,0,2),r.add(93,1,4,8),r.addMany(v,8,5,8),r.add(127,8,5,8),r.addMany([156,27,24,26,7],8,6,0),r.addMany(p(28,32),8,0,8),r.addMany([88,94,95],1,0,7),r.addMany(v,7,0,7),r.addMany(d,7,0,7),r.add(156,7,0,0),r.add(127,7,0,7),r.add(91,1,11,3),r.addMany(p(64,127),3,7,0),r.addMany(p(48,60),3,8,4),r.addMany([60,61,62,63],3,9,4),r.addMany(p(48,60),4,8,4),r.addMany(p(64,127),4,7,0),r.addMany([60,61,62,63],4,0,6),r.addMany(p(32,64),6,0,6),r.add(127,6,0,6),r.addMany(p(64,127),6,0,0),r.addMany(p(32,48),3,9,5),r.addMany(p(32,48),5,9,5),r.addMany(p(48,64),5,0,6),r.addMany(p(64,127),5,7,0),r.addMany(p(32,48),4,9,5),r.addMany(p(32,48),1,9,2),r.addMany(p(32,48),2,9,2),r.addMany(p(48,127),2,10,0),r.addMany(p(48,80),1,10,0),r.addMany(p(81,88),1,10,0),r.addMany([89,90,92],1,10,0),r.addMany(p(96,127),1,10,0),r.add(80,1,11,9),r.addMany(d,9,0,9),r.add(127,9,0,9),r.addMany(p(28,32),9,0,9),r.addMany(p(32,48),9,9,12),r.addMany(p(48,60),9,8,10),r.addMany([60,61,62,63],9,9,10),r.addMany(d,11,0,11),r.addMany(p(32,128),11,0,11),r.addMany(p(28,32),11,0,11),r.addMany(d,10,0,10),r.add(127,10,0,10),r.addMany(p(28,32),10,0,10),r.addMany(p(48,60),10,8,10),r.addMany([60,61,62,63],10,0,11),r.addMany(p(32,48),10,9,12),r.addMany(d,12,0,12),r.add(127,12,0,12),r.addMany(p(28,32),12,0,12),r.addMany(p(32,48),12,9,12),r.addMany(p(48,64),12,0,11),r.addMany(p(64,127),12,12,13),r.addMany(p(64,127),10,12,13),r.addMany(p(64,127),9,12,13),r.addMany(d,13,13,13),r.addMany(v,13,13,13),r.add(127,13,0,13),r.addMany([27,156,24,26],13,14,0),r.add(_,0,2,0),r.add(_,8,5,8),r.add(_,6,0,6),r.add(_,11,0,11),r.add(_,13,13,13),r}();class m extends i.Disposable{constructor(f=t.VT500_TRANSITION_TABLE){super(),this._transitions=f,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new h.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(p,v,d)=>{},this._executeHandlerFb=p=>{},this._csiHandlerFb=(p,v)=>{},this._escHandlerFb=p=>{},this._errorHandlerFb=p=>p,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,i.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new o.OscParser),this._dcsParser=this.register(new u.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(f,p=[64,126]){let v=0;if(f.prefix){if(f.prefix.length>1)throw new Error("only one byte as prefix supported");if(v=f.prefix.charCodeAt(0),v&&60>v||v>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(f.intermediates){if(f.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let C=0;C<f.intermediates.length;++C){const w=f.intermediates.charCodeAt(C);if(32>w||w>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");v<<=8,v|=w}}if(f.final.length!==1)throw new Error("final must be a single byte");const d=f.final.charCodeAt(0);if(p[0]>d||d>p[1])throw new Error(`final must be in range ${p[0]} .. ${p[1]}`);return v<<=8,v|=d,v}identToString(f){const p=[];for(;f;)p.push(String.fromCharCode(255&f)),f>>=8;return p.reverse().join("")}setPrintHandler(f){this._printHandler=f}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(f,p){const v=this._identifier(f,[48,126]);this._escHandlers[v]===void 0&&(this._escHandlers[v]=[]);const d=this._escHandlers[v];return d.push(p),{dispose:()=>{const C=d.indexOf(p);C!==-1&&d.splice(C,1)}}}clearEscHandler(f){this._escHandlers[this._identifier(f,[48,126])]&&delete this._escHandlers[this._identifier(f,[48,126])]}setEscHandlerFallback(f){this._escHandlerFb=f}setExecuteHandler(f,p){this._executeHandlers[f.charCodeAt(0)]=p}clearExecuteHandler(f){this._executeHandlers[f.charCodeAt(0)]&&delete this._executeHandlers[f.charCodeAt(0)]}setExecuteHandlerFallback(f){this._executeHandlerFb=f}registerCsiHandler(f,p){const v=this._identifier(f);this._csiHandlers[v]===void 0&&(this._csiHandlers[v]=[]);const d=this._csiHandlers[v];return d.push(p),{dispose:()=>{const C=d.indexOf(p);C!==-1&&d.splice(C,1)}}}clearCsiHandler(f){this._csiHandlers[this._identifier(f)]&&delete this._csiHandlers[this._identifier(f)]}setCsiHandlerFallback(f){this._csiHandlerFb=f}registerDcsHandler(f,p){return this._dcsParser.registerHandler(this._identifier(f),p)}clearDcsHandler(f){this._dcsParser.clearHandler(this._identifier(f))}setDcsHandlerFallback(f){this._dcsParser.setHandlerFallback(f)}registerOscHandler(f,p){return this._oscParser.registerHandler(f,p)}clearOscHandler(f){this._oscParser.clearHandler(f)}setOscHandlerFallback(f){this._oscParser.setHandlerFallback(f)}setErrorHandler(f){this._errorHandler=f}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(f,p,v,d,C){this._parseStack.state=f,this._parseStack.handlers=p,this._parseStack.handlerPos=v,this._parseStack.transition=d,this._parseStack.chunkPos=C}parse(f,p,v){let d,C=0,w=0,A=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,A=this._parseStack.chunkPos+1;else{if(v===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const E=this._parseStack.handlers;let L=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(v===!1&&L>-1){for(;L>=0&&(d=E[L](this._params),d!==!0);L--)if(d instanceof Promise)return this._parseStack.handlerPos=L,d}this._parseStack.handlers=[];break;case 4:if(v===!1&&L>-1){for(;L>=0&&(d=E[L](),d!==!0);L--)if(d instanceof Promise)return this._parseStack.handlerPos=L,d}this._parseStack.handlers=[];break;case 6:if(C=f[this._parseStack.chunkPos],d=this._dcsParser.unhook(C!==24&&C!==26,v),d)return d;C===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(C=f[this._parseStack.chunkPos],d=this._oscParser.end(C!==24&&C!==26,v),d)return d;C===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,A=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let E=A;E<p;++E){switch(C=f[E],w=this._transitions.table[this.currentState<<8|(C<160?C:_)],w>>4){case 2:for(let P=E+1;;++P){if(P>=p||(C=f[P])<32||C>126&&C<_){this._printHandler(f,E,P),E=P-1;break}if(++P>=p||(C=f[P])<32||C>126&&C<_){this._printHandler(f,E,P),E=P-1;break}if(++P>=p||(C=f[P])<32||C>126&&C<_){this._printHandler(f,E,P),E=P-1;break}if(++P>=p||(C=f[P])<32||C>126&&C<_){this._printHandler(f,E,P),E=P-1;break}}break;case 3:this._executeHandlers[C]?this._executeHandlers[C]():this._executeHandlerFb(C),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:E,code:C,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const L=this._csiHandlers[this._collect<<8|C];let D=L?L.length-1:-1;for(;D>=0&&(d=L[D](this._params),d!==!0);D--)if(d instanceof Promise)return this._preserveStack(3,L,D,w,E),d;D<0&&this._csiHandlerFb(this._collect<<8|C,this._params),this.precedingCodepoint=0;break;case 8:do switch(C){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(C-48)}while(++E<p&&(C=f[E])>47&&C<60);E--;break;case 9:this._collect<<=8,this._collect|=C;break;case 10:const R=this._escHandlers[this._collect<<8|C];let I=R?R.length-1:-1;for(;I>=0&&(d=R[I](),d!==!0);I--)if(d instanceof Promise)return this._preserveStack(4,R,I,w,E),d;I<0&&this._escHandlerFb(this._collect<<8|C),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|C,this._params);break;case 13:for(let P=E+1;;++P)if(P>=p||(C=f[P])===24||C===26||C===27||C>127&&C<_){this._dcsParser.put(f,E,P),E=P-1;break}break;case 14:if(d=this._dcsParser.unhook(C!==24&&C!==26),d)return this._preserveStack(6,[],0,w,E),d;C===27&&(w|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let P=E+1;;P++)if(P>=p||(C=f[P])<32||C>127&&C<_){this._oscParser.put(f,E,P),E=P-1;break}break;case 6:if(d=this._oscParser.end(C!==24&&C!==26),d)return this._preserveStack(5,[],0,w,E),d;C===27&&(w|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&w}}}t.EscapeSequenceParser=m},6242:(l,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OscHandler=t.OscParser=void 0;const i=n(5770),h=n(482),o=[];t.OscParser=class{constructor(){this._state=0,this._active=o,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(u,g){this._handlers[u]===void 0&&(this._handlers[u]=[]);const _=this._handlers[u];return _.push(g),{dispose:()=>{const m=_.indexOf(g);m!==-1&&_.splice(m,1)}}}clearHandler(u){this._handlers[u]&&delete this._handlers[u]}setHandlerFallback(u){this._handlerFb=u}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=o}reset(){if(this._state===2)for(let u=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;u>=0;--u)this._active[u].end(!1);this._stack.paused=!1,this._active=o,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||o,this._active.length)for(let u=this._active.length-1;u>=0;u--)this._active[u].start();else this._handlerFb(this._id,"START")}_put(u,g,_){if(this._active.length)for(let m=this._active.length-1;m>=0;m--)this._active[m].put(u,g,_);else this._handlerFb(this._id,"PUT",(0,h.utf32ToString)(u,g,_))}start(){this.reset(),this._state=1}put(u,g,_){if(this._state!==3){if(this._state===1)for(;g<_;){const m=u[g++];if(m===59){this._state=2,this._start();break}if(m<48||57<m)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+m-48}this._state===2&&_-g>0&&this._put(u,g,_)}}end(u,g=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let _=!1,m=this._active.length-1,r=!1;if(this._stack.paused&&(m=this._stack.loopPosition-1,_=g,r=this._stack.fallThrough,this._stack.paused=!1),!r&&_===!1){for(;m>=0&&(_=this._active[m].end(u),_!==!0);m--)if(_ instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=m,this._stack.fallThrough=!1,_;m--}for(;m>=0;m--)if(_=this._active[m].end(!1),_ instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=m,this._stack.fallThrough=!0,_}else this._handlerFb(this._id,"END",u);this._active=o,this._id=-1,this._state=0}}},t.OscHandler=class{constructor(u){this._handler=u,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(u,g,_){this._hitLimit||(this._data+=(0,h.utf32ToString)(u,g,_),this._data.length>i.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(u){let g=!1;if(this._hitLimit)g=!1;else if(u&&(g=this._handler(this._data),g instanceof Promise))return g.then(_=>(this._data="",this._hitLimit=!1,_));return this._data="",this._hitLimit=!1,g}}},8742:(l,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Params=void 0;const n=2147483647;class i{static fromArray(o){const u=new i;if(!o.length)return u;for(let g=Array.isArray(o[0])?1:0;g<o.length;++g){const _=o[g];if(Array.isArray(_))for(let m=0;m<_.length;++m)u.addSubParam(_[m]);else u.addParam(_)}return u}constructor(o=32,u=32){if(this.maxLength=o,this.maxSubParamsLength=u,u>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(o),this.length=0,this._subParams=new Int32Array(u),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(o),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const o=new i(this.maxLength,this.maxSubParamsLength);return o.params.set(this.params),o.length=this.length,o._subParams.set(this._subParams),o._subParamsLength=this._subParamsLength,o._subParamsIdx.set(this._subParamsIdx),o._rejectDigits=this._rejectDigits,o._rejectSubDigits=this._rejectSubDigits,o._digitIsSub=this._digitIsSub,o}toArray(){const o=[];for(let u=0;u<this.length;++u){o.push(this.params[u]);const g=this._subParamsIdx[u]>>8,_=255&this._subParamsIdx[u];_-g>0&&o.push(Array.prototype.slice.call(this._subParams,g,_))}return o}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(o){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(o<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=o>n?n:o}}addSubParam(o){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(o<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=o>n?n:o,this._subParamsIdx[this.length-1]++}}hasSubParams(o){return(255&this._subParamsIdx[o])-(this._subParamsIdx[o]>>8)>0}getSubParams(o){const u=this._subParamsIdx[o]>>8,g=255&this._subParamsIdx[o];return g-u>0?this._subParams.subarray(u,g):null}getSubParamsAll(){const o={};for(let u=0;u<this.length;++u){const g=this._subParamsIdx[u]>>8,_=255&this._subParamsIdx[u];_-g>0&&(o[u]=this._subParams.slice(g,_))}return o}addDigit(o){let u;if(this._rejectDigits||!(u=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const g=this._digitIsSub?this._subParams:this.params,_=g[u-1];g[u-1]=~_?Math.min(10*_+o,n):o}}t.Params=i},5741:(l,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AddonManager=void 0,t.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let n=this._addons.length-1;n>=0;n--)this._addons[n].instance.dispose()}loadAddon(n,i){const h={instance:i,dispose:i.dispose,isDisposed:!1};this._addons.push(h),i.dispose=()=>this._wrappedAddonDispose(h),i.activate(n)}_wrappedAddonDispose(n){if(n.isDisposed)return;let i=-1;for(let h=0;h<this._addons.length;h++)if(this._addons[h]===n){i=h;break}if(i===-1)throw new Error("Could not dispose an addon that has not been loaded");n.isDisposed=!0,n.dispose.apply(n.instance),this._addons.splice(i,1)}}},8771:(l,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferApiView=void 0;const i=n(3785),h=n(511);t.BufferApiView=class{constructor(o,u){this._buffer=o,this.type=u}init(o){return this._buffer=o,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(o){const u=this._buffer.lines.get(o);if(u)return new i.BufferLineApiView(u)}getNullCell(){return new h.CellData}}},3785:(l,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferLineApiView=void 0;const i=n(511);t.BufferLineApiView=class{constructor(h){this._line=h}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(h,o){if(!(h<0||h>=this._line.length))return o?(this._line.loadCell(h,o),o):this._line.loadCell(h,new i.CellData)}translateToString(h,o,u){return this._line.translateToString(h,o,u)}}},8285:(l,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferNamespaceApi=void 0;const i=n(8771),h=n(8460),o=n(844);class u extends o.Disposable{constructor(_){super(),this._core=_,this._onBufferChange=this.register(new h.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new i.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new i.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}t.BufferNamespaceApi=u},7975:(l,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ParserApi=void 0,t.ParserApi=class{constructor(n){this._core=n}registerCsiHandler(n,i){return this._core.registerCsiHandler(n,h=>i(h.toArray()))}addCsiHandler(n,i){return this.registerCsiHandler(n,i)}registerDcsHandler(n,i){return this._core.registerDcsHandler(n,(h,o)=>i(h,o.toArray()))}addDcsHandler(n,i){return this.registerDcsHandler(n,i)}registerEscHandler(n,i){return this._core.registerEscHandler(n,i)}addEscHandler(n,i){return this.registerEscHandler(n,i)}registerOscHandler(n,i){return this._core.registerOscHandler(n,i)}addOscHandler(n,i){return this.registerOscHandler(n,i)}}},7090:(l,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnicodeApi=void 0,t.UnicodeApi=class{constructor(n){this._core=n}register(n){this._core.unicodeService.register(n)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(n){this._core.unicodeService.activeVersion=n}}},744:function(l,t,n){var i=this&&this.__decorate||function(r,f,p,v){var d,C=arguments.length,w=C<3?f:v===null?v=Object.getOwnPropertyDescriptor(f,p):v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(r,f,p,v);else for(var A=r.length-1;A>=0;A--)(d=r[A])&&(w=(C<3?d(w):C>3?d(f,p,w):d(f,p))||w);return C>3&&w&&Object.defineProperty(f,p,w),w},h=this&&this.__param||function(r,f){return function(p,v){f(p,v,r)}};Object.defineProperty(t,"__esModule",{value:!0}),t.BufferService=t.MINIMUM_ROWS=t.MINIMUM_COLS=void 0;const o=n(8460),u=n(844),g=n(5295),_=n(2585);t.MINIMUM_COLS=2,t.MINIMUM_ROWS=1;let m=t.BufferService=class extends u.Disposable{get buffer(){return this.buffers.active}constructor(r){super(),this.isUserScrolling=!1,this._onResize=this.register(new o.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new o.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(r.rawOptions.cols||0,t.MINIMUM_COLS),this.rows=Math.max(r.rawOptions.rows||0,t.MINIMUM_ROWS),this.buffers=this.register(new g.BufferSet(r,this))}resize(r,f){this.cols=r,this.rows=f,this.buffers.resize(r,f),this._onResize.fire({cols:r,rows:f})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(r,f=!1){const p=this.buffer;let v;v=this._cachedBlankLine,v&&v.length===this.cols&&v.getFg(0)===r.fg&&v.getBg(0)===r.bg||(v=p.getBlankLine(r,f),this._cachedBlankLine=v),v.isWrapped=f;const d=p.ybase+p.scrollTop,C=p.ybase+p.scrollBottom;if(p.scrollTop===0){const w=p.lines.isFull;C===p.lines.length-1?w?p.lines.recycle().copyFrom(v):p.lines.push(v.clone()):p.lines.splice(C+1,0,v.clone()),w?this.isUserScrolling&&(p.ydisp=Math.max(p.ydisp-1,0)):(p.ybase++,this.isUserScrolling||p.ydisp++)}else{const w=C-d+1;p.lines.shiftElements(d+1,w-1,-1),p.lines.set(C,v.clone())}this.isUserScrolling||(p.ydisp=p.ybase),this._onScroll.fire(p.ydisp)}scrollLines(r,f,p){const v=this.buffer;if(r<0){if(v.ydisp===0)return;this.isUserScrolling=!0}else r+v.ydisp>=v.ybase&&(this.isUserScrolling=!1);const d=v.ydisp;v.ydisp=Math.max(Math.min(v.ydisp+r,v.ybase),0),d!==v.ydisp&&(f||this._onScroll.fire(v.ydisp))}};t.BufferService=m=i([h(0,_.IOptionsService)],m)},7994:(l,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CharsetService=void 0,t.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(n){this.glevel=n,this.charset=this._charsets[n]}setgCharset(n,i){this._charsets[n]=i,this.glevel===n&&(this.charset=i)}}},1753:function(l,t,n){var i=this&&this.__decorate||function(v,d,C,w){var A,E=arguments.length,L=E<3?d:w===null?w=Object.getOwnPropertyDescriptor(d,C):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(v,d,C,w);else for(var D=v.length-1;D>=0;D--)(A=v[D])&&(L=(E<3?A(L):E>3?A(d,C,L):A(d,C))||L);return E>3&&L&&Object.defineProperty(d,C,L),L},h=this&&this.__param||function(v,d){return function(C,w){d(C,w,v)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CoreMouseService=void 0;const o=n(2585),u=n(8460),g=n(844),_={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:v=>v.button!==4&&v.action===1&&(v.ctrl=!1,v.alt=!1,v.shift=!1,!0)},VT200:{events:19,restrict:v=>v.action!==32},DRAG:{events:23,restrict:v=>v.action!==32||v.button!==3},ANY:{events:31,restrict:v=>!0}};function m(v,d){let C=(v.ctrl?16:0)|(v.shift?4:0)|(v.alt?8:0);return v.button===4?(C|=64,C|=v.action):(C|=3&v.button,4&v.button&&(C|=64),8&v.button&&(C|=128),v.action===32?C|=32:v.action!==0||d||(C|=3)),C}const r=String.fromCharCode,f={DEFAULT:v=>{const d=[m(v,!1)+32,v.col+32,v.row+32];return d[0]>255||d[1]>255||d[2]>255?"":`\x1B[M${r(d[0])}${r(d[1])}${r(d[2])}`},SGR:v=>{const d=v.action===0&&v.button!==4?"m":"M";return`\x1B[<${m(v,!0)};${v.col};${v.row}${d}`},SGR_PIXELS:v=>{const d=v.action===0&&v.button!==4?"m":"M";return`\x1B[<${m(v,!0)};${v.x};${v.y}${d}`}};let p=t.CoreMouseService=class extends g.Disposable{constructor(v,d){super(),this._bufferService=v,this._coreService=d,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new u.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const C of Object.keys(_))this.addProtocol(C,_[C]);for(const C of Object.keys(f))this.addEncoding(C,f[C]);this.reset()}addProtocol(v,d){this._protocols[v]=d}addEncoding(v,d){this._encodings[v]=d}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(v){if(!this._protocols[v])throw new Error(`unknown protocol "${v}"`);this._activeProtocol=v,this._onProtocolChange.fire(this._protocols[v].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(v){if(!this._encodings[v])throw new Error(`unknown encoding "${v}"`);this._activeEncoding=v}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(v){if(v.col<0||v.col>=this._bufferService.cols||v.row<0||v.row>=this._bufferService.rows||v.button===4&&v.action===32||v.button===3&&v.action!==32||v.button!==4&&(v.action===2||v.action===3)||(v.col++,v.row++,v.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,v,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(v))return!1;const d=this._encodings[this._activeEncoding](v);return d&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(d):this._coreService.triggerDataEvent(d,!0)),this._lastEvent=v,!0}explainEvents(v){return{down:!!(1&v),up:!!(2&v),drag:!!(4&v),move:!!(8&v),wheel:!!(16&v)}}_equalEvents(v,d,C){if(C){if(v.x!==d.x||v.y!==d.y)return!1}else if(v.col!==d.col||v.row!==d.row)return!1;return v.button===d.button&&v.action===d.action&&v.ctrl===d.ctrl&&v.alt===d.alt&&v.shift===d.shift}};t.CoreMouseService=p=i([h(0,o.IBufferService),h(1,o.ICoreService)],p)},6975:function(l,t,n){var i=this&&this.__decorate||function(p,v,d,C){var w,A=arguments.length,E=A<3?v:C===null?C=Object.getOwnPropertyDescriptor(v,d):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(p,v,d,C);else for(var L=p.length-1;L>=0;L--)(w=p[L])&&(E=(A<3?w(E):A>3?w(v,d,E):w(v,d))||E);return A>3&&E&&Object.defineProperty(v,d,E),E},h=this&&this.__param||function(p,v){return function(d,C){v(d,C,p)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CoreService=void 0;const o=n(1439),u=n(8460),g=n(844),_=n(2585),m=Object.freeze({insertMode:!1}),r=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let f=t.CoreService=class extends g.Disposable{constructor(p,v,d){super(),this._bufferService=p,this._logService=v,this._optionsService=d,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new u.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new u.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new u.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new u.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,o.clone)(m),this.decPrivateModes=(0,o.clone)(r)}reset(){this.modes=(0,o.clone)(m),this.decPrivateModes=(0,o.clone)(r)}triggerDataEvent(p,v=!1){if(this._optionsService.rawOptions.disableStdin)return;const d=this._bufferService.buffer;v&&this._optionsService.rawOptions.scrollOnUserInput&&d.ybase!==d.ydisp&&this._onRequestScrollToBottom.fire(),v&&this._onUserInput.fire(),this._logService.debug(`sending data "${p}"`,()=>p.split("").map(C=>C.charCodeAt(0))),this._onData.fire(p)}triggerBinaryEvent(p){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${p}"`,()=>p.split("").map(v=>v.charCodeAt(0))),this._onBinary.fire(p))}};t.CoreService=f=i([h(0,_.IBufferService),h(1,_.ILogService),h(2,_.IOptionsService)],f)},9074:(l,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DecorationService=void 0;const i=n(8055),h=n(8460),o=n(844),u=n(6106);let g=0,_=0;class m extends o.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new u.SortedList(p=>p==null?void 0:p.marker.line),this._onDecorationRegistered=this.register(new h.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new h.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,o.toDisposable)(()=>this.reset()))}registerDecoration(p){if(p.marker.isDisposed)return;const v=new r(p);if(v){const d=v.marker.onDispose(()=>v.dispose());v.onDispose(()=>{v&&(this._decorations.delete(v)&&this._onDecorationRemoved.fire(v),d.dispose())}),this._decorations.insert(v),this._onDecorationRegistered.fire(v)}return v}reset(){for(const p of this._decorations.values())p.dispose();this._decorations.clear()}*getDecorationsAtCell(p,v,d){var C,w,A;let E=0,L=0;for(const D of this._decorations.getKeyIterator(v))E=(C=D.options.x)!==null&&C!==void 0?C:0,L=E+((w=D.options.width)!==null&&w!==void 0?w:1),p>=E&&p<L&&(!d||((A=D.options.layer)!==null&&A!==void 0?A:"bottom")===d)&&(yield D)}forEachDecorationAtCell(p,v,d,C){this._decorations.forEachByKey(v,w=>{var A,E,L;g=(A=w.options.x)!==null&&A!==void 0?A:0,_=g+((E=w.options.width)!==null&&E!==void 0?E:1),p>=g&&p<_&&(!d||((L=w.options.layer)!==null&&L!==void 0?L:"bottom")===d)&&C(w)})}}t.DecorationService=m;class r extends o.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=i.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=i.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(p){super(),this.options=p,this.onRenderEmitter=this.register(new h.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new h.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=p.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(l,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InstantiationService=t.ServiceCollection=void 0;const i=n(2585),h=n(8343);class o{constructor(...g){this._entries=new Map;for(const[_,m]of g)this.set(_,m)}set(g,_){const m=this._entries.get(g);return this._entries.set(g,_),m}forEach(g){for(const[_,m]of this._entries.entries())g(_,m)}has(g){return this._entries.has(g)}get(g){return this._entries.get(g)}}t.ServiceCollection=o,t.InstantiationService=class{constructor(){this._services=new o,this._services.set(i.IInstantiationService,this)}setService(u,g){this._services.set(u,g)}getService(u){return this._services.get(u)}createInstance(u,...g){const _=(0,h.getServiceDependencies)(u).sort((f,p)=>f.index-p.index),m=[];for(const f of _){const p=this._services.get(f.id);if(!p)throw new Error(`[createInstance] ${u.name} depends on UNKNOWN service ${f.id}.`);m.push(p)}const r=_.length>0?_[0].index:g.length;if(g.length!==r)throw new Error(`[createInstance] First service dependency of ${u.name} at position ${r+1} conflicts with ${g.length} static arguments`);return new u(...g,...m)}}},7866:function(l,t,n){var i=this&&this.__decorate||function(r,f,p,v){var d,C=arguments.length,w=C<3?f:v===null?v=Object.getOwnPropertyDescriptor(f,p):v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(r,f,p,v);else for(var A=r.length-1;A>=0;A--)(d=r[A])&&(w=(C<3?d(w):C>3?d(f,p,w):d(f,p))||w);return C>3&&w&&Object.defineProperty(f,p,w),w},h=this&&this.__param||function(r,f){return function(p,v){f(p,v,r)}};Object.defineProperty(t,"__esModule",{value:!0}),t.traceCall=t.setTraceLogger=t.LogService=void 0;const o=n(844),u=n(2585),g={trace:u.LogLevelEnum.TRACE,debug:u.LogLevelEnum.DEBUG,info:u.LogLevelEnum.INFO,warn:u.LogLevelEnum.WARN,error:u.LogLevelEnum.ERROR,off:u.LogLevelEnum.OFF};let _,m=t.LogService=class extends o.Disposable{get logLevel(){return this._logLevel}constructor(r){super(),this._optionsService=r,this._logLevel=u.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),_=this}_updateLogLevel(){this._logLevel=g[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(r){for(let f=0;f<r.length;f++)typeof r[f]=="function"&&(r[f]=r[f]())}_log(r,f,p){this._evalLazyOptionalParams(p),r.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+f,...p)}trace(r,...f){var p,v;this._logLevel<=u.LogLevelEnum.TRACE&&this._log((v=(p=this._optionsService.options.logger)===null||p===void 0?void 0:p.trace.bind(this._optionsService.options.logger))!==null&&v!==void 0?v:console.log,r,f)}debug(r,...f){var p,v;this._logLevel<=u.LogLevelEnum.DEBUG&&this._log((v=(p=this._optionsService.options.logger)===null||p===void 0?void 0:p.debug.bind(this._optionsService.options.logger))!==null&&v!==void 0?v:console.log,r,f)}info(r,...f){var p,v;this._logLevel<=u.LogLevelEnum.INFO&&this._log((v=(p=this._optionsService.options.logger)===null||p===void 0?void 0:p.info.bind(this._optionsService.options.logger))!==null&&v!==void 0?v:console.info,r,f)}warn(r,...f){var p,v;this._logLevel<=u.LogLevelEnum.WARN&&this._log((v=(p=this._optionsService.options.logger)===null||p===void 0?void 0:p.warn.bind(this._optionsService.options.logger))!==null&&v!==void 0?v:console.warn,r,f)}error(r,...f){var p,v;this._logLevel<=u.LogLevelEnum.ERROR&&this._log((v=(p=this._optionsService.options.logger)===null||p===void 0?void 0:p.error.bind(this._optionsService.options.logger))!==null&&v!==void 0?v:console.error,r,f)}};t.LogService=m=i([h(0,u.IOptionsService)],m),t.setTraceLogger=function(r){_=r},t.traceCall=function(r,f,p){if(typeof p.value!="function")throw new Error("not supported");const v=p.value;p.value=function(...d){if(_.logLevel!==u.LogLevelEnum.TRACE)return v.apply(this,d);_.trace(`GlyphRenderer#${v.name}(${d.map(w=>JSON.stringify(w)).join(", ")})`);const C=v.apply(this,d);return _.trace(`GlyphRenderer#${v.name} return`,C),C}}},7302:(l,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OptionsService=t.DEFAULT_OPTIONS=void 0;const i=n(8460),h=n(844),o=n(6114);t.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:o.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const u=["normal","bold","100","200","300","400","500","600","700","800","900"];class g extends h.Disposable{constructor(m){super(),this._onOptionChange=this.register(new i.EventEmitter),this.onOptionChange=this._onOptionChange.event;const r=Object.assign({},t.DEFAULT_OPTIONS);for(const f in m)if(f in r)try{const p=m[f];r[f]=this._sanitizeAndValidateOption(f,p)}catch(p){console.error(p)}this.rawOptions=r,this.options=Object.assign({},r),this._setupOptions()}onSpecificOptionChange(m,r){return this.onOptionChange(f=>{f===m&&r(this.rawOptions[m])})}onMultipleOptionChange(m,r){return this.onOptionChange(f=>{m.indexOf(f)!==-1&&r()})}_setupOptions(){const m=f=>{if(!(f in t.DEFAULT_OPTIONS))throw new Error(`No option with key "${f}"`);return this.rawOptions[f]},r=(f,p)=>{if(!(f in t.DEFAULT_OPTIONS))throw new Error(`No option with key "${f}"`);p=this._sanitizeAndValidateOption(f,p),this.rawOptions[f]!==p&&(this.rawOptions[f]=p,this._onOptionChange.fire(f))};for(const f in this.rawOptions){const p={get:m.bind(this,f),set:r.bind(this,f)};Object.defineProperty(this.options,f,p)}}_sanitizeAndValidateOption(m,r){switch(m){case"cursorStyle":if(r||(r=t.DEFAULT_OPTIONS[m]),!function(f){return f==="block"||f==="underline"||f==="bar"}(r))throw new Error(`"${r}" is not a valid value for ${m}`);break;case"wordSeparator":r||(r=t.DEFAULT_OPTIONS[m]);break;case"fontWeight":case"fontWeightBold":if(typeof r=="number"&&1<=r&&r<=1e3)break;r=u.includes(r)?r:t.DEFAULT_OPTIONS[m];break;case"cursorWidth":r=Math.floor(r);case"lineHeight":case"tabStopWidth":if(r<1)throw new Error(`${m} cannot be less than 1, value: ${r}`);break;case"minimumContrastRatio":r=Math.max(1,Math.min(21,Math.round(10*r)/10));break;case"scrollback":if((r=Math.min(r,4294967295))<0)throw new Error(`${m} cannot be less than 0, value: ${r}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(r<=0)throw new Error(`${m} cannot be less than or equal to 0, value: ${r}`);break;case"rows":case"cols":if(!r&&r!==0)throw new Error(`${m} must be numeric, value: ${r}`);break;case"windowsPty":r=r??{}}return r}}t.OptionsService=g},2660:function(l,t,n){var i=this&&this.__decorate||function(g,_,m,r){var f,p=arguments.length,v=p<3?_:r===null?r=Object.getOwnPropertyDescriptor(_,m):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(g,_,m,r);else for(var d=g.length-1;d>=0;d--)(f=g[d])&&(v=(p<3?f(v):p>3?f(_,m,v):f(_,m))||v);return p>3&&v&&Object.defineProperty(_,m,v),v},h=this&&this.__param||function(g,_){return function(m,r){_(m,r,g)}};Object.defineProperty(t,"__esModule",{value:!0}),t.OscLinkService=void 0;const o=n(2585);let u=t.OscLinkService=class{constructor(g){this._bufferService=g,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(g){const _=this._bufferService.buffer;if(g.id===void 0){const d=_.addMarker(_.ybase+_.y),C={data:g,id:this._nextId++,lines:[d]};return d.onDispose(()=>this._removeMarkerFromLink(C,d)),this._dataByLinkId.set(C.id,C),C.id}const m=g,r=this._getEntryIdKey(m),f=this._entriesWithId.get(r);if(f)return this.addLineToLink(f.id,_.ybase+_.y),f.id;const p=_.addMarker(_.ybase+_.y),v={id:this._nextId++,key:this._getEntryIdKey(m),data:m,lines:[p]};return p.onDispose(()=>this._removeMarkerFromLink(v,p)),this._entriesWithId.set(v.key,v),this._dataByLinkId.set(v.id,v),v.id}addLineToLink(g,_){const m=this._dataByLinkId.get(g);if(m&&m.lines.every(r=>r.line!==_)){const r=this._bufferService.buffer.addMarker(_);m.lines.push(r),r.onDispose(()=>this._removeMarkerFromLink(m,r))}}getLinkData(g){var _;return(_=this._dataByLinkId.get(g))===null||_===void 0?void 0:_.data}_getEntryIdKey(g){return`${g.id};;${g.uri}`}_removeMarkerFromLink(g,_){const m=g.lines.indexOf(_);m!==-1&&(g.lines.splice(m,1),g.lines.length===0&&(g.data.id!==void 0&&this._entriesWithId.delete(g.key),this._dataByLinkId.delete(g.id)))}};t.OscLinkService=u=i([h(0,o.IBufferService)],u)},8343:(l,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createDecorator=t.getServiceDependencies=t.serviceRegistry=void 0;const n="di$target",i="di$dependencies";t.serviceRegistry=new Map,t.getServiceDependencies=function(h){return h[i]||[]},t.createDecorator=function(h){if(t.serviceRegistry.has(h))return t.serviceRegistry.get(h);const o=function(u,g,_){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(m,r,f){r[n]===r?r[i].push({id:m,index:f}):(r[i]=[{id:m,index:f}],r[n]=r)})(o,u,_)};return o.toString=()=>h,t.serviceRegistry.set(h,o),o}},2585:(l,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IDecorationService=t.IUnicodeService=t.IOscLinkService=t.IOptionsService=t.ILogService=t.LogLevelEnum=t.IInstantiationService=t.ICharsetService=t.ICoreService=t.ICoreMouseService=t.IBufferService=void 0;const i=n(8343);var h;t.IBufferService=(0,i.createDecorator)("BufferService"),t.ICoreMouseService=(0,i.createDecorator)("CoreMouseService"),t.ICoreService=(0,i.createDecorator)("CoreService"),t.ICharsetService=(0,i.createDecorator)("CharsetService"),t.IInstantiationService=(0,i.createDecorator)("InstantiationService"),function(o){o[o.TRACE=0]="TRACE",o[o.DEBUG=1]="DEBUG",o[o.INFO=2]="INFO",o[o.WARN=3]="WARN",o[o.ERROR=4]="ERROR",o[o.OFF=5]="OFF"}(h||(t.LogLevelEnum=h={})),t.ILogService=(0,i.createDecorator)("LogService"),t.IOptionsService=(0,i.createDecorator)("OptionsService"),t.IOscLinkService=(0,i.createDecorator)("OscLinkService"),t.IUnicodeService=(0,i.createDecorator)("UnicodeService"),t.IDecorationService=(0,i.createDecorator)("DecorationService")},1480:(l,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnicodeService=void 0;const i=n(8460),h=n(225);t.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new i.EventEmitter,this.onChange=this._onChange.event;const o=new h.UnicodeV6;this.register(o),this._active=o.version,this._activeProvider=o}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(o){if(!this._providers[o])throw new Error(`unknown Unicode version "${o}"`);this._active=o,this._activeProvider=this._providers[o],this._onChange.fire(o)}register(o){this._providers[o.version]=o}wcwidth(o){return this._activeProvider.wcwidth(o)}getStringCellWidth(o){let u=0;const g=o.length;for(let _=0;_<g;++_){let m=o.charCodeAt(_);if(55296<=m&&m<=56319){if(++_>=g)return u+this.wcwidth(m);const r=o.charCodeAt(_);56320<=r&&r<=57343?m=1024*(m-55296)+r-56320+65536:u+=this.wcwidth(r)}u+=this.wcwidth(m)}return u}}}},b={};function S(l){var t=b[l];if(t!==void 0)return t.exports;var n=b[l]={exports:{}};return c[l].call(n.exports,n,n.exports,S),n.exports}var x={};return(()=>{var l=x;Object.defineProperty(l,"__esModule",{value:!0}),l.Terminal=void 0;const t=S(9042),n=S(3236),i=S(844),h=S(5741),o=S(8285),u=S(7975),g=S(7090),_=["cols","rows"];class m extends i.Disposable{constructor(f){super(),this._core=this.register(new n.Terminal(f)),this._addonManager=this.register(new h.AddonManager),this._publicOptions=Object.assign({},this._core.options);const p=d=>this._core.options[d],v=(d,C)=>{this._checkReadonlyOptions(d),this._core.options[d]=C};for(const d in this._core.options){const C={get:p.bind(this,d),set:v.bind(this,d)};Object.defineProperty(this._publicOptions,d,C)}}_checkReadonlyOptions(f){if(_.includes(f))throw new Error(`Option "${f}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new u.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new g.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new o.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const f=this._core.coreService.decPrivateModes;let p="none";switch(this._core.coreMouseService.activeProtocol){case"X10":p="x10";break;case"VT200":p="vt200";break;case"DRAG":p="drag";break;case"ANY":p="any"}return{applicationCursorKeysMode:f.applicationCursorKeys,applicationKeypadMode:f.applicationKeypad,bracketedPasteMode:f.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:p,originMode:f.origin,reverseWraparoundMode:f.reverseWraparound,sendFocusMode:f.sendFocus,wraparoundMode:f.wraparound}}get options(){return this._publicOptions}set options(f){for(const p in f)this._publicOptions[p]=f[p]}blur(){this._core.blur()}focus(){this._core.focus()}resize(f,p){this._verifyIntegers(f,p),this._core.resize(f,p)}open(f){this._core.open(f)}attachCustomKeyEventHandler(f){this._core.attachCustomKeyEventHandler(f)}registerLinkProvider(f){return this._core.registerLinkProvider(f)}registerCharacterJoiner(f){return this._checkProposedApi(),this._core.registerCharacterJoiner(f)}deregisterCharacterJoiner(f){this._checkProposedApi(),this._core.deregisterCharacterJoiner(f)}registerMarker(f=0){return this._verifyIntegers(f),this._core.registerMarker(f)}registerDecoration(f){var p,v,d;return this._checkProposedApi(),this._verifyPositiveIntegers((p=f.x)!==null&&p!==void 0?p:0,(v=f.width)!==null&&v!==void 0?v:0,(d=f.height)!==null&&d!==void 0?d:0),this._core.registerDecoration(f)}hasSelection(){return this._core.hasSelection()}select(f,p,v){this._verifyIntegers(f,p,v),this._core.select(f,p,v)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(f,p){this._verifyIntegers(f,p),this._core.selectLines(f,p)}dispose(){super.dispose()}scrollLines(f){this._verifyIntegers(f),this._core.scrollLines(f)}scrollPages(f){this._verifyIntegers(f),this._core.scrollPages(f)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(f){this._verifyIntegers(f),this._core.scrollToLine(f)}clear(){this._core.clear()}write(f,p){this._core.write(f,p)}writeln(f,p){this._core.write(f),this._core.write(`\r
`,p)}paste(f){this._core.paste(f)}refresh(f,p){this._verifyIntegers(f,p),this._core.refresh(f,p)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(f){this._addonManager.loadAddon(this,f)}static get strings(){return t}_verifyIntegers(...f){for(const p of f)if(p===1/0||isNaN(p)||p%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...f){for(const p of f)if(p&&(p===1/0||isNaN(p)||p%1!=0||p<0))throw new Error("This API only accepts positive integers")}}l.Terminal=m})(),x})())})(qv);var eg=qv.exports,tg={exports:{}};(function(e,a){(function(c,b){e.exports=b()})(self,()=>(()=>{var c={};return(()=>{var b=c;Object.defineProperty(b,"__esModule",{value:!0}),b.FitAddon=void 0,b.FitAddon=class{activate(S){this._terminal=S}dispose(){}fit(){const S=this.proposeDimensions();if(!S||!this._terminal||isNaN(S.cols)||isNaN(S.rows))return;const x=this._terminal._core;this._terminal.rows===S.rows&&this._terminal.cols===S.cols||(x._renderService.clear(),this._terminal.resize(S.cols,S.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const S=this._terminal._core,x=S._renderService.dimensions;if(x.css.cell.width===0||x.css.cell.height===0)return;const l=this._terminal.options.scrollback===0?0:S.viewport.scrollBarWidth,t=window.getComputedStyle(this._terminal.element.parentElement),n=parseInt(t.getPropertyValue("height")),i=Math.max(0,parseInt(t.getPropertyValue("width"))),h=window.getComputedStyle(this._terminal.element),o=n-(parseInt(h.getPropertyValue("padding-top"))+parseInt(h.getPropertyValue("padding-bottom"))),u=i-(parseInt(h.getPropertyValue("padding-right"))+parseInt(h.getPropertyValue("padding-left")))-l;return{cols:Math.max(2,Math.floor(u/x.css.cell.width)),rows:Math.max(1,Math.floor(o/x.css.cell.height))}}}})(),c})())})(tg);var rg=tg.exports,ng={exports:{}};(function(e,a){(function(c,b){e.exports=b()})(self,()=>(()=>{var c={903:(l,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseRenderLayer=void 0;const i=n(274),h=n(627),o=n(237),u=n(860),g=n(374),_=n(296),m=n(345),r=n(859),f=n(399),p=n(855);class v extends r.Disposable{get canvas(){return this._canvas}get cacheCanvas(){var w;return(w=this._charAtlas)===null||w===void 0?void 0:w.pages[0].canvas}constructor(w,A,E,L,D,R,I,P,$,F){super(),this._terminal=w,this._container=A,this._alpha=D,this._themeService=R,this._bufferService=I,this._optionsService=P,this._decorationService=$,this._coreBrowserService=F,this._deviceCharWidth=0,this._deviceCharHeight=0,this._deviceCellWidth=0,this._deviceCellHeight=0,this._deviceCharLeft=0,this._deviceCharTop=0,this._selectionModel=(0,_.createSelectionRenderModel)(),this._bitmapGenerator=[],this._charAtlasDisposable=this.register(new r.MutableDisposable),this._onAddTextureAtlasCanvas=this.register(new m.EventEmitter),this.onAddTextureAtlasCanvas=this._onAddTextureAtlasCanvas.event,this._cellColorResolver=new i.CellColorResolver(this._terminal,this._selectionModel,this._decorationService,this._coreBrowserService,this._themeService),this._canvas=document.createElement("canvas"),this._canvas.classList.add(`xterm-${E}-layer`),this._canvas.style.zIndex=L.toString(),this._initCanvas(),this._container.appendChild(this._canvas),this._refreshCharAtlas(this._themeService.colors),this.register(this._themeService.onChangeColors(U=>{this._refreshCharAtlas(U),this.reset(),this.handleSelectionChanged(this._selectionModel.selectionStart,this._selectionModel.selectionEnd,this._selectionModel.columnSelectMode)})),this.register((0,r.toDisposable)(()=>{this._canvas.remove()}))}_initCanvas(){this._ctx=(0,g.throwIfFalsy)(this._canvas.getContext("2d",{alpha:this._alpha})),this._alpha||this._clearAll()}handleBlur(){}handleFocus(){}handleCursorMove(){}handleGridChanged(w,A){}handleSelectionChanged(w,A,E=!1){this._selectionModel.update(this._terminal,w,A,E)}_setTransparency(w){if(w===this._alpha)return;const A=this._canvas;this._alpha=w,this._canvas=this._canvas.cloneNode(),this._initCanvas(),this._container.replaceChild(this._canvas,A),this._refreshCharAtlas(this._themeService.colors),this.handleGridChanged(0,this._bufferService.rows-1)}_refreshCharAtlas(w){if(!(this._deviceCharWidth<=0&&this._deviceCharHeight<=0)){this._charAtlas=(0,h.acquireTextureAtlas)(this._terminal,this._optionsService.rawOptions,w,this._deviceCellWidth,this._deviceCellHeight,this._deviceCharWidth,this._deviceCharHeight,this._coreBrowserService.dpr),this._charAtlasDisposable.value=(0,m.forwardEvent)(this._charAtlas.onAddTextureAtlasCanvas,this._onAddTextureAtlasCanvas),this._charAtlas.warmUp();for(let A=0;A<this._charAtlas.pages.length;A++)this._bitmapGenerator[A]=new d(this._charAtlas.pages[A].canvas)}}resize(w){this._deviceCellWidth=w.device.cell.width,this._deviceCellHeight=w.device.cell.height,this._deviceCharWidth=w.device.char.width,this._deviceCharHeight=w.device.char.height,this._deviceCharLeft=w.device.char.left,this._deviceCharTop=w.device.char.top,this._canvas.width=w.device.canvas.width,this._canvas.height=w.device.canvas.height,this._canvas.style.width=`${w.css.canvas.width}px`,this._canvas.style.height=`${w.css.canvas.height}px`,this._alpha||this._clearAll(),this._refreshCharAtlas(this._themeService.colors)}clearTextureAtlas(){var w;(w=this._charAtlas)===null||w===void 0||w.clearTexture()}_fillCells(w,A,E,L){this._ctx.fillRect(w*this._deviceCellWidth,A*this._deviceCellHeight,E*this._deviceCellWidth,L*this._deviceCellHeight)}_fillMiddleLineAtCells(w,A,E=1){const L=Math.ceil(.5*this._deviceCellHeight);this._ctx.fillRect(w*this._deviceCellWidth,(A+1)*this._deviceCellHeight-L-this._coreBrowserService.dpr,E*this._deviceCellWidth,this._coreBrowserService.dpr)}_fillBottomLineAtCells(w,A,E=1,L=0){this._ctx.fillRect(w*this._deviceCellWidth,(A+1)*this._deviceCellHeight+L-this._coreBrowserService.dpr-1,E*this._deviceCellWidth,this._coreBrowserService.dpr)}_curlyUnderlineAtCell(w,A,E=1){this._ctx.save(),this._ctx.beginPath(),this._ctx.strokeStyle=this._ctx.fillStyle;const L=this._coreBrowserService.dpr;this._ctx.lineWidth=L;for(let D=0;D<E;D++){const R=(w+D)*this._deviceCellWidth,I=(w+D+.5)*this._deviceCellWidth,P=(w+D+1)*this._deviceCellWidth,$=(A+1)*this._deviceCellHeight-L-1,F=$-L,U=$+L;this._ctx.moveTo(R,$),this._ctx.bezierCurveTo(R,F,I,F,I,$),this._ctx.bezierCurveTo(I,U,P,U,P,$)}this._ctx.stroke(),this._ctx.restore()}_dottedUnderlineAtCell(w,A,E=1){this._ctx.save(),this._ctx.beginPath(),this._ctx.strokeStyle=this._ctx.fillStyle;const L=this._coreBrowserService.dpr;this._ctx.lineWidth=L,this._ctx.setLineDash([2*L,L]);const D=w*this._deviceCellWidth,R=(A+1)*this._deviceCellHeight-L-1;this._ctx.moveTo(D,R);for(let I=0;I<E;I++){const P=(w+E+I)*this._deviceCellWidth;this._ctx.lineTo(P,R)}this._ctx.stroke(),this._ctx.closePath(),this._ctx.restore()}_dashedUnderlineAtCell(w,A,E=1){this._ctx.save(),this._ctx.beginPath(),this._ctx.strokeStyle=this._ctx.fillStyle;const L=this._coreBrowserService.dpr;this._ctx.lineWidth=L,this._ctx.setLineDash([4*L,3*L]);const D=w*this._deviceCellWidth,R=(w+E)*this._deviceCellWidth,I=(A+1)*this._deviceCellHeight-L-1;this._ctx.moveTo(D,I),this._ctx.lineTo(R,I),this._ctx.stroke(),this._ctx.closePath(),this._ctx.restore()}_fillLeftLineAtCell(w,A,E){this._ctx.fillRect(w*this._deviceCellWidth,A*this._deviceCellHeight,this._coreBrowserService.dpr*E,this._deviceCellHeight)}_strokeRectAtCell(w,A,E,L){const D=this._coreBrowserService.dpr;this._ctx.lineWidth=D,this._ctx.strokeRect(w*this._deviceCellWidth+D/2,A*this._deviceCellHeight+D/2,E*this._deviceCellWidth-D,L*this._deviceCellHeight-D)}_clearAll(){this._alpha?this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height):(this._ctx.fillStyle=this._themeService.colors.background.css,this._ctx.fillRect(0,0,this._canvas.width,this._canvas.height))}_clearCells(w,A,E,L){this._alpha?this._ctx.clearRect(w*this._deviceCellWidth,A*this._deviceCellHeight,E*this._deviceCellWidth,L*this._deviceCellHeight):(this._ctx.fillStyle=this._themeService.colors.background.css,this._ctx.fillRect(w*this._deviceCellWidth,A*this._deviceCellHeight,E*this._deviceCellWidth,L*this._deviceCellHeight))}_fillCharTrueColor(w,A,E){this._ctx.font=this._getFont(!1,!1),this._ctx.textBaseline=o.TEXT_BASELINE,this._clipRow(E);let L=!1;this._optionsService.rawOptions.customGlyphs!==!1&&(L=(0,u.tryDrawCustomChar)(this._ctx,w.getChars(),A*this._deviceCellWidth,E*this._deviceCellHeight,this._deviceCellWidth,this._deviceCellHeight,this._optionsService.rawOptions.fontSize,this._coreBrowserService.dpr)),L||this._ctx.fillText(w.getChars(),A*this._deviceCellWidth+this._deviceCharLeft,E*this._deviceCellHeight+this._deviceCharTop+this._deviceCharHeight)}_drawChars(w,A,E){var L,D,R,I;const P=w.getChars();if(this._cellColorResolver.resolve(w,A,this._bufferService.buffer.ydisp+E),!this._charAtlas)return;let $;$=P&&P.length>1?this._charAtlas.getRasterizedGlyphCombinedChar(P,this._cellColorResolver.result.bg,this._cellColorResolver.result.fg,this._cellColorResolver.result.ext,!0):this._charAtlas.getRasterizedGlyph(w.getCode()||p.WHITESPACE_CELL_CODE,this._cellColorResolver.result.bg,this._cellColorResolver.result.fg,this._cellColorResolver.result.ext,!0),$.size.x&&$.size.y&&(this._ctx.save(),this._clipRow(E),this._bitmapGenerator[$.texturePage]&&this._charAtlas.pages[$.texturePage].canvas!==this._bitmapGenerator[$.texturePage].canvas&&((D=(L=this._bitmapGenerator[$.texturePage])===null||L===void 0?void 0:L.bitmap)===null||D===void 0||D.close(),delete this._bitmapGenerator[$.texturePage]),this._charAtlas.pages[$.texturePage].version!==((R=this._bitmapGenerator[$.texturePage])===null||R===void 0?void 0:R.version)&&(this._bitmapGenerator[$.texturePage]||(this._bitmapGenerator[$.texturePage]=new d(this._charAtlas.pages[$.texturePage].canvas)),this._bitmapGenerator[$.texturePage].refresh(),this._bitmapGenerator[$.texturePage].version=this._charAtlas.pages[$.texturePage].version),this._ctx.drawImage(((I=this._bitmapGenerator[$.texturePage])===null||I===void 0?void 0:I.bitmap)||this._charAtlas.pages[$.texturePage].canvas,$.texturePosition.x,$.texturePosition.y,$.size.x,$.size.y,A*this._deviceCellWidth+this._deviceCharLeft-$.offset.x,E*this._deviceCellHeight+this._deviceCharTop-$.offset.y,$.size.x,$.size.y),this._ctx.restore())}_clipRow(w){this._ctx.beginPath(),this._ctx.rect(0,w*this._deviceCellHeight,this._bufferService.cols*this._deviceCellWidth,this._deviceCellHeight),this._ctx.clip()}_getFont(w,A){return`${A?"italic":""} ${w?this._optionsService.rawOptions.fontWeightBold:this._optionsService.rawOptions.fontWeight} ${this._optionsService.rawOptions.fontSize*this._coreBrowserService.dpr}px ${this._optionsService.rawOptions.fontFamily}`}}t.BaseRenderLayer=v;class d{get bitmap(){return this._bitmap}constructor(w){this.canvas=w,this._state=0,this._commitTimeout=void 0,this._bitmap=void 0,this.version=-1}refresh(){var w;(w=this._bitmap)===null||w===void 0||w.close(),this._bitmap=void 0,f.isSafari||(this._commitTimeout===void 0&&(this._commitTimeout=window.setTimeout(()=>this._generate(),100)),this._state===1&&(this._state=2))}_generate(){var w;this._state===0&&((w=this._bitmap)===null||w===void 0||w.close(),this._bitmap=void 0,this._state=1,window.createImageBitmap(this.canvas).then(A=>{this._state===2?this.refresh():this._bitmap=A,this._state=0}),this._commitTimeout&&(this._commitTimeout=void 0))}}},949:(l,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasRenderer=void 0;const i=n(627),h=n(56),o=n(374),u=n(345),g=n(859),_=n(873),m=n(43),r=n(630),f=n(744);class p extends g.Disposable{constructor(d,C,w,A,E,L,D,R,I,P,$){super(),this._terminal=d,this._screenElement=C,this._bufferService=A,this._charSizeService=E,this._optionsService=L,this._coreBrowserService=I,this._themeService=$,this._onRequestRedraw=this.register(new u.EventEmitter),this.onRequestRedraw=this._onRequestRedraw.event,this._onChangeTextureAtlas=this.register(new u.EventEmitter),this.onChangeTextureAtlas=this._onChangeTextureAtlas.event,this._onAddTextureAtlasCanvas=this.register(new u.EventEmitter),this.onAddTextureAtlasCanvas=this._onAddTextureAtlasCanvas.event;const F=this._optionsService.rawOptions.allowTransparency;this._renderLayers=[new f.TextRenderLayer(this._terminal,this._screenElement,0,F,this._bufferService,this._optionsService,D,P,this._coreBrowserService,$),new r.SelectionRenderLayer(this._terminal,this._screenElement,1,this._bufferService,this._coreBrowserService,P,this._optionsService,$),new m.LinkRenderLayer(this._terminal,this._screenElement,2,w,this._bufferService,this._optionsService,P,this._coreBrowserService,$),new _.CursorRenderLayer(this._terminal,this._screenElement,3,this._onRequestRedraw,this._bufferService,this._optionsService,R,this._coreBrowserService,P,$)];for(const U of this._renderLayers)(0,u.forwardEvent)(U.onAddTextureAtlasCanvas,this._onAddTextureAtlasCanvas);this.dimensions=(0,o.createRenderDimensions)(),this._devicePixelRatio=this._coreBrowserService.dpr,this._updateDimensions(),this.register((0,h.observeDevicePixelDimensions)(this._renderLayers[0].canvas,this._coreBrowserService.window,(U,Y)=>this._setCanvasDevicePixelDimensions(U,Y))),this.register((0,g.toDisposable)(()=>{for(const U of this._renderLayers)U.dispose();(0,i.removeTerminalFromCache)(this._terminal)}))}get textureAtlas(){return this._renderLayers[0].cacheCanvas}handleDevicePixelRatioChange(){this._devicePixelRatio!==this._coreBrowserService.dpr&&(this._devicePixelRatio=this._coreBrowserService.dpr,this.handleResize(this._bufferService.cols,this._bufferService.rows))}handleResize(d,C){this._updateDimensions();for(const w of this._renderLayers)w.resize(this.dimensions);this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}handleCharSizeChanged(){this.handleResize(this._bufferService.cols,this._bufferService.rows)}handleBlur(){this._runOperation(d=>d.handleBlur())}handleFocus(){this._runOperation(d=>d.handleFocus())}handleSelectionChanged(d,C,w=!1){this._runOperation(A=>A.handleSelectionChanged(d,C,w)),this._themeService.colors.selectionForeground&&this._onRequestRedraw.fire({start:0,end:this._bufferService.rows-1})}handleCursorMove(){this._runOperation(d=>d.handleCursorMove())}clear(){this._runOperation(d=>d.reset())}_runOperation(d){for(const C of this._renderLayers)d(C)}renderRows(d,C){for(const w of this._renderLayers)w.handleGridChanged(d,C)}clearTextureAtlas(){for(const d of this._renderLayers)d.clearTextureAtlas()}_updateDimensions(){if(!this._charSizeService.hasValidSize)return;const d=this._coreBrowserService.dpr;this.dimensions.device.char.width=Math.floor(this._charSizeService.width*d),this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*d),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.top=this._optionsService.rawOptions.lineHeight===1?0:Math.round((this.dimensions.device.cell.height-this.dimensions.device.char.height)/2),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.char.left=Math.floor(this._optionsService.rawOptions.letterSpacing/2),this.dimensions.device.canvas.height=this._bufferService.rows*this.dimensions.device.cell.height,this.dimensions.device.canvas.width=this._bufferService.cols*this.dimensions.device.cell.width,this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/d),this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/d),this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows,this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols}_setCanvasDevicePixelDimensions(d,C){this.dimensions.device.canvas.height=C,this.dimensions.device.canvas.width=d;for(const w of this._renderLayers)w.resize(this.dimensions);this._requestRedrawViewport()}_requestRedrawViewport(){this._onRequestRedraw.fire({start:0,end:this._bufferService.rows-1})}}t.CanvasRenderer=p},873:(l,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CursorRenderLayer=void 0;const i=n(457),h=n(859),o=n(399),u=n(782),g=n(903);class _ extends g.BaseRenderLayer{constructor(r,f,p,v,d,C,w,A,E,L){super(r,f,"cursor",p,!0,L,d,C,E,A),this._onRequestRedraw=v,this._coreService=w,this._cursorBlinkStateManager=this.register(new h.MutableDisposable),this._cell=new u.CellData,this._state={x:0,y:0,isFocused:!1,style:"",width:0},this._cursorRenderers={bar:this._renderBarCursor.bind(this),block:this._renderBlockCursor.bind(this),underline:this._renderUnderlineCursor.bind(this),outline:this._renderOutlineCursor.bind(this)},this.register(C.onOptionChange(()=>this._handleOptionsChanged())),this._handleOptionsChanged()}resize(r){super.resize(r),this._state={x:0,y:0,isFocused:!1,style:"",width:0}}reset(){var r;this._clearCursor(),(r=this._cursorBlinkStateManager.value)===null||r===void 0||r.restartBlinkAnimation(),this._handleOptionsChanged()}handleBlur(){var r;(r=this._cursorBlinkStateManager.value)===null||r===void 0||r.pause(),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})}handleFocus(){var r;(r=this._cursorBlinkStateManager.value)===null||r===void 0||r.resume(),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})}_handleOptionsChanged(){this._optionsService.rawOptions.cursorBlink?this._cursorBlinkStateManager.value||(this._cursorBlinkStateManager.value=new i.CursorBlinkStateManager(()=>this._render(!0),this._coreBrowserService)):this._cursorBlinkStateManager.clear(),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})}handleCursorMove(){var r;(r=this._cursorBlinkStateManager.value)===null||r===void 0||r.restartBlinkAnimation()}handleGridChanged(r,f){!this._cursorBlinkStateManager.value||this._cursorBlinkStateManager.value.isPaused?this._render(!1):this._cursorBlinkStateManager.value.restartBlinkAnimation()}_render(r){if(!this._coreService.isCursorInitialized||this._coreService.isCursorHidden)return void this._clearCursor();const f=this._bufferService.buffer.ybase+this._bufferService.buffer.y,p=f-this._bufferService.buffer.ydisp;if(p<0||p>=this._bufferService.rows)return void this._clearCursor();const v=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1);if(this._bufferService.buffer.lines.get(f).loadCell(v,this._cell),this._cell.content!==void 0){if(!this._coreBrowserService.isFocused){this._clearCursor(),this._ctx.save(),this._ctx.fillStyle=this._themeService.colors.cursor.css;const d=this._optionsService.rawOptions.cursorStyle,C=this._optionsService.rawOptions.cursorInactiveStyle;return C&&C!=="none"&&this._cursorRenderers[C](v,p,this._cell),this._ctx.restore(),this._state.x=v,this._state.y=p,this._state.isFocused=!1,this._state.style=d,void(this._state.width=this._cell.getWidth())}if(!this._cursorBlinkStateManager.value||this._cursorBlinkStateManager.value.isCursorVisible){if(this._state){if(this._state.x===v&&this._state.y===p&&this._state.isFocused===this._coreBrowserService.isFocused&&this._state.style===this._optionsService.rawOptions.cursorStyle&&this._state.width===this._cell.getWidth())return;this._clearCursor()}this._ctx.save(),this._cursorRenderers[this._optionsService.rawOptions.cursorStyle||"block"](v,p,this._cell),this._ctx.restore(),this._state.x=v,this._state.y=p,this._state.isFocused=!1,this._state.style=this._optionsService.rawOptions.cursorStyle,this._state.width=this._cell.getWidth()}else this._clearCursor()}}_clearCursor(){this._state&&(o.isFirefox||this._coreBrowserService.dpr<1?this._clearAll():this._clearCells(this._state.x,this._state.y,this._state.width,1),this._state={x:0,y:0,isFocused:!1,style:"",width:0})}_renderBarCursor(r,f,p){this._ctx.save(),this._ctx.fillStyle=this._themeService.colors.cursor.css,this._fillLeftLineAtCell(r,f,this._optionsService.rawOptions.cursorWidth),this._ctx.restore()}_renderBlockCursor(r,f,p){this._ctx.save(),this._ctx.fillStyle=this._themeService.colors.cursor.css,this._fillCells(r,f,p.getWidth(),1),this._ctx.fillStyle=this._themeService.colors.cursorAccent.css,this._fillCharTrueColor(p,r,f),this._ctx.restore()}_renderUnderlineCursor(r,f,p){this._ctx.save(),this._ctx.fillStyle=this._themeService.colors.cursor.css,this._fillBottomLineAtCells(r,f),this._ctx.restore()}_renderOutlineCursor(r,f,p){this._ctx.save(),this._ctx.strokeStyle=this._themeService.colors.cursor.css,this._strokeRectAtCell(r,f,p.getWidth(),1),this._ctx.restore()}}t.CursorRenderLayer=_},574:(l,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GridCache=void 0,t.GridCache=class{constructor(){this.cache=[]}resize(n,i){for(let h=0;h<n;h++){this.cache.length<=h&&this.cache.push([]);for(let o=this.cache[h].length;o<i;o++)this.cache[h].push(void 0);this.cache[h].length=i}this.cache.length=n}clear(){for(let n=0;n<this.cache.length;n++)for(let i=0;i<this.cache[n].length;i++)this.cache[n][i]=void 0}}},43:(l,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LinkRenderLayer=void 0;const i=n(197),h=n(237),o=n(903);class u extends o.BaseRenderLayer{constructor(_,m,r,f,p,v,d,C,w){super(_,m,"link",r,!0,w,p,v,d,C),this.register(f.onShowLinkUnderline(A=>this._handleShowLinkUnderline(A))),this.register(f.onHideLinkUnderline(A=>this._handleHideLinkUnderline(A)))}resize(_){super.resize(_),this._state=void 0}reset(){this._clearCurrentLink()}_clearCurrentLink(){if(this._state){this._clearCells(this._state.x1,this._state.y1,this._state.cols-this._state.x1,1);const _=this._state.y2-this._state.y1-1;_>0&&this._clearCells(0,this._state.y1+1,this._state.cols,_),this._clearCells(0,this._state.y2,this._state.x2,1),this._state=void 0}}_handleShowLinkUnderline(_){if(_.fg===h.INVERTED_DEFAULT_COLOR?this._ctx.fillStyle=this._themeService.colors.background.css:_.fg&&(0,i.is256Color)(_.fg)?this._ctx.fillStyle=this._themeService.colors.ansi[_.fg].css:this._ctx.fillStyle=this._themeService.colors.foreground.css,_.y1===_.y2)this._fillBottomLineAtCells(_.x1,_.y1,_.x2-_.x1);else{this._fillBottomLineAtCells(_.x1,_.y1,_.cols-_.x1);for(let m=_.y1+1;m<_.y2;m++)this._fillBottomLineAtCells(0,m,_.cols);this._fillBottomLineAtCells(0,_.y2,_.x2)}this._state=_}_handleHideLinkUnderline(_){this._clearCurrentLink()}}t.LinkRenderLayer=u},630:(l,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionRenderLayer=void 0;const i=n(903);class h extends i.BaseRenderLayer{constructor(u,g,_,m,r,f,p,v){super(u,g,"selection",_,!0,v,m,p,f,r),this._clearState()}_clearState(){this._state={start:void 0,end:void 0,columnSelectMode:void 0,ydisp:void 0}}resize(u){super.resize(u),this._selectionModel.selectionStart&&this._selectionModel.selectionEnd&&(this._clearState(),this._redrawSelection(this._selectionModel.selectionStart,this._selectionModel.selectionEnd,this._selectionModel.columnSelectMode))}reset(){this._state.start&&this._state.end&&(this._clearState(),this._clearAll())}handleBlur(){this.reset(),this._redrawSelection(this._selectionModel.selectionStart,this._selectionModel.selectionEnd,this._selectionModel.columnSelectMode)}handleFocus(){this.reset(),this._redrawSelection(this._selectionModel.selectionStart,this._selectionModel.selectionEnd,this._selectionModel.columnSelectMode)}handleSelectionChanged(u,g,_){super.handleSelectionChanged(u,g,_),this._redrawSelection(u,g,_)}_redrawSelection(u,g,_){if(!this._didStateChange(u,g,_,this._bufferService.buffer.ydisp))return;if(this._clearAll(),!u||!g)return void this._clearState();const m=u[1]-this._bufferService.buffer.ydisp,r=g[1]-this._bufferService.buffer.ydisp,f=Math.max(m,0),p=Math.min(r,this._bufferService.rows-1);if(f>=this._bufferService.rows||p<0)this._state.ydisp=this._bufferService.buffer.ydisp;else{if(this._ctx.fillStyle=(this._coreBrowserService.isFocused?this._themeService.colors.selectionBackgroundTransparent:this._themeService.colors.selectionInactiveBackgroundTransparent).css,_){const v=u[0],d=g[0]-v,C=p-f+1;this._fillCells(v,f,d,C)}else{const v=m===f?u[0]:0,d=f===r?g[0]:this._bufferService.cols;this._fillCells(v,f,d-v,1);const C=Math.max(p-f-1,0);if(this._fillCells(0,f+1,this._bufferService.cols,C),f!==p){const w=r===p?g[0]:this._bufferService.cols;this._fillCells(0,p,w,1)}}this._state.start=[u[0],u[1]],this._state.end=[g[0],g[1]],this._state.columnSelectMode=_,this._state.ydisp=this._bufferService.buffer.ydisp}}_didStateChange(u,g,_,m){return!this._areCoordinatesEqual(u,this._state.start)||!this._areCoordinatesEqual(g,this._state.end)||_!==this._state.columnSelectMode||m!==this._state.ydisp}_areCoordinatesEqual(u,g){return!(!u||!g)&&u[0]===g[0]&&u[1]===g[1]}}t.SelectionRenderLayer=h},744:(l,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextRenderLayer=void 0;const i=n(577),h=n(147),o=n(782),u=n(855),g=n(903),_=n(574);class m extends g.BaseRenderLayer{constructor(f,p,v,d,C,w,A,E,L,D){super(f,p,"text",v,d,D,C,w,E,L),this._characterJoinerService=A,this._characterWidth=0,this._characterFont="",this._characterOverlapCache={},this._workCell=new o.CellData,this._state=new _.GridCache,this.register(w.onSpecificOptionChange("allowTransparency",R=>this._setTransparency(R)))}resize(f){super.resize(f);const p=this._getFont(!1,!1);this._characterWidth===f.device.char.width&&this._characterFont===p||(this._characterWidth=f.device.char.width,this._characterFont=p,this._characterOverlapCache={}),this._state.clear(),this._state.resize(this._bufferService.cols,this._bufferService.rows)}reset(){this._state.clear(),this._clearAll()}_forEachCell(f,p,v){for(let d=f;d<=p;d++){const C=d+this._bufferService.buffer.ydisp,w=this._bufferService.buffer.lines.get(C),A=this._characterJoinerService.getJoinedCharacters(C);for(let E=0;E<this._bufferService.cols;E++){w.loadCell(E,this._workCell);let L=this._workCell,D=!1,R=E;if(L.getWidth()!==0){if(A.length>0&&E===A[0][0]){D=!0;const I=A.shift();L=new i.JoinedCellData(this._workCell,w.translateToString(!0,I[0],I[1]),I[1]-I[0]),R=I[1]-1}!D&&this._isOverlapping(L)&&R<w.length-1&&w.getCodePoint(R+1)===u.NULL_CELL_CODE&&(L.content&=-12582913,L.content|=8388608),v(L,E,d),E=R}}}}_drawBackground(f,p){const v=this._ctx,d=this._bufferService.cols;let C=0,w=0,A=null;v.save(),this._forEachCell(f,p,(E,L,D)=>{let R=null;E.isInverse()?R=E.isFgDefault()?this._themeService.colors.foreground.css:E.isFgRGB()?`rgb(${h.AttributeData.toColorRGB(E.getFgColor()).join(",")})`:this._themeService.colors.ansi[E.getFgColor()].css:E.isBgRGB()?R=`rgb(${h.AttributeData.toColorRGB(E.getBgColor()).join(",")})`:E.isBgPalette()&&(R=this._themeService.colors.ansi[E.getBgColor()].css);let I=!1;this._decorationService.forEachDecorationAtCell(L,this._bufferService.buffer.ydisp+D,void 0,P=>{P.options.layer!=="top"&&I||(P.backgroundColorRGB&&(R=P.backgroundColorRGB.css),I=P.options.layer==="top")}),A===null&&(C=L,w=D),D!==w?(v.fillStyle=A||"",this._fillCells(C,w,d-C,1),C=L,w=D):A!==R&&(v.fillStyle=A||"",this._fillCells(C,w,L-C,1),C=L,w=D),A=R}),A!==null&&(v.fillStyle=A,this._fillCells(C,w,d-C,1)),v.restore()}_drawForeground(f,p){this._forEachCell(f,p,(v,d,C)=>this._drawChars(v,d,C))}handleGridChanged(f,p){this._state.cache.length!==0&&(this._charAtlas&&this._charAtlas.beginFrame(),this._clearCells(0,f,this._bufferService.cols,p-f+1),this._drawBackground(f,p),this._drawForeground(f,p))}_isOverlapping(f){if(f.getWidth()!==1||f.getCode()<256)return!1;const p=f.getChars();if(this._characterOverlapCache.hasOwnProperty(p))return this._characterOverlapCache[p];this._ctx.save(),this._ctx.font=this._characterFont;const v=Math.floor(this._ctx.measureText(p).width)>this._characterWidth;return this._ctx.restore(),this._characterOverlapCache[p]=v,v}}t.TextRenderLayer=m},274:(l,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CellColorResolver=void 0;let n,i=0,h=0,o=!1,u=!1,g=!1;t.CellColorResolver=class{constructor(_,m,r,f,p){this._terminal=_,this._selectionRenderModel=m,this._decorationService=r,this._coreBrowserService=f,this._themeService=p,this.result={fg:0,bg:0,ext:0}}resolve(_,m,r){this.result.bg=_.bg,this.result.fg=_.fg,this.result.ext=268435456&_.bg?_.extended.ext:0,h=0,i=0,u=!1,o=!1,g=!1,n=this._themeService.colors,this._decorationService.forEachDecorationAtCell(m,r,"bottom",f=>{f.backgroundColorRGB&&(h=f.backgroundColorRGB.rgba>>8&16777215,u=!0),f.foregroundColorRGB&&(i=f.foregroundColorRGB.rgba>>8&16777215,o=!0)}),g=this._selectionRenderModel.isCellSelected(this._terminal,m,r),g&&(h=(this._coreBrowserService.isFocused?n.selectionBackgroundOpaque:n.selectionInactiveBackgroundOpaque).rgba>>8&16777215,u=!0,n.selectionForeground&&(i=n.selectionForeground.rgba>>8&16777215,o=!0)),this._decorationService.forEachDecorationAtCell(m,r,"top",f=>{f.backgroundColorRGB&&(h=f.backgroundColorRGB.rgba>>8&16777215,u=!0),f.foregroundColorRGB&&(i=f.foregroundColorRGB.rgba>>8&16777215,o=!0)}),u&&(h=g?-16777216&_.bg&-134217729|h|50331648:-16777216&_.bg|h|50331648),o&&(i=-16777216&_.fg&-67108865|i|50331648),67108864&this.result.fg&&(u&&!o&&(i=50331648&this.result.bg?-134217728&this.result.fg|67108863&this.result.bg:-134217728&this.result.fg|16777215&n.background.rgba>>8|50331648,o=!0),!u&&o&&(h=50331648&this.result.fg?-67108864&this.result.bg|67108863&this.result.fg:-67108864&this.result.bg|16777215&n.foreground.rgba>>8|50331648,u=!0)),n=void 0,this.result.bg=u?h:this.result.bg,this.result.fg=o?i:this.result.fg}}},627:(l,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.removeTerminalFromCache=t.acquireTextureAtlas=void 0;const i=n(509),h=n(197),o=[];t.acquireTextureAtlas=function(u,g,_,m,r,f,p,v){const d=(0,h.generateConfig)(m,r,f,p,g,_,v);for(let A=0;A<o.length;A++){const E=o[A],L=E.ownedBy.indexOf(u);if(L>=0){if((0,h.configEquals)(E.config,d))return E.atlas;E.ownedBy.length===1?(E.atlas.dispose(),o.splice(A,1)):E.ownedBy.splice(L,1);break}}for(let A=0;A<o.length;A++){const E=o[A];if((0,h.configEquals)(E.config,d))return E.ownedBy.push(u),E.atlas}const C=u._core,w={atlas:new i.TextureAtlas(document,d,C.unicodeService),config:d,ownedBy:[u]};return o.push(w),w.atlas},t.removeTerminalFromCache=function(u){for(let g=0;g<o.length;g++){const _=o[g].ownedBy.indexOf(u);if(_!==-1){o[g].ownedBy.length===1?(o[g].atlas.dispose(),o.splice(g,1)):o[g].ownedBy.splice(_,1);break}}}},197:(l,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.is256Color=t.configEquals=t.generateConfig=void 0;const i=n(160);t.generateConfig=function(h,o,u,g,_,m,r){const f={foreground:m.foreground,background:m.background,cursor:i.NULL_COLOR,cursorAccent:i.NULL_COLOR,selectionForeground:i.NULL_COLOR,selectionBackgroundTransparent:i.NULL_COLOR,selectionBackgroundOpaque:i.NULL_COLOR,selectionInactiveBackgroundTransparent:i.NULL_COLOR,selectionInactiveBackgroundOpaque:i.NULL_COLOR,ansi:m.ansi.slice(),contrastCache:m.contrastCache,halfContrastCache:m.halfContrastCache};return{customGlyphs:_.customGlyphs,devicePixelRatio:r,letterSpacing:_.letterSpacing,lineHeight:_.lineHeight,deviceCellWidth:h,deviceCellHeight:o,deviceCharWidth:u,deviceCharHeight:g,fontFamily:_.fontFamily,fontSize:_.fontSize,fontWeight:_.fontWeight,fontWeightBold:_.fontWeightBold,allowTransparency:_.allowTransparency,drawBoldTextInBrightColors:_.drawBoldTextInBrightColors,minimumContrastRatio:_.minimumContrastRatio,colors:f}},t.configEquals=function(h,o){for(let u=0;u<h.colors.ansi.length;u++)if(h.colors.ansi[u].rgba!==o.colors.ansi[u].rgba)return!1;return h.devicePixelRatio===o.devicePixelRatio&&h.customGlyphs===o.customGlyphs&&h.lineHeight===o.lineHeight&&h.letterSpacing===o.letterSpacing&&h.fontFamily===o.fontFamily&&h.fontSize===o.fontSize&&h.fontWeight===o.fontWeight&&h.fontWeightBold===o.fontWeightBold&&h.allowTransparency===o.allowTransparency&&h.deviceCharWidth===o.deviceCharWidth&&h.deviceCharHeight===o.deviceCharHeight&&h.drawBoldTextInBrightColors===o.drawBoldTextInBrightColors&&h.minimumContrastRatio===o.minimumContrastRatio&&h.colors.foreground.rgba===o.colors.foreground.rgba&&h.colors.background.rgba===o.colors.background.rgba},t.is256Color=function(h){return(50331648&h)==16777216||(50331648&h)==33554432}},237:(l,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TEXT_BASELINE=t.DIM_OPACITY=t.INVERTED_DEFAULT_COLOR=void 0;const i=n(399);t.INVERTED_DEFAULT_COLOR=257,t.DIM_OPACITY=.5,t.TEXT_BASELINE=i.isFirefox||i.isLegacyEdge?"bottom":"ideographic"},457:(l,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CursorBlinkStateManager=void 0,t.CursorBlinkStateManager=class{constructor(n,i){this._renderCallback=n,this._coreBrowserService=i,this.isCursorVisible=!0,this._coreBrowserService.isFocused&&this._restartInterval()}get isPaused(){return!(this._blinkStartTimeout||this._blinkInterval)}dispose(){this._blinkInterval&&(this._coreBrowserService.window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(this._coreBrowserService.window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}restartBlinkAnimation(){this.isPaused||(this._animationTimeRestarted=Date.now(),this.isCursorVisible=!0,this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._renderCallback(),this._animationFrame=void 0})))}_restartInterval(n=600){this._blinkInterval&&(this._coreBrowserService.window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout=this._coreBrowserService.window.setTimeout(()=>{if(this._animationTimeRestarted){const i=600-(Date.now()-this._animationTimeRestarted);if(this._animationTimeRestarted=void 0,i>0)return void this._restartInterval(i)}this.isCursorVisible=!1,this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._renderCallback(),this._animationFrame=void 0}),this._blinkInterval=this._coreBrowserService.window.setInterval(()=>{if(this._animationTimeRestarted){const i=600-(Date.now()-this._animationTimeRestarted);return this._animationTimeRestarted=void 0,void this._restartInterval(i)}this.isCursorVisible=!this.isCursorVisible,this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._renderCallback(),this._animationFrame=void 0})},600)},n)}pause(){this.isCursorVisible=!0,this._blinkInterval&&(this._coreBrowserService.window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(this._coreBrowserService.window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}resume(){this.pause(),this._animationTimeRestarted=void 0,this._restartInterval(),this.restartBlinkAnimation()}}},860:(l,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.tryDrawCustomChar=t.powerlineDefinitions=t.boxDrawingDefinitions=t.blockElementDefinitions=void 0;const i=n(374);t.blockElementDefinitions={"▀":[{x:0,y:0,w:8,h:4}],"▁":[{x:0,y:7,w:8,h:1}],"▂":[{x:0,y:6,w:8,h:2}],"▃":[{x:0,y:5,w:8,h:3}],"▄":[{x:0,y:4,w:8,h:4}],"▅":[{x:0,y:3,w:8,h:5}],"▆":[{x:0,y:2,w:8,h:6}],"▇":[{x:0,y:1,w:8,h:7}],"█":[{x:0,y:0,w:8,h:8}],"▉":[{x:0,y:0,w:7,h:8}],"▊":[{x:0,y:0,w:6,h:8}],"▋":[{x:0,y:0,w:5,h:8}],"▌":[{x:0,y:0,w:4,h:8}],"▍":[{x:0,y:0,w:3,h:8}],"▎":[{x:0,y:0,w:2,h:8}],"▏":[{x:0,y:0,w:1,h:8}],"▐":[{x:4,y:0,w:4,h:8}],"▔":[{x:0,y:0,w:8,h:1}],"▕":[{x:7,y:0,w:1,h:8}],"▖":[{x:0,y:4,w:4,h:4}],"▗":[{x:4,y:4,w:4,h:4}],"▘":[{x:0,y:0,w:4,h:4}],"▙":[{x:0,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"▚":[{x:0,y:0,w:4,h:4},{x:4,y:4,w:4,h:4}],"▛":[{x:0,y:0,w:4,h:8},{x:4,y:0,w:4,h:4}],"▜":[{x:0,y:0,w:8,h:4},{x:4,y:0,w:4,h:8}],"▝":[{x:4,y:0,w:4,h:4}],"▞":[{x:4,y:0,w:4,h:4},{x:0,y:4,w:4,h:4}],"▟":[{x:4,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"🭰":[{x:1,y:0,w:1,h:8}],"🭱":[{x:2,y:0,w:1,h:8}],"🭲":[{x:3,y:0,w:1,h:8}],"🭳":[{x:4,y:0,w:1,h:8}],"🭴":[{x:5,y:0,w:1,h:8}],"🭵":[{x:6,y:0,w:1,h:8}],"🭶":[{x:0,y:1,w:8,h:1}],"🭷":[{x:0,y:2,w:8,h:1}],"🭸":[{x:0,y:3,w:8,h:1}],"🭹":[{x:0,y:4,w:8,h:1}],"🭺":[{x:0,y:5,w:8,h:1}],"🭻":[{x:0,y:6,w:8,h:1}],"🭼":[{x:0,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"🭽":[{x:0,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"🭾":[{x:7,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"🭿":[{x:7,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"🮀":[{x:0,y:0,w:8,h:1},{x:0,y:7,w:8,h:1}],"🮁":[{x:0,y:0,w:8,h:1},{x:0,y:2,w:8,h:1},{x:0,y:4,w:8,h:1},{x:0,y:7,w:8,h:1}],"🮂":[{x:0,y:0,w:8,h:2}],"🮃":[{x:0,y:0,w:8,h:3}],"🮄":[{x:0,y:0,w:8,h:5}],"🮅":[{x:0,y:0,w:8,h:6}],"🮆":[{x:0,y:0,w:8,h:7}],"🮇":[{x:6,y:0,w:2,h:8}],"🮈":[{x:5,y:0,w:3,h:8}],"🮉":[{x:3,y:0,w:5,h:8}],"🮊":[{x:2,y:0,w:6,h:8}],"🮋":[{x:1,y:0,w:7,h:8}],"🮕":[{x:0,y:0,w:2,h:2},{x:4,y:0,w:2,h:2},{x:2,y:2,w:2,h:2},{x:6,y:2,w:2,h:2},{x:0,y:4,w:2,h:2},{x:4,y:4,w:2,h:2},{x:2,y:6,w:2,h:2},{x:6,y:6,w:2,h:2}],"🮖":[{x:2,y:0,w:2,h:2},{x:6,y:0,w:2,h:2},{x:0,y:2,w:2,h:2},{x:4,y:2,w:2,h:2},{x:2,y:4,w:2,h:2},{x:6,y:4,w:2,h:2},{x:0,y:6,w:2,h:2},{x:4,y:6,w:2,h:2}],"🮗":[{x:0,y:2,w:8,h:2},{x:0,y:6,w:8,h:2}]};const h={"░":[[1,0,0,0],[0,0,0,0],[0,0,1,0],[0,0,0,0]],"▒":[[1,0],[0,0],[0,1],[0,0]],"▓":[[0,1],[1,1],[1,0],[1,1]]};t.boxDrawingDefinitions={"─":{1:"M0,.5 L1,.5"},"━":{3:"M0,.5 L1,.5"},"│":{1:"M.5,0 L.5,1"},"┃":{3:"M.5,0 L.5,1"},"┌":{1:"M0.5,1 L.5,.5 L1,.5"},"┏":{3:"M0.5,1 L.5,.5 L1,.5"},"┐":{1:"M0,.5 L.5,.5 L.5,1"},"┓":{3:"M0,.5 L.5,.5 L.5,1"},"└":{1:"M.5,0 L.5,.5 L1,.5"},"┗":{3:"M.5,0 L.5,.5 L1,.5"},"┘":{1:"M.5,0 L.5,.5 L0,.5"},"┛":{3:"M.5,0 L.5,.5 L0,.5"},"├":{1:"M.5,0 L.5,1 M.5,.5 L1,.5"},"┣":{3:"M.5,0 L.5,1 M.5,.5 L1,.5"},"┤":{1:"M.5,0 L.5,1 M.5,.5 L0,.5"},"┫":{3:"M.5,0 L.5,1 M.5,.5 L0,.5"},"┬":{1:"M0,.5 L1,.5 M.5,.5 L.5,1"},"┳":{3:"M0,.5 L1,.5 M.5,.5 L.5,1"},"┴":{1:"M0,.5 L1,.5 M.5,.5 L.5,0"},"┻":{3:"M0,.5 L1,.5 M.5,.5 L.5,0"},"┼":{1:"M0,.5 L1,.5 M.5,0 L.5,1"},"╋":{3:"M0,.5 L1,.5 M.5,0 L.5,1"},"╴":{1:"M.5,.5 L0,.5"},"╸":{3:"M.5,.5 L0,.5"},"╵":{1:"M.5,.5 L.5,0"},"╹":{3:"M.5,.5 L.5,0"},"╶":{1:"M.5,.5 L1,.5"},"╺":{3:"M.5,.5 L1,.5"},"╷":{1:"M.5,.5 L.5,1"},"╻":{3:"M.5,.5 L.5,1"},"═":{1:(m,r)=>`M0,${.5-r} L1,${.5-r} M0,${.5+r} L1,${.5+r}`},"║":{1:(m,r)=>`M${.5-m},0 L${.5-m},1 M${.5+m},0 L${.5+m},1`},"╒":{1:(m,r)=>`M.5,1 L.5,${.5-r} L1,${.5-r} M.5,${.5+r} L1,${.5+r}`},"╓":{1:(m,r)=>`M${.5-m},1 L${.5-m},.5 L1,.5 M${.5+m},.5 L${.5+m},1`},"╔":{1:(m,r)=>`M1,${.5-r} L${.5-m},${.5-r} L${.5-m},1 M1,${.5+r} L${.5+m},${.5+r} L${.5+m},1`},"╕":{1:(m,r)=>`M0,${.5-r} L.5,${.5-r} L.5,1 M0,${.5+r} L.5,${.5+r}`},"╖":{1:(m,r)=>`M${.5+m},1 L${.5+m},.5 L0,.5 M${.5-m},.5 L${.5-m},1`},"╗":{1:(m,r)=>`M0,${.5+r} L${.5-m},${.5+r} L${.5-m},1 M0,${.5-r} L${.5+m},${.5-r} L${.5+m},1`},"╘":{1:(m,r)=>`M.5,0 L.5,${.5+r} L1,${.5+r} M.5,${.5-r} L1,${.5-r}`},"╙":{1:(m,r)=>`M1,.5 L${.5-m},.5 L${.5-m},0 M${.5+m},.5 L${.5+m},0`},"╚":{1:(m,r)=>`M1,${.5-r} L${.5+m},${.5-r} L${.5+m},0 M1,${.5+r} L${.5-m},${.5+r} L${.5-m},0`},"╛":{1:(m,r)=>`M0,${.5+r} L.5,${.5+r} L.5,0 M0,${.5-r} L.5,${.5-r}`},"╜":{1:(m,r)=>`M0,.5 L${.5+m},.5 L${.5+m},0 M${.5-m},.5 L${.5-m},0`},"╝":{1:(m,r)=>`M0,${.5-r} L${.5-m},${.5-r} L${.5-m},0 M0,${.5+r} L${.5+m},${.5+r} L${.5+m},0`},"╞":{1:(m,r)=>`M.5,0 L.5,1 M.5,${.5-r} L1,${.5-r} M.5,${.5+r} L1,${.5+r}`},"╟":{1:(m,r)=>`M${.5-m},0 L${.5-m},1 M${.5+m},0 L${.5+m},1 M${.5+m},.5 L1,.5`},"╠":{1:(m,r)=>`M${.5-m},0 L${.5-m},1 M1,${.5+r} L${.5+m},${.5+r} L${.5+m},1 M1,${.5-r} L${.5+m},${.5-r} L${.5+m},0`},"╡":{1:(m,r)=>`M.5,0 L.5,1 M0,${.5-r} L.5,${.5-r} M0,${.5+r} L.5,${.5+r}`},"╢":{1:(m,r)=>`M0,.5 L${.5-m},.5 M${.5-m},0 L${.5-m},1 M${.5+m},0 L${.5+m},1`},"╣":{1:(m,r)=>`M${.5+m},0 L${.5+m},1 M0,${.5+r} L${.5-m},${.5+r} L${.5-m},1 M0,${.5-r} L${.5-m},${.5-r} L${.5-m},0`},"╤":{1:(m,r)=>`M0,${.5-r} L1,${.5-r} M0,${.5+r} L1,${.5+r} M.5,${.5+r} L.5,1`},"╥":{1:(m,r)=>`M0,.5 L1,.5 M${.5-m},.5 L${.5-m},1 M${.5+m},.5 L${.5+m},1`},"╦":{1:(m,r)=>`M0,${.5-r} L1,${.5-r} M0,${.5+r} L${.5-m},${.5+r} L${.5-m},1 M1,${.5+r} L${.5+m},${.5+r} L${.5+m},1`},"╧":{1:(m,r)=>`M.5,0 L.5,${.5-r} M0,${.5-r} L1,${.5-r} M0,${.5+r} L1,${.5+r}`},"╨":{1:(m,r)=>`M0,.5 L1,.5 M${.5-m},.5 L${.5-m},0 M${.5+m},.5 L${.5+m},0`},"╩":{1:(m,r)=>`M0,${.5+r} L1,${.5+r} M0,${.5-r} L${.5-m},${.5-r} L${.5-m},0 M1,${.5-r} L${.5+m},${.5-r} L${.5+m},0`},"╪":{1:(m,r)=>`M.5,0 L.5,1 M0,${.5-r} L1,${.5-r} M0,${.5+r} L1,${.5+r}`},"╫":{1:(m,r)=>`M0,.5 L1,.5 M${.5-m},0 L${.5-m},1 M${.5+m},0 L${.5+m},1`},"╬":{1:(m,r)=>`M0,${.5+r} L${.5-m},${.5+r} L${.5-m},1 M1,${.5+r} L${.5+m},${.5+r} L${.5+m},1 M0,${.5-r} L${.5-m},${.5-r} L${.5-m},0 M1,${.5-r} L${.5+m},${.5-r} L${.5+m},0`},"╱":{1:"M1,0 L0,1"},"╲":{1:"M0,0 L1,1"},"╳":{1:"M1,0 L0,1 M0,0 L1,1"},"╼":{1:"M.5,.5 L0,.5",3:"M.5,.5 L1,.5"},"╽":{1:"M.5,.5 L.5,0",3:"M.5,.5 L.5,1"},"╾":{1:"M.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"╿":{1:"M.5,.5 L.5,1",3:"M.5,.5 L.5,0"},"┍":{1:"M.5,.5 L.5,1",3:"M.5,.5 L1,.5"},"┎":{1:"M.5,.5 L1,.5",3:"M.5,.5 L.5,1"},"┑":{1:"M.5,.5 L.5,1",3:"M.5,.5 L0,.5"},"┒":{1:"M.5,.5 L0,.5",3:"M.5,.5 L.5,1"},"┕":{1:"M.5,.5 L.5,0",3:"M.5,.5 L1,.5"},"┖":{1:"M.5,.5 L1,.5",3:"M.5,.5 L.5,0"},"┙":{1:"M.5,.5 L.5,0",3:"M.5,.5 L0,.5"},"┚":{1:"M.5,.5 L0,.5",3:"M.5,.5 L.5,0"},"┝":{1:"M.5,0 L.5,1",3:"M.5,.5 L1,.5"},"┞":{1:"M0.5,1 L.5,.5 L1,.5",3:"M.5,.5 L.5,0"},"┟":{1:"M.5,0 L.5,.5 L1,.5",3:"M.5,.5 L.5,1"},"┠":{1:"M.5,.5 L1,.5",3:"M.5,0 L.5,1"},"┡":{1:"M.5,.5 L.5,1",3:"M.5,0 L.5,.5 L1,.5"},"┢":{1:"M.5,.5 L.5,0",3:"M0.5,1 L.5,.5 L1,.5"},"┥":{1:"M.5,0 L.5,1",3:"M.5,.5 L0,.5"},"┦":{1:"M0,.5 L.5,.5 L.5,1",3:"M.5,.5 L.5,0"},"┧":{1:"M.5,0 L.5,.5 L0,.5",3:"M.5,.5 L.5,1"},"┨":{1:"M.5,.5 L0,.5",3:"M.5,0 L.5,1"},"┩":{1:"M.5,.5 L.5,1",3:"M.5,0 L.5,.5 L0,.5"},"┪":{1:"M.5,.5 L.5,0",3:"M0,.5 L.5,.5 L.5,1"},"┭":{1:"M0.5,1 L.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"┮":{1:"M0,.5 L.5,.5 L.5,1",3:"M.5,.5 L1,.5"},"┯":{1:"M.5,.5 L.5,1",3:"M0,.5 L1,.5"},"┰":{1:"M0,.5 L1,.5",3:"M.5,.5 L.5,1"},"┱":{1:"M.5,.5 L1,.5",3:"M0,.5 L.5,.5 L.5,1"},"┲":{1:"M.5,.5 L0,.5",3:"M0.5,1 L.5,.5 L1,.5"},"┵":{1:"M.5,0 L.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"┶":{1:"M.5,0 L.5,.5 L0,.5",3:"M.5,.5 L1,.5"},"┷":{1:"M.5,.5 L.5,0",3:"M0,.5 L1,.5"},"┸":{1:"M0,.5 L1,.5",3:"M.5,.5 L.5,0"},"┹":{1:"M.5,.5 L1,.5",3:"M.5,0 L.5,.5 L0,.5"},"┺":{1:"M.5,.5 L0,.5",3:"M.5,0 L.5,.5 L1,.5"},"┽":{1:"M.5,0 L.5,1 M.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"┾":{1:"M.5,0 L.5,1 M.5,.5 L0,.5",3:"M.5,.5 L1,.5"},"┿":{1:"M.5,0 L.5,1",3:"M0,.5 L1,.5"},"╀":{1:"M0,.5 L1,.5 M.5,.5 L.5,1",3:"M.5,.5 L.5,0"},"╁":{1:"M.5,.5 L.5,0 M0,.5 L1,.5",3:"M.5,.5 L.5,1"},"╂":{1:"M0,.5 L1,.5",3:"M.5,0 L.5,1"},"╃":{1:"M0.5,1 L.5,.5 L1,.5",3:"M.5,0 L.5,.5 L0,.5"},"╄":{1:"M0,.5 L.5,.5 L.5,1",3:"M.5,0 L.5,.5 L1,.5"},"╅":{1:"M.5,0 L.5,.5 L1,.5",3:"M0,.5 L.5,.5 L.5,1"},"╆":{1:"M.5,0 L.5,.5 L0,.5",3:"M0.5,1 L.5,.5 L1,.5"},"╇":{1:"M.5,.5 L.5,1",3:"M.5,.5 L.5,0 M0,.5 L1,.5"},"╈":{1:"M.5,.5 L.5,0",3:"M0,.5 L1,.5 M.5,.5 L.5,1"},"╉":{1:"M.5,.5 L1,.5",3:"M.5,0 L.5,1 M.5,.5 L0,.5"},"╊":{1:"M.5,.5 L0,.5",3:"M.5,0 L.5,1 M.5,.5 L1,.5"},"╌":{1:"M.1,.5 L.4,.5 M.6,.5 L.9,.5"},"╍":{3:"M.1,.5 L.4,.5 M.6,.5 L.9,.5"},"┄":{1:"M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5"},"┅":{3:"M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5"},"┈":{1:"M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5"},"┉":{3:"M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5"},"╎":{1:"M.5,.1 L.5,.4 M.5,.6 L.5,.9"},"╏":{3:"M.5,.1 L.5,.4 M.5,.6 L.5,.9"},"┆":{1:"M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333"},"┇":{3:"M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333"},"┊":{1:"M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95"},"┋":{3:"M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95"},"╭":{1:(m,r)=>`M.5,1 L.5,${.5+r/.15*.5} C.5,${.5+r/.15*.5},.5,.5,1,.5`},"╮":{1:(m,r)=>`M.5,1 L.5,${.5+r/.15*.5} C.5,${.5+r/.15*.5},.5,.5,0,.5`},"╯":{1:(m,r)=>`M.5,0 L.5,${.5-r/.15*.5} C.5,${.5-r/.15*.5},.5,.5,0,.5`},"╰":{1:(m,r)=>`M.5,0 L.5,${.5-r/.15*.5} C.5,${.5-r/.15*.5},.5,.5,1,.5`}},t.powerlineDefinitions={"":{d:"M0,0 L1,.5 L0,1",type:0,rightPadding:2},"":{d:"M-1,-.5 L1,.5 L-1,1.5",type:1,leftPadding:1,rightPadding:1},"":{d:"M1,0 L0,.5 L1,1",type:0,leftPadding:2},"":{d:"M2,-.5 L0,.5 L2,1.5",type:1,leftPadding:1,rightPadding:1},"":{d:"M0,0 L0,1 C0.552,1,1,0.776,1,.5 C1,0.224,0.552,0,0,0",type:0,rightPadding:1},"":{d:"M.2,1 C.422,1,.8,.826,.78,.5 C.8,.174,0.422,0,.2,0",type:1,rightPadding:1},"":{d:"M1,0 L1,1 C0.448,1,0,0.776,0,.5 C0,0.224,0.448,0,1,0",type:0,leftPadding:1},"":{d:"M.8,1 C0.578,1,0.2,.826,.22,.5 C0.2,0.174,0.578,0,0.8,0",type:1,leftPadding:1},"":{d:"M-.5,-.5 L1.5,1.5 L-.5,1.5",type:0},"":{d:"M-.5,-.5 L1.5,1.5",type:1,leftPadding:1,rightPadding:1},"":{d:"M1.5,-.5 L-.5,1.5 L1.5,1.5",type:0},"":{d:"M1.5,-.5 L-.5,1.5 L-.5,-.5",type:0},"":{d:"M1.5,-.5 L-.5,1.5",type:1,leftPadding:1,rightPadding:1},"":{d:"M-.5,-.5 L1.5,1.5 L1.5,-.5",type:0}},t.powerlineDefinitions[""]=t.powerlineDefinitions[""],t.powerlineDefinitions[""]=t.powerlineDefinitions[""],t.tryDrawCustomChar=function(m,r,f,p,v,d,C,w){const A=t.blockElementDefinitions[r];if(A)return function(R,I,P,$,F,U){for(let Y=0;Y<I.length;Y++){const k=I[Y],H=F/8,z=U/8;R.fillRect(P+k.x*H,$+k.y*z,k.w*H,k.h*z)}}(m,A,f,p,v,d),!0;const E=h[r];if(E)return function(R,I,P,$,F,U){let Y=o.get(I);Y||(Y=new Map,o.set(I,Y));const k=R.fillStyle;if(typeof k!="string")throw new Error(`Unexpected fillStyle type "${k}"`);let H=Y.get(k);if(!H){const z=I[0].length,X=I.length,te=document.createElement("canvas");te.width=z,te.height=X;const J=(0,i.throwIfFalsy)(te.getContext("2d")),V=new ImageData(z,X);let se,be,B,j;if(k.startsWith("#"))se=parseInt(k.slice(1,3),16),be=parseInt(k.slice(3,5),16),B=parseInt(k.slice(5,7),16),j=k.length>7&&parseInt(k.slice(7,9),16)||1;else{if(!k.startsWith("rgba"))throw new Error(`Unexpected fillStyle color format "${k}" when drawing pattern glyph`);[se,be,B,j]=k.substring(5,k.length-1).split(",").map(N=>parseFloat(N))}for(let N=0;N<X;N++)for(let Q=0;Q<z;Q++)V.data[4*(N*z+Q)]=se,V.data[4*(N*z+Q)+1]=be,V.data[4*(N*z+Q)+2]=B,V.data[4*(N*z+Q)+3]=I[N][Q]*(255*j);J.putImageData(V,0,0),H=(0,i.throwIfFalsy)(R.createPattern(te,null)),Y.set(k,H)}R.fillStyle=H,R.fillRect(P,$,F,U)}(m,E,f,p,v,d),!0;const L=t.boxDrawingDefinitions[r];if(L)return function(R,I,P,$,F,U,Y){R.strokeStyle=R.fillStyle;for(const[k,H]of Object.entries(I)){let z;R.beginPath(),R.lineWidth=Y*Number.parseInt(k),z=typeof H=="function"?H(.15,.15/U*F):H;for(const X of z.split(" ")){const te=X[0],J=g[te];if(!J){console.error(`Could not find drawing instructions for "${te}"`);continue}const V=X.substring(1).split(",");V[0]&&V[1]&&J(R,_(V,F,U,P,$,!0,Y))}R.stroke(),R.closePath()}}(m,L,f,p,v,d,w),!0;const D=t.powerlineDefinitions[r];return!!D&&(function(R,I,P,$,F,U,Y,k){var H,z;const X=new Path2D;X.rect(P,$,F,U),R.clip(X),R.beginPath();const te=Y/12;R.lineWidth=k*te;for(const J of I.d.split(" ")){const V=J[0],se=g[V];if(!se){console.error(`Could not find drawing instructions for "${V}"`);continue}const be=J.substring(1).split(",");be[0]&&be[1]&&se(R,_(be,F,U,P,$,!1,k,((H=I.leftPadding)!==null&&H!==void 0?H:0)*(te/2),((z=I.rightPadding)!==null&&z!==void 0?z:0)*(te/2)))}I.type===1?(R.strokeStyle=R.fillStyle,R.stroke()):R.fill(),R.closePath()}(m,D,f,p,v,d,C,w),!0)};const o=new Map;function u(m,r,f=0){return Math.max(Math.min(m,r),f)}const g={C:(m,r)=>m.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5]),L:(m,r)=>m.lineTo(r[0],r[1]),M:(m,r)=>m.moveTo(r[0],r[1])};function _(m,r,f,p,v,d,C,w=0,A=0){const E=m.map(L=>parseFloat(L)||parseInt(L));if(E.length<2)throw new Error("Too few arguments for instruction");for(let L=0;L<E.length;L+=2)E[L]*=r-w*C-A*C,d&&E[L]!==0&&(E[L]=u(Math.round(E[L]+.5)-.5,r,0)),E[L]+=p+w*C;for(let L=1;L<E.length;L+=2)E[L]*=f,d&&E[L]!==0&&(E[L]=u(Math.round(E[L]+.5)-.5,f,0)),E[L]+=v;return E}},56:(l,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.observeDevicePixelDimensions=void 0;const i=n(859);t.observeDevicePixelDimensions=function(h,o,u){let g=new o.ResizeObserver(_=>{const m=_.find(p=>p.target===h);if(!m)return;if(!("devicePixelContentBoxSize"in m))return g==null||g.disconnect(),void(g=void 0);const r=m.devicePixelContentBoxSize[0].inlineSize,f=m.devicePixelContentBoxSize[0].blockSize;r>0&&f>0&&u(r,f)});try{g.observe(h,{box:["device-pixel-content-box"]})}catch{g.disconnect(),g=void 0}return(0,i.toDisposable)(()=>g==null?void 0:g.disconnect())}},374:(l,t)=>{function n(i){return 57508<=i&&i<=57558}Object.defineProperty(t,"__esModule",{value:!0}),t.createRenderDimensions=t.excludeFromContrastRatioDemands=t.isRestrictedPowerlineGlyph=t.isPowerlineGlyph=t.throwIfFalsy=void 0,t.throwIfFalsy=function(i){if(!i)throw new Error("value must not be falsy");return i},t.isPowerlineGlyph=n,t.isRestrictedPowerlineGlyph=function(i){return 57520<=i&&i<=57527},t.excludeFromContrastRatioDemands=function(i){return n(i)||function(h){return 9472<=h&&h<=9631}(i)},t.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},296:(l,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createSelectionRenderModel=void 0;class n{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(h,o,u,g=!1){if(this.selectionStart=o,this.selectionEnd=u,!o||!u||o[0]===u[0]&&o[1]===u[1])return void this.clear();const _=o[1]-h.buffer.active.viewportY,m=u[1]-h.buffer.active.viewportY,r=Math.max(_,0),f=Math.min(m,h.rows-1);r>=h.rows||f<0?this.clear():(this.hasSelection=!0,this.columnSelectMode=g,this.viewportStartRow=_,this.viewportEndRow=m,this.viewportCappedStartRow=r,this.viewportCappedEndRow=f,this.startCol=o[0],this.endCol=u[0])}isCellSelected(h,o,u){return!!this.hasSelection&&(u-=h.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?o>=this.startCol&&u>=this.viewportCappedStartRow&&o<this.endCol&&u<=this.viewportCappedEndRow:o<this.startCol&&u>=this.viewportCappedStartRow&&o>=this.endCol&&u<=this.viewportCappedEndRow:u>this.viewportStartRow&&u<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&u===this.viewportStartRow&&o>=this.startCol&&o<this.endCol||this.viewportStartRow<this.viewportEndRow&&u===this.viewportEndRow&&o<this.endCol||this.viewportStartRow<this.viewportEndRow&&u===this.viewportStartRow&&o>=this.startCol)}}t.createSelectionRenderModel=function(){return new n}},509:function(l,t,n){var i=this&&this.__decorate||function(D,R,I,P){var $,F=arguments.length,U=F<3?R:P===null?P=Object.getOwnPropertyDescriptor(R,I):P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")U=Reflect.decorate(D,R,I,P);else for(var Y=D.length-1;Y>=0;Y--)($=D[Y])&&(U=(F<3?$(U):F>3?$(R,I,U):$(R,I))||U);return F>3&&U&&Object.defineProperty(R,I,U),U};Object.defineProperty(t,"__esModule",{value:!0}),t.TextureAtlas=void 0;const h=n(237),o=n(860),u=n(374),g=n(160),_=n(345),m=n(485),r=n(385),f=n(147),p=n(855),v=n(776),d={texturePage:0,texturePosition:{x:0,y:0},texturePositionClipSpace:{x:0,y:0},offset:{x:0,y:0},size:{x:0,y:0},sizeClipSpace:{x:0,y:0}};let C;class w{get pages(){return this._pages}constructor(R,I,P){this._document=R,this._config=I,this._unicodeService=P,this._didWarmUp=!1,this._cacheMap=new m.FourKeyMap,this._cacheMapCombined=new m.FourKeyMap,this._pages=[],this._activePages=[],this._workBoundingBox={top:0,left:0,bottom:0,right:0},this._workAttributeData=new f.AttributeData,this._textureSize=512,this._onAddTextureAtlasCanvas=new _.EventEmitter,this.onAddTextureAtlasCanvas=this._onAddTextureAtlasCanvas.event,this._onRemoveTextureAtlasCanvas=new _.EventEmitter,this.onRemoveTextureAtlasCanvas=this._onRemoveTextureAtlasCanvas.event,this._requestClearModel=!1,this._createNewPage(),this._tmpCanvas=L(R,4*this._config.deviceCellWidth+4,this._config.deviceCellHeight+4),this._tmpCtx=(0,u.throwIfFalsy)(this._tmpCanvas.getContext("2d",{alpha:this._config.allowTransparency,willReadFrequently:!0}))}dispose(){for(const R of this.pages)R.canvas.remove();this._onAddTextureAtlasCanvas.dispose()}warmUp(){this._didWarmUp||(this._doWarmUp(),this._didWarmUp=!0)}_doWarmUp(){const R=new r.IdleTaskQueue;for(let I=33;I<126;I++)R.enqueue(()=>{if(!this._cacheMap.get(I,p.DEFAULT_COLOR,p.DEFAULT_COLOR,p.DEFAULT_EXT)){const P=this._drawToCache(I,p.DEFAULT_COLOR,p.DEFAULT_COLOR,p.DEFAULT_EXT);this._cacheMap.set(I,p.DEFAULT_COLOR,p.DEFAULT_COLOR,p.DEFAULT_EXT,P)}})}beginFrame(){return this._requestClearModel}clearTexture(){if(this._pages[0].currentRow.x!==0||this._pages[0].currentRow.y!==0){for(const R of this._pages)R.clear();this._cacheMap.clear(),this._cacheMapCombined.clear(),this._didWarmUp=!1}}_createNewPage(){if(w.maxAtlasPages&&this._pages.length>=Math.max(4,w.maxAtlasPages)){const I=this._pages.filter(H=>2*H.canvas.width<=(w.maxTextureSize||4096)).sort((H,z)=>z.canvas.width!==H.canvas.width?z.canvas.width-H.canvas.width:z.percentageUsed-H.percentageUsed);let P=-1,$=0;for(let H=0;H<I.length;H++)if(I[H].canvas.width!==$)P=H,$=I[H].canvas.width;else if(H-P==3)break;const F=I.slice(P,P+4),U=F.map(H=>H.glyphs[0].texturePage).sort((H,z)=>H>z?1:-1),Y=this.pages.length-F.length,k=this._mergePages(F,Y);k.version++;for(let H=U.length-1;H>=0;H--)this._deletePage(U[H]);this.pages.push(k),this._requestClearModel=!0,this._onAddTextureAtlasCanvas.fire(k.canvas)}const R=new A(this._document,this._textureSize);return this._pages.push(R),this._activePages.push(R),this._onAddTextureAtlasCanvas.fire(R.canvas),R}_mergePages(R,I){const P=2*R[0].canvas.width,$=new A(this._document,P,R);for(const[F,U]of R.entries()){const Y=F*U.canvas.width%P,k=Math.floor(F/2)*U.canvas.height;$.ctx.drawImage(U.canvas,Y,k);for(const z of U.glyphs)z.texturePage=I,z.sizeClipSpace.x=z.size.x/P,z.sizeClipSpace.y=z.size.y/P,z.texturePosition.x+=Y,z.texturePosition.y+=k,z.texturePositionClipSpace.x=z.texturePosition.x/P,z.texturePositionClipSpace.y=z.texturePosition.y/P;this._onRemoveTextureAtlasCanvas.fire(U.canvas);const H=this._activePages.indexOf(U);H!==-1&&this._activePages.splice(H,1)}return $}_deletePage(R){this._pages.splice(R,1);for(let I=R;I<this._pages.length;I++){const P=this._pages[I];for(const $ of P.glyphs)$.texturePage--;P.version++}}getRasterizedGlyphCombinedChar(R,I,P,$,F){return this._getFromCacheMap(this._cacheMapCombined,R,I,P,$,F)}getRasterizedGlyph(R,I,P,$,F){return this._getFromCacheMap(this._cacheMap,R,I,P,$,F)}_getFromCacheMap(R,I,P,$,F,U=!1){return C=R.get(I,P,$,F),C||(C=this._drawToCache(I,P,$,F,U),R.set(I,P,$,F,C)),C}_getColorFromAnsiIndex(R){if(R>=this._config.colors.ansi.length)throw new Error("No color found for idx "+R);return this._config.colors.ansi[R]}_getBackgroundColor(R,I,P,$){if(this._config.allowTransparency)return g.NULL_COLOR;let F;switch(R){case 16777216:case 33554432:F=this._getColorFromAnsiIndex(I);break;case 50331648:const U=f.AttributeData.toColorRGB(I);F=g.rgba.toColor(U[0],U[1],U[2]);break;default:F=P?g.color.opaque(this._config.colors.foreground):this._config.colors.background}return F}_getForegroundColor(R,I,P,$,F,U,Y,k,H,z){const X=this._getMinimumContrastColor(R,I,P,$,F,U,!1,H,k,z);if(X)return X;let te;switch(F){case 16777216:case 33554432:this._config.drawBoldTextInBrightColors&&H&&U<8&&(U+=8),te=this._getColorFromAnsiIndex(U);break;case 50331648:const J=f.AttributeData.toColorRGB(U);te=g.rgba.toColor(J[0],J[1],J[2]);break;default:te=Y?this._config.colors.background:this._config.colors.foreground}return this._config.allowTransparency&&(te=g.color.opaque(te)),k&&(te=g.color.multiplyOpacity(te,h.DIM_OPACITY)),te}_resolveBackgroundRgba(R,I,P){switch(R){case 16777216:case 33554432:return this._getColorFromAnsiIndex(I).rgba;case 50331648:return I<<8;default:return P?this._config.colors.foreground.rgba:this._config.colors.background.rgba}}_resolveForegroundRgba(R,I,P,$){switch(R){case 16777216:case 33554432:return this._config.drawBoldTextInBrightColors&&$&&I<8&&(I+=8),this._getColorFromAnsiIndex(I).rgba;case 50331648:return I<<8;default:return P?this._config.colors.background.rgba:this._config.colors.foreground.rgba}}_getMinimumContrastColor(R,I,P,$,F,U,Y,k,H,z){if(this._config.minimumContrastRatio===1||z)return;const X=this._getContrastCache(H),te=X.getColor(R,$);if(te!==void 0)return te||void 0;const J=this._resolveBackgroundRgba(I,P,Y),V=this._resolveForegroundRgba(F,U,Y,k),se=g.rgba.ensureContrastRatio(J,V,this._config.minimumContrastRatio/(H?2:1));if(!se)return void X.setColor(R,$,null);const be=g.rgba.toColor(se>>24&255,se>>16&255,se>>8&255);return X.setColor(R,$,be),be}_getContrastCache(R){return R?this._config.colors.halfContrastCache:this._config.colors.contrastCache}_drawToCache(R,I,P,$,F=!1){const U=typeof R=="number"?String.fromCharCode(R):R,Y=Math.min(this._config.deviceCellWidth*Math.max(U.length,2)+4,this._textureSize);this._tmpCanvas.width<Y&&(this._tmpCanvas.width=Y);const k=Math.min(this._config.deviceCellHeight+8,this._textureSize);if(this._tmpCanvas.height<k&&(this._tmpCanvas.height=k),this._tmpCtx.save(),this._workAttributeData.fg=P,this._workAttributeData.bg=I,this._workAttributeData.extended.ext=$,this._workAttributeData.isInvisible())return d;const H=!!this._workAttributeData.isBold(),z=!!this._workAttributeData.isInverse(),X=!!this._workAttributeData.isDim(),te=!!this._workAttributeData.isItalic(),J=!!this._workAttributeData.isUnderline(),V=!!this._workAttributeData.isStrikethrough(),se=!!this._workAttributeData.isOverline();let be=this._workAttributeData.getFgColor(),B=this._workAttributeData.getFgColorMode(),j=this._workAttributeData.getBgColor(),N=this._workAttributeData.getBgColorMode();if(z){const Ge=be;be=j,j=Ge;const ot=B;B=N,N=ot}const Q=this._getBackgroundColor(N,j,z,X);this._tmpCtx.globalCompositeOperation="copy",this._tmpCtx.fillStyle=Q.css,this._tmpCtx.fillRect(0,0,this._tmpCanvas.width,this._tmpCanvas.height),this._tmpCtx.globalCompositeOperation="source-over";const ce=H?this._config.fontWeightBold:this._config.fontWeight,ue=te?"italic":"";this._tmpCtx.font=`${ue} ${ce} ${this._config.fontSize*this._config.devicePixelRatio}px ${this._config.fontFamily}`,this._tmpCtx.textBaseline=h.TEXT_BASELINE;const pe=U.length===1&&(0,u.isPowerlineGlyph)(U.charCodeAt(0)),Te=U.length===1&&(0,u.isRestrictedPowerlineGlyph)(U.charCodeAt(0)),ve=this._getForegroundColor(I,N,j,P,B,be,z,X,H,(0,u.excludeFromContrastRatioDemands)(U.charCodeAt(0)));this._tmpCtx.fillStyle=ve.css;const Ce=Te?0:4;let xe=!1;this._config.customGlyphs!==!1&&(xe=(0,o.tryDrawCustomChar)(this._tmpCtx,U,Ce,Ce,this._config.deviceCellWidth,this._config.deviceCellHeight,this._config.fontSize,this._config.devicePixelRatio));let qe,lt=!pe;if(qe=typeof R=="number"?this._unicodeService.wcwidth(R):this._unicodeService.getStringCellWidth(R),J){this._tmpCtx.save();const Ge=Math.max(1,Math.floor(this._config.fontSize*this._config.devicePixelRatio/15)),ot=Ge%2==1?.5:0;if(this._tmpCtx.lineWidth=Ge,this._workAttributeData.isUnderlineColorDefault())this._tmpCtx.strokeStyle=this._tmpCtx.fillStyle;else if(this._workAttributeData.isUnderlineColorRGB())lt=!1,this._tmpCtx.strokeStyle=`rgb(${f.AttributeData.toColorRGB(this._workAttributeData.getUnderlineColor()).join(",")})`;else{lt=!1;let me=this._workAttributeData.getUnderlineColor();this._config.drawBoldTextInBrightColors&&this._workAttributeData.isBold()&&me<8&&(me+=8),this._tmpCtx.strokeStyle=this._getColorFromAnsiIndex(me).css}this._tmpCtx.beginPath();const Ye=Ce,Xe=Math.ceil(Ce+this._config.deviceCharHeight)-ot-(F?2*Ge:0),_e=Xe+Ge,le=Xe+2*Ge;for(let me=0;me<qe;me++){this._tmpCtx.save();const fe=Ye+me*this._config.deviceCellWidth,Re=Ye+(me+1)*this._config.deviceCellWidth,q=fe+this._config.deviceCellWidth/2;switch(this._workAttributeData.extended.underlineStyle){case 2:this._tmpCtx.moveTo(fe,Xe),this._tmpCtx.lineTo(Re,Xe),this._tmpCtx.moveTo(fe,le),this._tmpCtx.lineTo(Re,le);break;case 3:const ne=Ge<=1?le:Math.ceil(Ce+this._config.deviceCharHeight-Ge/2)-ot,de=Ge<=1?Xe:Math.ceil(Ce+this._config.deviceCharHeight+Ge/2)-ot,we=new Path2D;we.rect(fe,Xe,this._config.deviceCellWidth,le-Xe),this._tmpCtx.clip(we),this._tmpCtx.moveTo(fe-this._config.deviceCellWidth/2,_e),this._tmpCtx.bezierCurveTo(fe-this._config.deviceCellWidth/2,de,fe,de,fe,_e),this._tmpCtx.bezierCurveTo(fe,ne,q,ne,q,_e),this._tmpCtx.bezierCurveTo(q,de,Re,de,Re,_e),this._tmpCtx.bezierCurveTo(Re,ne,Re+this._config.deviceCellWidth/2,ne,Re+this._config.deviceCellWidth/2,_e);break;case 4:this._tmpCtx.setLineDash([Math.round(Ge),Math.round(Ge)]),this._tmpCtx.moveTo(fe,Xe),this._tmpCtx.lineTo(Re,Xe);break;case 5:this._tmpCtx.setLineDash([4*this._config.devicePixelRatio,3*this._config.devicePixelRatio]),this._tmpCtx.moveTo(fe,Xe),this._tmpCtx.lineTo(Re,Xe);break;default:this._tmpCtx.moveTo(fe,Xe),this._tmpCtx.lineTo(Re,Xe)}this._tmpCtx.stroke(),this._tmpCtx.restore()}if(this._tmpCtx.restore(),!xe&&this._config.fontSize>=12&&!this._config.allowTransparency&&U!==" "){this._tmpCtx.save(),this._tmpCtx.textBaseline="alphabetic";const me=this._tmpCtx.measureText(U);if(this._tmpCtx.restore(),"actualBoundingBoxDescent"in me&&me.actualBoundingBoxDescent>0){this._tmpCtx.save();const fe=new Path2D;fe.rect(Ye,Xe-Math.ceil(Ge/2),this._config.deviceCellWidth*qe,le-Xe+Math.ceil(Ge/2)),this._tmpCtx.clip(fe),this._tmpCtx.lineWidth=3*this._config.devicePixelRatio,this._tmpCtx.strokeStyle=Q.css,this._tmpCtx.strokeText(U,Ce,Ce+this._config.deviceCharHeight),this._tmpCtx.restore()}}}if(se){const Ge=Math.max(1,Math.floor(this._config.fontSize*this._config.devicePixelRatio/15)),ot=Ge%2==1?.5:0;this._tmpCtx.lineWidth=Ge,this._tmpCtx.strokeStyle=this._tmpCtx.fillStyle,this._tmpCtx.beginPath(),this._tmpCtx.moveTo(Ce,Ce+ot),this._tmpCtx.lineTo(Ce+this._config.deviceCharWidth*qe,Ce+ot),this._tmpCtx.stroke()}if(xe||this._tmpCtx.fillText(U,Ce,Ce+this._config.deviceCharHeight),U==="_"&&!this._config.allowTransparency){let Ge=E(this._tmpCtx.getImageData(Ce,Ce,this._config.deviceCellWidth,this._config.deviceCellHeight),Q,ve,lt);if(Ge)for(let ot=1;ot<=5&&(this._tmpCtx.save(),this._tmpCtx.fillStyle=Q.css,this._tmpCtx.fillRect(0,0,this._tmpCanvas.width,this._tmpCanvas.height),this._tmpCtx.restore(),this._tmpCtx.fillText(U,Ce,Ce+this._config.deviceCharHeight-ot),Ge=E(this._tmpCtx.getImageData(Ce,Ce,this._config.deviceCellWidth,this._config.deviceCellHeight),Q,ve,lt),Ge);ot++);}if(V){const Ge=Math.max(1,Math.floor(this._config.fontSize*this._config.devicePixelRatio/10)),ot=this._tmpCtx.lineWidth%2==1?.5:0;this._tmpCtx.lineWidth=Ge,this._tmpCtx.strokeStyle=this._tmpCtx.fillStyle,this._tmpCtx.beginPath(),this._tmpCtx.moveTo(Ce,Ce+Math.floor(this._config.deviceCharHeight/2)-ot),this._tmpCtx.lineTo(Ce+this._config.deviceCharWidth*qe,Ce+Math.floor(this._config.deviceCharHeight/2)-ot),this._tmpCtx.stroke()}this._tmpCtx.restore();const Ve=this._tmpCtx.getImageData(0,0,this._tmpCanvas.width,this._tmpCanvas.height);let tt;if(tt=this._config.allowTransparency?function(Ge){for(let ot=0;ot<Ge.data.length;ot+=4)if(Ge.data[ot+3]>0)return!1;return!0}(Ve):E(Ve,Q,ve,lt),tt)return d;const Be=this._findGlyphBoundingBox(Ve,this._workBoundingBox,Y,Te,xe,Ce);let Qe,Fe;for(;;){if(this._activePages.length===0){const Ge=this._createNewPage();Qe=Ge,Fe=Ge.currentRow,Fe.height=Be.size.y;break}Qe=this._activePages[this._activePages.length-1],Fe=Qe.currentRow;for(const Ge of this._activePages)Be.size.y<=Ge.currentRow.height&&(Qe=Ge,Fe=Ge.currentRow);for(let Ge=this._activePages.length-1;Ge>=0;Ge--)for(const ot of this._activePages[Ge].fixedRows)ot.height<=Fe.height&&Be.size.y<=ot.height&&(Qe=this._activePages[Ge],Fe=ot);if(Fe.y+Be.size.y>=Qe.canvas.height||Fe.height>Be.size.y+2){let Ge=!1;if(Qe.currentRow.y+Qe.currentRow.height+Be.size.y>=Qe.canvas.height){let ot;for(const Ye of this._activePages)if(Ye.currentRow.y+Ye.currentRow.height+Be.size.y<Ye.canvas.height){ot=Ye;break}if(ot)Qe=ot;else if(w.maxAtlasPages&&this._pages.length>=w.maxAtlasPages&&Fe.y+Be.size.y<=Qe.canvas.height&&Fe.height>=Be.size.y&&Fe.x+Be.size.x<=Qe.canvas.width)Ge=!0;else{const Ye=this._createNewPage();Qe=Ye,Fe=Ye.currentRow,Fe.height=Be.size.y,Ge=!0}}Ge||(Qe.currentRow.height>0&&Qe.fixedRows.push(Qe.currentRow),Fe={x:0,y:Qe.currentRow.y+Qe.currentRow.height,height:Be.size.y},Qe.fixedRows.push(Fe),Qe.currentRow={x:0,y:Fe.y+Fe.height,height:0})}if(Fe.x+Be.size.x<=Qe.canvas.width)break;Fe===Qe.currentRow?(Fe.x=0,Fe.y+=Fe.height,Fe.height=0):Qe.fixedRows.splice(Qe.fixedRows.indexOf(Fe),1)}return Be.texturePage=this._pages.indexOf(Qe),Be.texturePosition.x=Fe.x,Be.texturePosition.y=Fe.y,Be.texturePositionClipSpace.x=Fe.x/Qe.canvas.width,Be.texturePositionClipSpace.y=Fe.y/Qe.canvas.height,Be.sizeClipSpace.x/=Qe.canvas.width,Be.sizeClipSpace.y/=Qe.canvas.height,Fe.height=Math.max(Fe.height,Be.size.y),Fe.x+=Be.size.x,Qe.ctx.putImageData(Ve,Be.texturePosition.x-this._workBoundingBox.left,Be.texturePosition.y-this._workBoundingBox.top,this._workBoundingBox.left,this._workBoundingBox.top,Be.size.x,Be.size.y),Qe.addGlyph(Be),Qe.version++,Be}_findGlyphBoundingBox(R,I,P,$,F,U){I.top=0;const Y=$?this._config.deviceCellHeight:this._tmpCanvas.height,k=$?this._config.deviceCellWidth:P;let H=!1;for(let z=0;z<Y;z++){for(let X=0;X<k;X++){const te=z*this._tmpCanvas.width*4+4*X+3;if(R.data[te]!==0){I.top=z,H=!0;break}}if(H)break}I.left=0,H=!1;for(let z=0;z<U+k;z++){for(let X=0;X<Y;X++){const te=X*this._tmpCanvas.width*4+4*z+3;if(R.data[te]!==0){I.left=z,H=!0;break}}if(H)break}I.right=k,H=!1;for(let z=U+k-1;z>=U;z--){for(let X=0;X<Y;X++){const te=X*this._tmpCanvas.width*4+4*z+3;if(R.data[te]!==0){I.right=z,H=!0;break}}if(H)break}I.bottom=Y,H=!1;for(let z=Y-1;z>=0;z--){for(let X=0;X<k;X++){const te=z*this._tmpCanvas.width*4+4*X+3;if(R.data[te]!==0){I.bottom=z,H=!0;break}}if(H)break}return{texturePage:0,texturePosition:{x:0,y:0},texturePositionClipSpace:{x:0,y:0},size:{x:I.right-I.left+1,y:I.bottom-I.top+1},sizeClipSpace:{x:I.right-I.left+1,y:I.bottom-I.top+1},offset:{x:-I.left+U+($||F?Math.floor((this._config.deviceCellWidth-this._config.deviceCharWidth)/2):0),y:-I.top+U+($||F?this._config.lineHeight===1?0:Math.round((this._config.deviceCellHeight-this._config.deviceCharHeight)/2):0)}}}}t.TextureAtlas=w,i([v.traceCall],w.prototype,"_drawToCache",null);class A{get percentageUsed(){return this._usedPixels/(this.canvas.width*this.canvas.height)}get glyphs(){return this._glyphs}addGlyph(R){this._glyphs.push(R),this._usedPixels+=R.size.x*R.size.y}constructor(R,I,P){if(this._usedPixels=0,this._glyphs=[],this.version=0,this.currentRow={x:0,y:0,height:0},this.fixedRows=[],P)for(const $ of P)this._glyphs.push(...$.glyphs),this._usedPixels+=$._usedPixels;this.canvas=L(R,I,I),this.ctx=(0,u.throwIfFalsy)(this.canvas.getContext("2d",{alpha:!0}))}clear(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.currentRow.x=0,this.currentRow.y=0,this.currentRow.height=0,this.fixedRows.length=0,this.version++}}function E(D,R,I,P){const $=R.rgba>>>24,F=R.rgba>>>16&255,U=R.rgba>>>8&255,Y=I.rgba>>>24,k=I.rgba>>>16&255,H=I.rgba>>>8&255,z=Math.floor((Math.abs($-Y)+Math.abs(F-k)+Math.abs(U-H))/12);let X=!0;for(let te=0;te<D.data.length;te+=4)D.data[te]===$&&D.data[te+1]===F&&D.data[te+2]===U||P&&Math.abs(D.data[te]-$)+Math.abs(D.data[te+1]-F)+Math.abs(D.data[te+2]-U)<z?D.data[te+3]=0:X=!1;return X}function L(D,R,I){const P=D.createElement("canvas");return P.width=R,P.height=I,P}},577:function(l,t,n){var i=this&&this.__decorate||function(f,p,v,d){var C,w=arguments.length,A=w<3?p:d===null?d=Object.getOwnPropertyDescriptor(p,v):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(f,p,v,d);else for(var E=f.length-1;E>=0;E--)(C=f[E])&&(A=(w<3?C(A):w>3?C(p,v,A):C(p,v))||A);return w>3&&A&&Object.defineProperty(p,v,A),A},h=this&&this.__param||function(f,p){return function(v,d){p(v,d,f)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CharacterJoinerService=t.JoinedCellData=void 0;const o=n(147),u=n(855),g=n(782),_=n(97);class m extends o.AttributeData{constructor(p,v,d){super(),this.content=0,this.combinedData="",this.fg=p.fg,this.bg=p.bg,this.combinedData=v,this._width=d}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(p){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}t.JoinedCellData=m;let r=t.CharacterJoinerService=class ig{constructor(p){this._bufferService=p,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new g.CellData}register(p){const v={id:this._nextCharacterJoinerId++,handler:p};return this._characterJoiners.push(v),v.id}deregister(p){for(let v=0;v<this._characterJoiners.length;v++)if(this._characterJoiners[v].id===p)return this._characterJoiners.splice(v,1),!0;return!1}getJoinedCharacters(p){if(this._characterJoiners.length===0)return[];const v=this._bufferService.buffer.lines.get(p);if(!v||v.length===0)return[];const d=[],C=v.translateToString(!0);let w=0,A=0,E=0,L=v.getFg(0),D=v.getBg(0);for(let R=0;R<v.getTrimmedLength();R++)if(v.loadCell(R,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==L||this._workCell.bg!==D){if(R-w>1){const I=this._getJoinedRanges(C,E,A,v,w);for(let P=0;P<I.length;P++)d.push(I[P])}w=R,E=A,L=this._workCell.fg,D=this._workCell.bg}A+=this._workCell.getChars().length||u.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-w>1){const R=this._getJoinedRanges(C,E,A,v,w);for(let I=0;I<R.length;I++)d.push(R[I])}return d}_getJoinedRanges(p,v,d,C,w){const A=p.substring(v,d);let E=[];try{E=this._characterJoiners[0].handler(A)}catch(L){console.error(L)}for(let L=1;L<this._characterJoiners.length;L++)try{const D=this._characterJoiners[L].handler(A);for(let R=0;R<D.length;R++)ig._mergeRanges(E,D[R])}catch(D){console.error(D)}return this._stringRangesToCellRanges(E,C,w),E}_stringRangesToCellRanges(p,v,d){let C=0,w=!1,A=0,E=p[C];if(E){for(let L=d;L<this._bufferService.cols;L++){const D=v.getWidth(L),R=v.getString(L).length||u.WHITESPACE_CELL_CHAR.length;if(D!==0){if(!w&&E[0]<=A&&(E[0]=L,w=!0),E[1]<=A){if(E[1]=L,E=p[++C],!E)break;E[0]<=A?(E[0]=L,w=!0):w=!1}A+=R}}E&&(E[1]=this._bufferService.cols)}}static _mergeRanges(p,v){let d=!1;for(let C=0;C<p.length;C++){const w=p[C];if(d){if(v[1]<=w[0])return p[C-1][1]=v[1],p;if(v[1]<=w[1])return p[C-1][1]=Math.max(v[1],w[1]),p.splice(C,1),p;p.splice(C,1),C--}else{if(v[1]<=w[0])return p.splice(C,0,v),p;if(v[1]<=w[1])return w[0]=Math.min(v[0],w[0]),p;v[0]<w[1]&&(w[0]=Math.min(v[0],w[0]),d=!0)}}return d?p[p.length-1][1]=v[1]:p.push(v),p}};t.CharacterJoinerService=r=i([h(0,_.IBufferService)],r)},160:(l,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.contrastRatio=t.toPaddedHex=t.rgba=t.rgb=t.css=t.color=t.channels=t.NULL_COLOR=void 0;const i=n(399);let h=0,o=0,u=0,g=0;var _,m,r,f,p;function v(C){const w=C.toString(16);return w.length<2?"0"+w:w}function d(C,w){return C<w?(w+.05)/(C+.05):(C+.05)/(w+.05)}t.NULL_COLOR={css:"#00000000",rgba:0},function(C){C.toCss=function(w,A,E,L){return L!==void 0?`#${v(w)}${v(A)}${v(E)}${v(L)}`:`#${v(w)}${v(A)}${v(E)}`},C.toRgba=function(w,A,E,L=255){return(w<<24|A<<16|E<<8|L)>>>0}}(_||(t.channels=_={})),function(C){function w(A,E){return g=Math.round(255*E),[h,o,u]=p.toChannels(A.rgba),{css:_.toCss(h,o,u,g),rgba:_.toRgba(h,o,u,g)}}C.blend=function(A,E){if(g=(255&E.rgba)/255,g===1)return{css:E.css,rgba:E.rgba};const L=E.rgba>>24&255,D=E.rgba>>16&255,R=E.rgba>>8&255,I=A.rgba>>24&255,P=A.rgba>>16&255,$=A.rgba>>8&255;return h=I+Math.round((L-I)*g),o=P+Math.round((D-P)*g),u=$+Math.round((R-$)*g),{css:_.toCss(h,o,u),rgba:_.toRgba(h,o,u)}},C.isOpaque=function(A){return(255&A.rgba)==255},C.ensureContrastRatio=function(A,E,L){const D=p.ensureContrastRatio(A.rgba,E.rgba,L);if(D)return p.toColor(D>>24&255,D>>16&255,D>>8&255)},C.opaque=function(A){const E=(255|A.rgba)>>>0;return[h,o,u]=p.toChannels(E),{css:_.toCss(h,o,u),rgba:E}},C.opacity=w,C.multiplyOpacity=function(A,E){return g=255&A.rgba,w(A,g*E/255)},C.toColorRGB=function(A){return[A.rgba>>24&255,A.rgba>>16&255,A.rgba>>8&255]}}(m||(t.color=m={})),function(C){let w,A;if(!i.isNode){const E=document.createElement("canvas");E.width=1,E.height=1;const L=E.getContext("2d",{willReadFrequently:!0});L&&(w=L,w.globalCompositeOperation="copy",A=w.createLinearGradient(0,0,1,1))}C.toColor=function(E){if(E.match(/#[\da-f]{3,8}/i))switch(E.length){case 4:return h=parseInt(E.slice(1,2).repeat(2),16),o=parseInt(E.slice(2,3).repeat(2),16),u=parseInt(E.slice(3,4).repeat(2),16),p.toColor(h,o,u);case 5:return h=parseInt(E.slice(1,2).repeat(2),16),o=parseInt(E.slice(2,3).repeat(2),16),u=parseInt(E.slice(3,4).repeat(2),16),g=parseInt(E.slice(4,5).repeat(2),16),p.toColor(h,o,u,g);case 7:return{css:E,rgba:(parseInt(E.slice(1),16)<<8|255)>>>0};case 9:return{css:E,rgba:parseInt(E.slice(1),16)>>>0}}const L=E.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(L)return h=parseInt(L[1]),o=parseInt(L[2]),u=parseInt(L[3]),g=Math.round(255*(L[5]===void 0?1:parseFloat(L[5]))),p.toColor(h,o,u,g);if(!w||!A)throw new Error("css.toColor: Unsupported css format");if(w.fillStyle=A,w.fillStyle=E,typeof w.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(w.fillRect(0,0,1,1),[h,o,u,g]=w.getImageData(0,0,1,1).data,g!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:_.toRgba(h,o,u,g),css:E}}}(r||(t.css=r={})),function(C){function w(A,E,L){const D=A/255,R=E/255,I=L/255;return .2126*(D<=.03928?D/12.92:Math.pow((D+.055)/1.055,2.4))+.7152*(R<=.03928?R/12.92:Math.pow((R+.055)/1.055,2.4))+.0722*(I<=.03928?I/12.92:Math.pow((I+.055)/1.055,2.4))}C.relativeLuminance=function(A){return w(A>>16&255,A>>8&255,255&A)},C.relativeLuminance2=w}(f||(t.rgb=f={})),function(C){function w(E,L,D){const R=E>>24&255,I=E>>16&255,P=E>>8&255;let $=L>>24&255,F=L>>16&255,U=L>>8&255,Y=d(f.relativeLuminance2($,F,U),f.relativeLuminance2(R,I,P));for(;Y<D&&($>0||F>0||U>0);)$-=Math.max(0,Math.ceil(.1*$)),F-=Math.max(0,Math.ceil(.1*F)),U-=Math.max(0,Math.ceil(.1*U)),Y=d(f.relativeLuminance2($,F,U),f.relativeLuminance2(R,I,P));return($<<24|F<<16|U<<8|255)>>>0}function A(E,L,D){const R=E>>24&255,I=E>>16&255,P=E>>8&255;let $=L>>24&255,F=L>>16&255,U=L>>8&255,Y=d(f.relativeLuminance2($,F,U),f.relativeLuminance2(R,I,P));for(;Y<D&&($<255||F<255||U<255);)$=Math.min(255,$+Math.ceil(.1*(255-$))),F=Math.min(255,F+Math.ceil(.1*(255-F))),U=Math.min(255,U+Math.ceil(.1*(255-U))),Y=d(f.relativeLuminance2($,F,U),f.relativeLuminance2(R,I,P));return($<<24|F<<16|U<<8|255)>>>0}C.ensureContrastRatio=function(E,L,D){const R=f.relativeLuminance(E>>8),I=f.relativeLuminance(L>>8);if(d(R,I)<D){if(I<R){const F=w(E,L,D),U=d(R,f.relativeLuminance(F>>8));if(U<D){const Y=A(E,L,D);return U>d(R,f.relativeLuminance(Y>>8))?F:Y}return F}const P=A(E,L,D),$=d(R,f.relativeLuminance(P>>8));if($<D){const F=w(E,L,D);return $>d(R,f.relativeLuminance(F>>8))?P:F}return P}},C.reduceLuminance=w,C.increaseLuminance=A,C.toChannels=function(E){return[E>>24&255,E>>16&255,E>>8&255,255&E]},C.toColor=function(E,L,D,R){return{css:_.toCss(E,L,D,R),rgba:_.toRgba(E,L,D,R)}}}(p||(t.rgba=p={})),t.toPaddedHex=v,t.contrastRatio=d},345:(l,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.forwardEvent=t.EventEmitter=void 0,t.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=n=>(this._listeners.push(n),{dispose:()=>{if(!this._disposed){for(let i=0;i<this._listeners.length;i++)if(this._listeners[i]===n)return void this._listeners.splice(i,1)}}})),this._event}fire(n,i){const h=[];for(let o=0;o<this._listeners.length;o++)h.push(this._listeners[o]);for(let o=0;o<h.length;o++)h[o].call(void 0,n,i)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},t.forwardEvent=function(n,i){return n(h=>i.fire(h))}},859:(l,t)=>{function n(i){for(const h of i)h.dispose();i.length=0}Object.defineProperty(t,"__esModule",{value:!0}),t.getDisposeArrayDisposable=t.disposeArray=t.toDisposable=t.MutableDisposable=t.Disposable=void 0,t.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const i of this._disposables)i.dispose();this._disposables.length=0}register(i){return this._disposables.push(i),i}unregister(i){const h=this._disposables.indexOf(i);h!==-1&&this._disposables.splice(h,1)}},t.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(i){var h;this._isDisposed||i===this._value||((h=this._value)===null||h===void 0||h.dispose(),this._value=i)}clear(){this.value=void 0}dispose(){var i;this._isDisposed=!0,(i=this._value)===null||i===void 0||i.dispose(),this._value=void 0}},t.toDisposable=function(i){return{dispose:i}},t.disposeArray=n,t.getDisposeArrayDisposable=function(i){return{dispose:()=>n(i)}}},485:(l,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FourKeyMap=t.TwoKeyMap=void 0;class n{constructor(){this._data={}}set(h,o,u){this._data[h]||(this._data[h]={}),this._data[h][o]=u}get(h,o){return this._data[h]?this._data[h][o]:void 0}clear(){this._data={}}}t.TwoKeyMap=n,t.FourKeyMap=class{constructor(){this._data=new n}set(i,h,o,u,g){this._data.get(i,h)||this._data.set(i,h,new n),this._data.get(i,h).set(o,u,g)}get(i,h,o,u){var g;return(g=this._data.get(i,h))===null||g===void 0?void 0:g.get(o,u)}clear(){this._data.clear()}}},399:(l,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isChromeOS=t.isLinux=t.isWindows=t.isIphone=t.isIpad=t.isMac=t.getSafariVersion=t.isSafari=t.isLegacyEdge=t.isFirefox=t.isNode=void 0,t.isNode=typeof navigator>"u";const n=t.isNode?"node":navigator.userAgent,i=t.isNode?"node":navigator.platform;t.isFirefox=n.includes("Firefox"),t.isLegacyEdge=n.includes("Edge"),t.isSafari=/^((?!chrome|android).)*safari/i.test(n),t.getSafariVersion=function(){if(!t.isSafari)return 0;const h=n.match(/Version\/(\d+)/);return h===null||h.length<2?0:parseInt(h[1])},t.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(i),t.isIpad=i==="iPad",t.isIphone=i==="iPhone",t.isWindows=["Windows","Win16","Win32","WinCE"].includes(i),t.isLinux=i.indexOf("Linux")>=0,t.isChromeOS=/\bCrOS\b/.test(n)},385:(l,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DebouncedIdleTask=t.IdleTaskQueue=t.PriorityTaskQueue=void 0;const i=n(399);class h{constructor(){this._tasks=[],this._i=0}enqueue(g){this._tasks.push(g),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(g){this._idleCallback=void 0;let _=0,m=0,r=g.timeRemaining(),f=0;for(;this._i<this._tasks.length;){if(_=Date.now(),this._tasks[this._i]()||this._i++,_=Math.max(1,Date.now()-_),m=Math.max(_,m),f=g.timeRemaining(),1.5*m>f)return r-_<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(r-_))}ms`),void this._start();r=f}this.clear()}}class o extends h{_requestCallback(g){return setTimeout(()=>g(this._createDeadline(16)))}_cancelCallback(g){clearTimeout(g)}_createDeadline(g){const _=Date.now()+g;return{timeRemaining:()=>Math.max(0,_-Date.now())}}}t.PriorityTaskQueue=o,t.IdleTaskQueue=!i.isNode&&"requestIdleCallback"in window?class extends h{_requestCallback(u){return requestIdleCallback(u)}_cancelCallback(u){cancelIdleCallback(u)}}:o,t.DebouncedIdleTask=class{constructor(){this._queue=new t.IdleTaskQueue}set(u){this._queue.clear(),this._queue.enqueue(u)}flush(){this._queue.flush()}}},147:(l,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ExtendedAttrs=t.AttributeData=void 0;class n{constructor(){this.fg=0,this.bg=0,this.extended=new i}static toColorRGB(o){return[o>>>16&255,o>>>8&255,255&o]}static fromColorRGB(o){return(255&o[0])<<16|(255&o[1])<<8|255&o[2]}clone(){const o=new n;return o.fg=this.fg,o.bg=this.bg,o.extended=this.extended.clone(),o}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}t.AttributeData=n;class i{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(o){this._ext=o}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(o){this._ext&=-469762049,this._ext|=o<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(o){this._ext&=-67108864,this._ext|=67108863&o}get urlId(){return this._urlId}set urlId(o){this._urlId=o}constructor(o=0,u=0){this._ext=0,this._urlId=0,this._ext=o,this._urlId=u}clone(){return new i(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}t.ExtendedAttrs=i},782:(l,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CellData=void 0;const i=n(133),h=n(855),o=n(147);class u extends o.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new o.ExtendedAttrs,this.combinedData=""}static fromCharData(_){const m=new u;return m.setFromCharData(_),m}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,i.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(_){this.fg=_[h.CHAR_DATA_ATTR_INDEX],this.bg=0;let m=!1;if(_[h.CHAR_DATA_CHAR_INDEX].length>2)m=!0;else if(_[h.CHAR_DATA_CHAR_INDEX].length===2){const r=_[h.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=r&&r<=56319){const f=_[h.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=f&&f<=57343?this.content=1024*(r-55296)+f-56320+65536|_[h.CHAR_DATA_WIDTH_INDEX]<<22:m=!0}else m=!0}else this.content=_[h.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|_[h.CHAR_DATA_WIDTH_INDEX]<<22;m&&(this.combinedData=_[h.CHAR_DATA_CHAR_INDEX],this.content=2097152|_[h.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}t.CellData=u},855:(l,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WHITESPACE_CELL_CODE=t.WHITESPACE_CELL_WIDTH=t.WHITESPACE_CELL_CHAR=t.NULL_CELL_CODE=t.NULL_CELL_WIDTH=t.NULL_CELL_CHAR=t.CHAR_DATA_CODE_INDEX=t.CHAR_DATA_WIDTH_INDEX=t.CHAR_DATA_CHAR_INDEX=t.CHAR_DATA_ATTR_INDEX=t.DEFAULT_EXT=t.DEFAULT_ATTR=t.DEFAULT_COLOR=void 0,t.DEFAULT_COLOR=0,t.DEFAULT_ATTR=256|t.DEFAULT_COLOR<<9,t.DEFAULT_EXT=0,t.CHAR_DATA_ATTR_INDEX=0,t.CHAR_DATA_CHAR_INDEX=1,t.CHAR_DATA_WIDTH_INDEX=2,t.CHAR_DATA_CODE_INDEX=3,t.NULL_CELL_CHAR="",t.NULL_CELL_WIDTH=1,t.NULL_CELL_CODE=0,t.WHITESPACE_CELL_CHAR=" ",t.WHITESPACE_CELL_WIDTH=1,t.WHITESPACE_CELL_CODE=32},133:(l,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Utf8ToUtf32=t.StringToUtf32=t.utf32ToString=t.stringFromCodePoint=void 0,t.stringFromCodePoint=function(n){return n>65535?(n-=65536,String.fromCharCode(55296+(n>>10))+String.fromCharCode(n%1024+56320)):String.fromCharCode(n)},t.utf32ToString=function(n,i=0,h=n.length){let o="";for(let u=i;u<h;++u){let g=n[u];g>65535?(g-=65536,o+=String.fromCharCode(55296+(g>>10))+String.fromCharCode(g%1024+56320)):o+=String.fromCharCode(g)}return o},t.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(n,i){const h=n.length;if(!h)return 0;let o=0,u=0;if(this._interim){const g=n.charCodeAt(u++);56320<=g&&g<=57343?i[o++]=1024*(this._interim-55296)+g-56320+65536:(i[o++]=this._interim,i[o++]=g),this._interim=0}for(let g=u;g<h;++g){const _=n.charCodeAt(g);if(55296<=_&&_<=56319){if(++g>=h)return this._interim=_,o;const m=n.charCodeAt(g);56320<=m&&m<=57343?i[o++]=1024*(_-55296)+m-56320+65536:(i[o++]=_,i[o++]=m)}else _!==65279&&(i[o++]=_)}return o}},t.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(n,i){const h=n.length;if(!h)return 0;let o,u,g,_,m=0,r=0,f=0;if(this.interim[0]){let d=!1,C=this.interim[0];C&=(224&C)==192?31:(240&C)==224?15:7;let w,A=0;for(;(w=63&this.interim[++A])&&A<4;)C<<=6,C|=w;const E=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,L=E-A;for(;f<L;){if(f>=h)return 0;if(w=n[f++],(192&w)!=128){f--,d=!0;break}this.interim[A++]=w,C<<=6,C|=63&w}d||(E===2?C<128?f--:i[m++]=C:E===3?C<2048||C>=55296&&C<=57343||C===65279||(i[m++]=C):C<65536||C>1114111||(i[m++]=C)),this.interim.fill(0)}const p=h-4;let v=f;for(;v<h;){for(;!(!(v<p)||128&(o=n[v])||128&(u=n[v+1])||128&(g=n[v+2])||128&(_=n[v+3]));)i[m++]=o,i[m++]=u,i[m++]=g,i[m++]=_,v+=4;if(o=n[v++],o<128)i[m++]=o;else if((224&o)==192){if(v>=h)return this.interim[0]=o,m;if(u=n[v++],(192&u)!=128){v--;continue}if(r=(31&o)<<6|63&u,r<128){v--;continue}i[m++]=r}else if((240&o)==224){if(v>=h)return this.interim[0]=o,m;if(u=n[v++],(192&u)!=128){v--;continue}if(v>=h)return this.interim[0]=o,this.interim[1]=u,m;if(g=n[v++],(192&g)!=128){v--;continue}if(r=(15&o)<<12|(63&u)<<6|63&g,r<2048||r>=55296&&r<=57343||r===65279)continue;i[m++]=r}else if((248&o)==240){if(v>=h)return this.interim[0]=o,m;if(u=n[v++],(192&u)!=128){v--;continue}if(v>=h)return this.interim[0]=o,this.interim[1]=u,m;if(g=n[v++],(192&g)!=128){v--;continue}if(v>=h)return this.interim[0]=o,this.interim[1]=u,this.interim[2]=g,m;if(_=n[v++],(192&_)!=128){v--;continue}if(r=(7&o)<<18|(63&u)<<12|(63&g)<<6|63&_,r<65536||r>1114111)continue;i[m++]=r}}return m}}},776:function(l,t,n){var i=this&&this.__decorate||function(r,f,p,v){var d,C=arguments.length,w=C<3?f:v===null?v=Object.getOwnPropertyDescriptor(f,p):v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(r,f,p,v);else for(var A=r.length-1;A>=0;A--)(d=r[A])&&(w=(C<3?d(w):C>3?d(f,p,w):d(f,p))||w);return C>3&&w&&Object.defineProperty(f,p,w),w},h=this&&this.__param||function(r,f){return function(p,v){f(p,v,r)}};Object.defineProperty(t,"__esModule",{value:!0}),t.traceCall=t.setTraceLogger=t.LogService=void 0;const o=n(859),u=n(97),g={trace:u.LogLevelEnum.TRACE,debug:u.LogLevelEnum.DEBUG,info:u.LogLevelEnum.INFO,warn:u.LogLevelEnum.WARN,error:u.LogLevelEnum.ERROR,off:u.LogLevelEnum.OFF};let _,m=t.LogService=class extends o.Disposable{get logLevel(){return this._logLevel}constructor(r){super(),this._optionsService=r,this._logLevel=u.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),_=this}_updateLogLevel(){this._logLevel=g[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(r){for(let f=0;f<r.length;f++)typeof r[f]=="function"&&(r[f]=r[f]())}_log(r,f,p){this._evalLazyOptionalParams(p),r.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+f,...p)}trace(r,...f){var p,v;this._logLevel<=u.LogLevelEnum.TRACE&&this._log((v=(p=this._optionsService.options.logger)===null||p===void 0?void 0:p.trace.bind(this._optionsService.options.logger))!==null&&v!==void 0?v:console.log,r,f)}debug(r,...f){var p,v;this._logLevel<=u.LogLevelEnum.DEBUG&&this._log((v=(p=this._optionsService.options.logger)===null||p===void 0?void 0:p.debug.bind(this._optionsService.options.logger))!==null&&v!==void 0?v:console.log,r,f)}info(r,...f){var p,v;this._logLevel<=u.LogLevelEnum.INFO&&this._log((v=(p=this._optionsService.options.logger)===null||p===void 0?void 0:p.info.bind(this._optionsService.options.logger))!==null&&v!==void 0?v:console.info,r,f)}warn(r,...f){var p,v;this._logLevel<=u.LogLevelEnum.WARN&&this._log((v=(p=this._optionsService.options.logger)===null||p===void 0?void 0:p.warn.bind(this._optionsService.options.logger))!==null&&v!==void 0?v:console.warn,r,f)}error(r,...f){var p,v;this._logLevel<=u.LogLevelEnum.ERROR&&this._log((v=(p=this._optionsService.options.logger)===null||p===void 0?void 0:p.error.bind(this._optionsService.options.logger))!==null&&v!==void 0?v:console.error,r,f)}};t.LogService=m=i([h(0,u.IOptionsService)],m),t.setTraceLogger=function(r){_=r},t.traceCall=function(r,f,p){if(typeof p.value!="function")throw new Error("not supported");const v=p.value;p.value=function(...d){if(_.logLevel!==u.LogLevelEnum.TRACE)return v.apply(this,d);_.trace(`GlyphRenderer#${v.name}(${d.map(w=>JSON.stringify(w)).join(", ")})`);const C=v.apply(this,d);return _.trace(`GlyphRenderer#${v.name} return`,C),C}}},726:(l,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createDecorator=t.getServiceDependencies=t.serviceRegistry=void 0;const n="di$target",i="di$dependencies";t.serviceRegistry=new Map,t.getServiceDependencies=function(h){return h[i]||[]},t.createDecorator=function(h){if(t.serviceRegistry.has(h))return t.serviceRegistry.get(h);const o=function(u,g,_){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(m,r,f){r[n]===r?r[i].push({id:m,index:f}):(r[i]=[{id:m,index:f}],r[n]=r)})(o,u,_)};return o.toString=()=>h,t.serviceRegistry.set(h,o),o}},97:(l,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IDecorationService=t.IUnicodeService=t.IOscLinkService=t.IOptionsService=t.ILogService=t.LogLevelEnum=t.IInstantiationService=t.ICharsetService=t.ICoreService=t.ICoreMouseService=t.IBufferService=void 0;const i=n(726);var h;t.IBufferService=(0,i.createDecorator)("BufferService"),t.ICoreMouseService=(0,i.createDecorator)("CoreMouseService"),t.ICoreService=(0,i.createDecorator)("CoreService"),t.ICharsetService=(0,i.createDecorator)("CharsetService"),t.IInstantiationService=(0,i.createDecorator)("InstantiationService"),function(o){o[o.TRACE=0]="TRACE",o[o.DEBUG=1]="DEBUG",o[o.INFO=2]="INFO",o[o.WARN=3]="WARN",o[o.ERROR=4]="ERROR",o[o.OFF=5]="OFF"}(h||(t.LogLevelEnum=h={})),t.ILogService=(0,i.createDecorator)("LogService"),t.IOptionsService=(0,i.createDecorator)("OptionsService"),t.IOscLinkService=(0,i.createDecorator)("OscLinkService"),t.IUnicodeService=(0,i.createDecorator)("UnicodeService"),t.IDecorationService=(0,i.createDecorator)("DecorationService")}},b={};function S(l){var t=b[l];if(t!==void 0)return t.exports;var n=b[l]={exports:{}};return c[l].call(n.exports,n,n.exports,S),n.exports}var x={};return(()=>{var l=x;Object.defineProperty(l,"__esModule",{value:!0}),l.CanvasAddon=void 0;const t=S(345),n=S(859),i=S(776),h=S(949);class o extends n.Disposable{constructor(){super(...arguments),this._onChangeTextureAtlas=this.register(new t.EventEmitter),this.onChangeTextureAtlas=this._onChangeTextureAtlas.event,this._onAddTextureAtlasCanvas=this.register(new t.EventEmitter),this.onAddTextureAtlasCanvas=this._onAddTextureAtlasCanvas.event}get textureAtlas(){var g;return(g=this._renderer)===null||g===void 0?void 0:g.textureAtlas}activate(g){const _=g._core;if(!g.element)return void this.register(_.onWillOpen(()=>this.activate(g)));this._terminal=g;const m=_.coreService,r=_.optionsService,f=_.screenElement,p=_.linkifier2,v=_,d=v._bufferService,C=v._renderService,w=v._characterJoinerService,A=v._charSizeService,E=v._coreBrowserService,L=v._decorationService,D=v._logService,R=v._themeService;(0,i.setTraceLogger)(D),this._renderer=new h.CanvasRenderer(g,f,p,d,A,r,w,m,E,L,R),this.register((0,t.forwardEvent)(this._renderer.onChangeTextureAtlas,this._onChangeTextureAtlas)),this.register((0,t.forwardEvent)(this._renderer.onAddTextureAtlasCanvas,this._onAddTextureAtlasCanvas)),C.setRenderer(this._renderer),C.handleResize(d.cols,d.rows),this.register((0,n.toDisposable)(()=>{var I;C.setRenderer(this._terminal._core._createRenderer()),C.handleResize(g.cols,g.rows),(I=this._renderer)===null||I===void 0||I.dispose(),this._renderer=void 0}))}}l.CanvasAddon=o})(),x})())})(ng);var b5=ng.exports,sg={exports:{}};(function(e,a){(function(c,b){e.exports=b()})(self,()=>(()=>{var c={345:(l,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.forwardEvent=t.EventEmitter=void 0,t.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=n=>(this._listeners.push(n),{dispose:()=>{if(!this._disposed){for(let i=0;i<this._listeners.length;i++)if(this._listeners[i]===n)return void this._listeners.splice(i,1)}}})),this._event}fire(n,i){const h=[];for(let o=0;o<this._listeners.length;o++)h.push(this._listeners[o]);for(let o=0;o<h.length;o++)h[o].call(void 0,n,i)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},t.forwardEvent=function(n,i){return n(h=>i.fire(h))}},859:(l,t)=>{function n(i){for(const h of i)h.dispose();i.length=0}Object.defineProperty(t,"__esModule",{value:!0}),t.getDisposeArrayDisposable=t.disposeArray=t.toDisposable=t.MutableDisposable=t.Disposable=void 0,t.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const i of this._disposables)i.dispose();this._disposables.length=0}register(i){return this._disposables.push(i),i}unregister(i){const h=this._disposables.indexOf(i);h!==-1&&this._disposables.splice(h,1)}},t.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(i){var h;this._isDisposed||i===this._value||((h=this._value)===null||h===void 0||h.dispose(),this._value=i)}clear(){this.value=void 0}dispose(){var i;this._isDisposed=!0,(i=this._value)===null||i===void 0||i.dispose(),this._value=void 0}},t.toDisposable=function(i){return{dispose:i}},t.disposeArray=n,t.getDisposeArrayDisposable=function(i){return{dispose:()=>n(i)}}}},b={};function S(l){var t=b[l];if(t!==void 0)return t.exports;var n=b[l]={exports:{}};return c[l](n,n.exports,S),n.exports}var x={};return(()=>{var l=x;Object.defineProperty(l,"__esModule",{value:!0}),l.SearchAddon=void 0;const t=S(345),n=S(859),i=" ~!@#$%^&*()+`-=[]{}|\\;:\"',./<>?";class h extends n.Disposable{constructor(u){var g;super(),this._highlightedLines=new Set,this._highlightDecorations=[],this._selectedDecoration=this.register(new n.MutableDisposable),this._linesCacheTimeoutId=0,this._onDidChangeResults=this.register(new t.EventEmitter),this.onDidChangeResults=this._onDidChangeResults.event,this._highlightLimit=(g=u==null?void 0:u.highlightLimit)!==null&&g!==void 0?g:1e3}activate(u){this._terminal=u,this.register(this._terminal.onWriteParsed(()=>this._updateMatches())),this.register(this._terminal.onResize(()=>this._updateMatches())),this.register((0,n.toDisposable)(()=>this.clearDecorations()))}_updateMatches(){var u;this._highlightTimeout&&window.clearTimeout(this._highlightTimeout),this._cachedSearchTerm&&(!((u=this._lastSearchOptions)===null||u===void 0)&&u.decorations)&&(this._highlightTimeout=setTimeout(()=>{const g=this._cachedSearchTerm;this._cachedSearchTerm=void 0,this.findPrevious(g,Object.assign(Object.assign({},this._lastSearchOptions),{incremental:!0,noScroll:!0}))},200))}clearDecorations(u){this._selectedDecoration.clear(),(0,n.disposeArray)(this._highlightDecorations),this._highlightDecorations=[],this._highlightedLines.clear(),u||(this._cachedSearchTerm=void 0)}findNext(u,g){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");this._lastSearchOptions=g,g!=null&&g.decorations&&(this._cachedSearchTerm!==void 0&&u===this._cachedSearchTerm||this._highlightAllMatches(u,g));const _=this._findNextAndSelect(u,g);return this._fireResults(g),this._cachedSearchTerm=u,_}_highlightAllMatches(u,g){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");if(!u||u.length===0)return void this.clearDecorations();g=g||{},this.clearDecorations(!0);const _=[];let m,r=this._find(u,0,0,g);for(;r&&((m==null?void 0:m.row)!==r.row||(m==null?void 0:m.col)!==r.col)&&!(_.length>=this._highlightLimit);)m=r,_.push(m),r=this._find(u,m.col+m.term.length>=this._terminal.cols?m.row+1:m.row,m.col+m.term.length>=this._terminal.cols?0:m.col+1,g);for(const f of _){const p=this._createResultDecoration(f,g.decorations);p&&(this._highlightedLines.add(p.marker.line),this._highlightDecorations.push({decoration:p,match:f,dispose(){p.dispose()}}))}}_find(u,g,_,m){var r;if(!this._terminal||!u||u.length===0)return(r=this._terminal)===null||r===void 0||r.clearSelection(),void this.clearDecorations();if(_>this._terminal.cols)throw new Error(`Invalid col: ${_} to search in terminal of ${this._terminal.cols} cols`);let f;this._initLinesCache();const p={startRow:g,startCol:_};if(f=this._findInLine(u,p,m),!f)for(let v=g+1;v<this._terminal.buffer.active.baseY+this._terminal.rows&&(p.startRow=v,p.startCol=0,f=this._findInLine(u,p,m),!f);v++);return f}_findNextAndSelect(u,g){var _;if(!this._terminal||!u||u.length===0)return(_=this._terminal)===null||_===void 0||_.clearSelection(),this.clearDecorations(),!1;const m=this._terminal.getSelectionPosition();this._terminal.clearSelection();let r=0,f=0;m&&(this._cachedSearchTerm===u?(r=m.end.x,f=m.end.y):(r=m.start.x,f=m.start.y)),this._initLinesCache();const p={startRow:f,startCol:r};let v=this._findInLine(u,p,g);if(!v)for(let d=f+1;d<this._terminal.buffer.active.baseY+this._terminal.rows&&(p.startRow=d,p.startCol=0,v=this._findInLine(u,p,g),!v);d++);if(!v&&f!==0)for(let d=0;d<f&&(p.startRow=d,p.startCol=0,v=this._findInLine(u,p,g),!v);d++);return!v&&m&&(p.startRow=m.start.y,p.startCol=0,v=this._findInLine(u,p,g)),this._selectResult(v,g==null?void 0:g.decorations,g==null?void 0:g.noScroll)}findPrevious(u,g){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");this._lastSearchOptions=g,g!=null&&g.decorations&&(this._cachedSearchTerm!==void 0&&u===this._cachedSearchTerm||this._highlightAllMatches(u,g));const _=this._findPreviousAndSelect(u,g);return this._fireResults(g),this._cachedSearchTerm=u,_}_fireResults(u){if(u!=null&&u.decorations){let g=-1;if(this._selectedDecoration.value){const _=this._selectedDecoration.value.match;for(let m=0;m<this._highlightDecorations.length;m++){const r=this._highlightDecorations[m].match;if(r.row===_.row&&r.col===_.col&&r.size===_.size){g=m;break}}}this._onDidChangeResults.fire({resultIndex:g,resultCount:this._highlightDecorations.length})}}_findPreviousAndSelect(u,g){var _;if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");if(!this._terminal||!u||u.length===0)return(_=this._terminal)===null||_===void 0||_.clearSelection(),this.clearDecorations(),!1;const m=this._terminal.getSelectionPosition();this._terminal.clearSelection();let r=this._terminal.buffer.active.baseY+this._terminal.rows-1,f=this._terminal.cols;const p=!0;this._initLinesCache();const v={startRow:r,startCol:f};let d;if(m&&(v.startRow=r=m.start.y,v.startCol=f=m.start.x,this._cachedSearchTerm!==u&&(d=this._findInLine(u,v,g,!1),d||(v.startRow=r=m.end.y,v.startCol=f=m.end.x))),d||(d=this._findInLine(u,v,g,p)),!d){v.startCol=Math.max(v.startCol,this._terminal.cols);for(let C=r-1;C>=0&&(v.startRow=C,d=this._findInLine(u,v,g,p),!d);C--);}if(!d&&r!==this._terminal.buffer.active.baseY+this._terminal.rows-1)for(let C=this._terminal.buffer.active.baseY+this._terminal.rows-1;C>=r&&(v.startRow=C,d=this._findInLine(u,v,g,p),!d);C--);return this._selectResult(d,g==null?void 0:g.decorations,g==null?void 0:g.noScroll)}_initLinesCache(){const u=this._terminal;this._linesCache||(this._linesCache=new Array(u.buffer.active.length),this._cursorMoveListener=u.onCursorMove(()=>this._destroyLinesCache()),this._resizeListener=u.onResize(()=>this._destroyLinesCache())),window.clearTimeout(this._linesCacheTimeoutId),this._linesCacheTimeoutId=window.setTimeout(()=>this._destroyLinesCache(),15e3)}_destroyLinesCache(){this._linesCache=void 0,this._cursorMoveListener&&(this._cursorMoveListener.dispose(),this._cursorMoveListener=void 0),this._resizeListener&&(this._resizeListener.dispose(),this._resizeListener=void 0),this._linesCacheTimeoutId&&(window.clearTimeout(this._linesCacheTimeoutId),this._linesCacheTimeoutId=0)}_isWholeWord(u,g,_){return(u===0||i.includes(g[u-1]))&&(u+_.length===g.length||i.includes(g[u+_.length]))}_findInLine(u,g,_={},m=!1){var r;const f=this._terminal,p=g.startRow,v=g.startCol,d=f.buffer.active.getLine(p);if(d!=null&&d.isWrapped)return m?void(g.startCol+=f.cols):(g.startRow--,g.startCol+=f.cols,this._findInLine(u,g,_));let C=(r=this._linesCache)===null||r===void 0?void 0:r[p];C||(C=this._translateBufferLineToStringWithWrap(p,!0),this._linesCache&&(this._linesCache[p]=C));const[w,A]=C,E=this._bufferColsToStringOffset(p,v),L=_.caseSensitive?u:u.toLowerCase(),D=_.caseSensitive?w:w.toLowerCase();let R=-1;if(_.regex){const I=RegExp(L,"g");let P;if(m)for(;P=I.exec(D.slice(0,E));)R=I.lastIndex-P[0].length,u=P[0],I.lastIndex-=u.length-1;else P=I.exec(D.slice(E)),P&&P[0].length>0&&(R=E+(I.lastIndex-P[0].length),u=P[0])}else m?E-L.length>=0&&(R=D.lastIndexOf(L,E-L.length)):R=D.indexOf(L,E);if(R>=0){if(_.wholeWord&&!this._isWholeWord(R,D,u))return;let I=0;for(;I<A.length-1&&R>=A[I+1];)I++;let P=I;for(;P<A.length-1&&R+u.length>=A[P+1];)P++;const $=R-A[I],F=R+u.length-A[P],U=this._stringLengthToBufferSize(p+I,$);return{term:u,col:U,row:p+I,size:this._stringLengthToBufferSize(p+P,F)-U+f.cols*(P-I)}}}_stringLengthToBufferSize(u,g){const _=this._terminal.buffer.active.getLine(u);if(!_)return 0;for(let m=0;m<g;m++){const r=_.getCell(m);if(!r)break;const f=r.getChars();f.length>1&&(g-=f.length-1);const p=_.getCell(m+1);p&&p.getWidth()===0&&g++}return g}_bufferColsToStringOffset(u,g){const _=this._terminal;let m=u,r=0,f=_.buffer.active.getLine(m);for(;g>0&&f;){for(let p=0;p<g&&p<_.cols;p++){const v=f.getCell(p);if(!v)break;v.getWidth()&&(r+=v.getCode()===0?1:v.getChars().length)}if(m++,f=_.buffer.active.getLine(m),f&&!f.isWrapped)break;g-=_.cols}return r}_translateBufferLineToStringWithWrap(u,g){var _;const m=this._terminal,r=[],f=[0];let p=m.buffer.active.getLine(u);for(;p;){const v=m.buffer.active.getLine(u+1),d=!!v&&v.isWrapped;let C=p.translateToString(!d&&g);if(d&&v){const w=p.getCell(p.length-1);w&&w.getCode()===0&&w.getWidth()===1&&((_=v.getCell(0))===null||_===void 0?void 0:_.getWidth())===2&&(C=C.slice(0,-1))}if(r.push(C),!d)break;f.push(f[f.length-1]+C.length),u++,p=v}return[r.join(""),f]}_selectResult(u,g,_){const m=this._terminal;if(this._selectedDecoration.clear(),!u)return m.clearSelection(),!1;if(m.select(u.col,u.row,u.size),g){const r=m.registerMarker(-m.buffer.active.baseY-m.buffer.active.cursorY+u.row);if(r){const f=m.registerDecoration({marker:r,x:u.col,width:u.size,backgroundColor:g.activeMatchBackground,layer:"top",overviewRulerOptions:{color:g.activeMatchColorOverviewRuler}});if(f){const p=[];p.push(r),p.push(f.onRender(v=>this._applyStyles(v,g.activeMatchBorder,!0))),p.push(f.onDispose(()=>(0,n.disposeArray)(p))),this._selectedDecoration.value={decoration:f,match:u,dispose(){f.dispose()}}}}}if(!_&&(u.row>=m.buffer.active.viewportY+m.rows||u.row<m.buffer.active.viewportY)){let r=u.row-m.buffer.active.viewportY;r-=Math.floor(m.rows/2),m.scrollLines(r)}return!0}_applyStyles(u,g,_){u.classList.contains("xterm-find-result-decoration")||(u.classList.add("xterm-find-result-decoration"),g&&(u.style.outline=`1px solid ${g}`)),_&&u.classList.add("xterm-find-active-result-decoration")}_createResultDecoration(u,g){const _=this._terminal,m=_.registerMarker(-_.buffer.active.baseY-_.buffer.active.cursorY+u.row);if(!m)return;const r=_.registerDecoration({marker:m,x:u.col,width:u.size,backgroundColor:g.matchBackground,overviewRulerOptions:this._highlightedLines.has(m.line)?void 0:{color:g.matchOverviewRuler,position:"center"}});if(r){const f=[];f.push(m),f.push(r.onRender(p=>this._applyStyles(p,g.matchBorder,!1))),f.push(r.onDispose(()=>(0,n.disposeArray)(f)))}return r}}l.SearchAddon=h})(),x})())})(sg);var S5=sg.exports;const C5={components:{sectionCmp:ar,modal:Ji},props:{noStyle:{default:!1},customGit:{default:null},service:{default:null,required:!0,type:Rn}},computed:{git(){return this.service.git},pullLabel(){var e;return((e=this.git)==null?void 0:e.delta)==null?"Refresh...":"Pull ("+(this.git.delta||0)+")"},displayBranches(){var e;return(((e=this.git)==null?void 0:e.branches)||[]).filter(a=>a.name.toUpperCase().includes(this.searchBranch.toUpperCase())).filter(a=>this.displayOnlyLocalBranches?!a.isRemote:!0)}},data(){return{interval:null,longInterval:null,terminal:null,loader:!1,graphOnAll:!1,defaultBranch:null,search:"",terminalSearch:null,displayOnlyLocalBranches:!0,searchBranch:""}},async mounted(){var c,b;if(this.customGit)return;const e=this.$refs.terminalRef;if(!e)return;if(this.interval=setInterval(()=>this.service.updateGit(),1e3),this.longInterval=setInterval(()=>this.gitFetch(),1e3*60),await this.service.updateGit(),!this.defaultBranch){const S=((b=(c=this.service.git)==null?void 0:c.branches)==null?void 0:b.map(x=>x.name))||[];S.includes("develop")?this.defaultBranch="develop":S.includes("dev")?this.defaultBranch="dev":S.includes("master")?this.defaultBranch="master":S.includes("main")&&(this.defaultBranch="main")}e.innerHTML="",this.terminal=new eg.Terminal({smoothScrollDuration:100,experimentalCarAtlas:"static",fontFamily:"MesloLGS NF, monospace",convertEol:!0,disableStdin:!0,fontSize:13,allowTransparency:!0,minimumContrastRatio:7,theme:{background:"#ffffff00",foreground:"#4c4c4c",selectionBackground:"#1d95db",selectionForeground:"white"}});const a=new rg.FitAddon;if(this.terminal){this.terminal.loadAddon(a),this.terminal.loadAddon(new b5.CanvasAddon);const S=new S5.SearchAddon;this.terminalSearch=S,this.terminal.loadAddon(S),this.terminal.open(e),a.activate(this.terminal),a.fit()}await this.updateGraph(),await this.gitFetch()},beforeUnmount(){clearInterval(this.interval||void 0),clearInterval(this.longInterval||void 0)},methods:{async nextSearch(e){if(e.shiftKey)return this.previousSearch();this.terminalSearch&&this.terminalSearch.findNext(this.search)},async previousSearch(){this.terminalSearch&&this.terminalSearch.findPrevious(this.search)},openInVsCode(e){const a=e.trim().split(" ").slice(1).join(" ");this.service.openLinkInVsCode(a)},async gitFetch(){try{if(!this.service.git)return;this.service.git.delta=null,await this.service.gitFetch().catch(a=>{var c;return Dt.next("error",((c=a==null?void 0:a.response)==null?void 0:c.data)||(a==null?void 0:a.message)||a)});const e=await this.service.getCurrentBranch();if(!e)return;this.service.git.delta=await this.service.gitRemoteDelta(e)}catch(e){console.error(e),this.service.git&&(this.service.git.delta=0)}},async addBranch(){const e={name:"",shouldPush:!1};if(await this.$refs["add-branch-modal"].open(e).promise){if(!e.name)return Dt.next("error","Branch name cannot be empty");await this.service.addBranch(e.name,e.shouldPush),e.shouldPush&&await this.gitFetch()}},async updateGraph(){const e=await this.service.getGraph(this.graphOnAll).catch(a=>{var c;return Dt.next("error",((c=a==null?void 0:a.response)==null?void 0:c.data)||(a==null?void 0:a.message)||a)});e&&this.terminal&&(this.terminal.clear(),this.terminal.writeln(e.join(`
`)),setTimeout(()=>{this.terminal&&this.terminal.scrollToTop()}))},colorStatus(e){return e=e.trim(),e.charAt(0)==="D"&&(e='<span style="color: #ff7f7f; font-weight: bold">D</span>'+e.slice(1)),e.charAt(0)==="M"&&(e='<span style="color: #ffe47f; font-weight: bold">M</span>'+e.slice(1)),e.charAt(0)==="?"&&(e='<span style="color: #7fe1ff; font-weight: bold">??</span>'+e.slice(2)),e},async changeBranch(e){this.loader=!0;try{e=e.trim(),await this.$refs["branch-modal"].open(e).promise&&await this.service.changeBranch(e).then(()=>Dt.next("success",`Branch is now on ${e}`)).catch(c=>Dt.next("error",c.response.data)),this.updateGraph()}catch{}finally{this.loader=!1,await this.service.updateGit(),await this.gitFetch()}},async deleteBranch(e){this.loader=!0;try{e=e.trim(),await this.$refs["branch-delete-modal"].open(e).promise&&await this.service.deleteBranch(e).then(()=>Dt.next("success",`Branch ${e} is deleted`)).catch(c=>Dt.next("error",c.response.data)),await this.service.updateGit(),this.updateGraph()}catch{}finally{this.loader=!1,await this.service.updateGit(),await this.gitFetch()}},async checkoutFile(e){const a=e.split(" ").slice(1).join(" ");await this.$refs["checkout-modal"].open(a).promise&&(await this.service.checkoutFile(a).then(()=>Dt.next("success",`Changes on ${a} are deleted`)).catch(b=>Dt.next("error",b.response.data)),await this.updateGraph())},async reset(){await this.$refs["reset-modal"].open().promise&&(await this.service.reset().then(()=>Dt.next("success","All changes are lost")).catch(a=>Dt.next("error",a.response.data)),await this.updateGraph())},async openReview(){const e=await this.service.getDiff(),a=await Rn.getTokens(e);if(await this.$refs["review-modal"].open(a).promise){const b=await Rn.reviewFromAi(e);await this.$refs["review-result"].open(b).promise}},async stash(){return await this.service.stash().then(()=>Dt.next("success","All changes is in stash")).catch(e=>Dt.next("error",e.response.data)),this.service.updateGit()},async stashPop(){return await this.service.stashPop().then(()=>Dt.next("success","All changes unstashed")).catch(e=>Dt.next("error",e.response.data)),this.service.updateGit()},async pull(){await this.service.pull().then(()=>Dt.next("success","Branch is now up to date")).catch(e=>Dt.next("error",e.response.data)),await this.service.updateGit(),await this.updateGraph(),await this.gitFetch()}}},Mi=e=>(Vt("data-v-d355257d"),e=e(),Kt(),e),w5={key:0,class:"git-section"},x5={class:"branches"},E5=["onClick"],A5={class:"actions"},T5={key:0,title:"Already merged into develop"},L5=Mi(()=>W("i",{class:"fas fa-object-group","aria-hidden":"true"},null,-1)),O5=[L5],R5={key:1,title:"Is in remote not local"},k5=Mi(()=>W("i",{class:"fas fa-cloud-download-alt","aria-hidden":"true"},null,-1)),D5=[k5],I5={class:"actions"},M5=["onClick"],P5=Mi(()=>W("i",{class:"fas fa-trash","aria-hidden":"true"},null,-1)),B5=[P5],$5={key:0},F5=["innerHTML"],j5={class:"actions"},N5=["onClick"],H5=["onClick"],U5={key:1,class:"check"},W5=Mi(()=>W("i",{class:"fas fa-check","aria-hidden":"true"},null,-1)),z5=[W5],G5={key:1,class:"loader"},V5=Mi(()=>W("i",{class:"fas fa-spinner"},null,-1)),K5=[V5],Y5={class:"input-container"},X5=Mi(()=>W("i",{class:"fas fa-search"},null,-1)),J5=Mi(()=>W("i",{class:"fas fa-chevron-up"},null,-1)),Q5=[J5],q5=Mi(()=>W("i",{class:"fas fa-chevron-down"},null,-1)),Z5=[q5],eA={ref:"terminalRef"},tA=["onUpdate:modelValue"],rA=["onUpdate:modelValue"];function nA(e,a,c,b,S,x){var n;const l=br("section-cmp"),t=br("modal");return re(),oe(it,null,[W("button",{onClick:a[0]||(a[0]=(...i)=>x.openReview&&x.openReview(...i))},"Review from AI"),c.service.git?(re(),oe("div",w5,[x.git&&x.git.branches?(re(),jt(l,{class:"section-branches",key:c.service.label,header:"Branches",noStyle:c.noStyle,actions:[{label:"",click:()=>x.addBranch(),icon:"fas fa-plus",small:!0},{label:"",click:()=>x.gitFetch(),icon:"fas fa-sync"},{label:x.pullLabel,hidden:x.git.delta!=null&&x.git.delta>=0,click:()=>x.pull(),icon:"fas fa-download"}]},{default:rt(()=>[W("div",null,[Rt(W("input",{type:"text",placeholder:"Search branch...","onUpdate:modelValue":a[1]||(a[1]=i=>S.searchBranch=i)},null,512),[[or,S.searchBranch]])]),W("div",null,[Rt(W("input",{type:"checkbox","onUpdate:modelValue":a[2]||(a[2]=i=>S.displayOnlyLocalBranches=i)},null,512),[[Nn,S.displayOnlyLocalBranches]]),Ue(" Display only local branches ")]),W("ul",x5,[(re(!0),oe(it,null,pt(x.displayBranches,(i,h)=>{var o,u;return re(),oe("li",{key:"branch"+h,onClick:g=>i!=null&&i.name?x.changeBranch(i.name):null,class:St({active:(i==null?void 0:i.name)===((u=(o=c.service)==null?void 0:o.git)==null?void 0:u.currentBranch),merged:i==null?void 0:i.merged})},[W("div",A5,[i!=null&&i.merged?(re(),oe("div",T5,O5)):He("",!0),i!=null&&i.isRemote?(re(),oe("div",R5,D5)):He("",!0),Ue(" "+De(i==null?void 0:i.name),1)]),W("div",I5,[i.canDelete?(re(),oe("button",{key:0,class:"small",onClick:_r(g=>i!=null&&i.name?x.deleteBranch(i.name):null,["stop"])},B5,8,M5)):He("",!0)])],10,E5)}),128))])]),_:1},8,["noStyle","actions"])):He("",!0),(n=x.git)!=null&&n.status?(re(),jt(l,{key:1,class:"section-status",header:"Status",noStyle:c.noStyle,actions:[{label:"Stash",click:()=>x.stash(),icon:"fas fa-sun",hidden:!x.git.status.filter(i=>i).length},{label:"Unstash",click:()=>x.stashPop(),icon:"far fa-sun",hidden:!x.git.stash},{label:"Reset",click:()=>x.reset(),icon:"fas fa-eraser"}]},{default:rt(()=>[x.git.status.filter(i=>i).length?(re(),oe("ul",$5,[(re(!0),oe(it,null,pt(x.git.status,(i,h)=>(re(),oe("li",{key:"status-"+h},[W("span",{innerHTML:x.colorStatus(i)},null,8,F5),W("div",j5,[W("i",{class:"fas fa-external-link-alt","aria-hidden":"true",onClick:_r(o=>x.openInVsCode(i),["stop"])},null,8,N5),W("i",{class:"fas fa-times","aria-hidden":"true",onClick:_r(o=>x.checkoutFile(i),["stop"])},null,8,H5)])]))),128))])):(re(),oe("div",U5,z5))]),_:1},8,["noStyle","actions"])):He("",!0)])):He("",!0),S.loader?(re(),oe("div",G5,K5)):He("",!0),at(l,{class:"section-branches"},{default:rt(()=>[W("div",null,[Ue(" Display all branches: "),Rt(W("input",{type:"checkbox","onUpdate:modelValue":a[3]||(a[3]=i=>S.graphOnAll=i),onChange:a[4]||(a[4]=(...i)=>x.updateGraph&&x.updateGraph(...i))},null,544),[[Nn,S.graphOnAll]])]),W("div",Y5,[X5,Rt(W("input",{type:"text","onUpdate:modelValue":a[5]||(a[5]=i=>S.search=i),placeholder:"Search...",onKeypress:a[6]||(a[6]=gn((...i)=>x.nextSearch&&x.nextSearch(...i),["enter"]))},null,544),[[or,S.search]]),W("div",null,[W("button",{onClick:a[7]||(a[7]=(...i)=>x.previousSearch&&x.previousSearch(...i))},Q5),W("button",{onClick:a[8]||(a[8]=(...i)=>x.nextSearch&&x.nextSearch(...i))},Z5)])]),W("div",eA,null,512)]),_:1}),at(t,{ref:"reset-modal",cancelString:"No",validateString:"Yes"},{header:rt(()=>[Ue(" Reset ")]),body:rt(()=>[Ue(' Do you really want to launch "git reset --hard" on this repository ? ')]),_:1},512),at(t,{ref:"checkout-modal",cancelString:"No",validateString:"Yes"},{header:rt(()=>[Ue(" Checkout ")]),body:rt(({data:i})=>[Ue(' Do you really want to launch "git checkout '+De(i)+'" on this repository ? ',1)]),_:1},512),at(t,{ref:"branch-modal",cancelString:"No",validateString:"Yes"},{header:rt(()=>[Ue(" Branch change ")]),body:rt(({data:i})=>[Ue(' Do you really want to change branch to "'+De(i)+'" on this repository ? ',1)]),_:1},512),at(t,{ref:"add-branch-modal",cancelString:"Cancel",validateString:"Validate"},{header:rt(()=>[Ue(" Add Branch ")]),body:rt(({data:i})=>[Rt(W("input",{type:"text","onUpdate:modelValue":h=>i.name=h,placeholder:"Name of branch"},null,8,tA),[[or,i.name]]),W("div",null,[Rt(W("input",{type:"checkbox","onUpdate:modelValue":h=>i.shouldPush=h,placeholder:"Name of branch"},null,8,rA),[[Nn,i.shouldPush]]),Ue(" Push this branch after creation ? ")])]),_:1},512),at(t,{ref:"branch-delete-modal",cancelString:"No",validateString:"Yes"},{header:rt(()=>[Ue(" Branch delete ")]),body:rt(({data:i})=>[Ue(' Do you really want to delete branch "'+De(i)+'" on this repository ? ',1)]),_:1},512),at(t,{ref:"review-modal",cancelString:"No",validateString:"Yes"},{header:rt(()=>[Ue(" Review from AI ")]),body:rt(({data:i})=>[Ue(" Are you sure ? This have a cost of ~"+De(i.price)+"$ ",1)]),_:1},512),at(t,{ref:"review-result",cancelString:"OK",noValidate:!0},{header:rt(()=>[Ue(" Review from AI ")]),body:rt(({data:i})=>[W("pre",null,"        "+De(i==null?void 0:i.trim())+`
      `,1)]),_:1},512)],64)}const iA=Pt(C5,[["render",nA],["__scopeId","data-v-d355257d"]]);function Dn(){this.services=Le([]),dn.socket.on("conf:update",e=>{e.length&&e.forEach(a=>{const c=this.services.value.find(b=>b.label===a);c&&c.fetch()})})}Dn.prototype.loadServices=async function(){const{data:e}=await We.get("/stack/services");return this.services.value=e.filter(a=>a).map(a=>new Rn(a)),this.services.value};Dn.prototype.getEnvironment=async function(){const{data:e}=await We.get("/stack/environment");return e};Dn.prototype.getEnvironments=async function(){const{data:e}=await We.get("/stack/environments");return e};Dn.prototype.changeEnvironment=async function(e){const{data:a}=await We.post("/stack/environment",{environment:e});return a};Dn.prototype.getAllConfsPath=async function(){const{data:e}=await We.get("/stack/all-confs-path");return e};Dn.prototype.selectConf=async function(e){await We.post("/stack/select-conf/",{path:e})};Dn.prototype.deleteConf=async function(e){await We.post("/stack/delete-conf/",{path:e})};Dn.prototype.launchServices=async function(e){return await We.post("/stack/choose",e.map(a=>a.label)),this.loadServices()};Dn.prototype.getService=async function(e){return this.services.value.length||await this.loadServices(),this.services.value.filter(a=>a.label===e).pop()};Dn.prototype.getEnabledServices=async function(){return this.services.value.length||await this.loadServices(),this.services.value.filter(e=>e.enabled)};const Ls=new Dn;var og={exports:{}};(function(e,a){var c={};/* @preserve
 * The MIT License (MIT)
 * 
 * Copyright (c) 2013-2018 Petka Antonov
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 * 
 */(function(b){e.exports=b()})(function(){return function b(S,x,l){function t(h,o){if(!x[h]){if(!S[h]){var u=typeof _dereq_=="function"&&_dereq_;if(!o&&u)return u(h,!0);if(n)return n(h,!0);var g=new Error("Cannot find module '"+h+"'");throw g.code="MODULE_NOT_FOUND",g}var _=x[h]={exports:{}};S[h][0].call(_.exports,function(m){var r=S[h][1][m];return t(r||m)},_,_.exports,b,S,x,l)}return x[h].exports}for(var n=typeof _dereq_=="function"&&_dereq_,i=0;i<l.length;i++)t(l[i]);return t}({1:[function(b,S,x){S.exports=function(l){var t=l._SomePromiseArray;function n(i){var h=new t(i),o=h.promise();return h.setHowMany(1),h.setUnwrap(),h.init(),o}l.any=function(i){return n(i)},l.prototype.any=function(){return n(this)}}},{}],2:[function(b,S,x){var l;try{throw new Error}catch(m){l=m}var t=b("./schedule"),n=b("./queue");function i(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new n(16),this._normalQueue=new n(16),this._haveDrainedQueues=!1;var m=this;this.drainQueues=function(){m._drainQueues()},this._schedule=t}i.prototype.setScheduler=function(m){var r=this._schedule;return this._schedule=m,this._customScheduler=!0,r},i.prototype.hasCustomScheduler=function(){return this._customScheduler},i.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},i.prototype.fatalError=function(m,r){r?(process.stderr.write("Fatal "+(m instanceof Error?m.stack:m)+`
`),process.exit(2)):this.throwLater(m)},i.prototype.throwLater=function(m,r){if(arguments.length===1&&(r=m,m=function(){throw r}),typeof setTimeout<"u")setTimeout(function(){m(r)},0);else try{this._schedule(function(){m(r)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}};function h(m,r,f){this._lateQueue.push(m,r,f),this._queueTick()}function o(m,r,f){this._normalQueue.push(m,r,f),this._queueTick()}function u(m){this._normalQueue._pushOne(m),this._queueTick()}i.prototype.invokeLater=h,i.prototype.invoke=o,i.prototype.settlePromises=u;function g(m){for(;m.length()>0;)_(m)}function _(m){var r=m.shift();if(typeof r!="function")r._settlePromises();else{var f=m.shift(),p=m.shift();r.call(f,p)}}i.prototype._drainQueues=function(){g(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,g(this._lateQueue)},i.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},i.prototype._reset=function(){this._isTickUsed=!1},S.exports=i,S.exports.firstLineError=l},{"./queue":26,"./schedule":29}],3:[function(b,S,x){S.exports=function(l,t,n,i){var h=!1,o=function(m,r){this._reject(r)},u=function(m,r){r.promiseRejectionQueued=!0,r.bindingPromise._then(o,o,null,this,m)},g=function(m,r){this._bitField&50397184||this._resolveCallback(r.target)},_=function(m,r){r.promiseRejectionQueued||this._reject(m)};l.prototype.bind=function(m){h||(h=!0,l.prototype._propagateFrom=i.propagateFromFunction(),l.prototype._boundValue=i.boundValueFunction());var r=n(m),f=new l(t);f._propagateFrom(this,1);var p=this._target();if(f._setBoundTo(r),r instanceof l){var v={promiseRejectionQueued:!1,promise:f,target:p,bindingPromise:r};p._then(t,u,void 0,f,v),r._then(g,_,void 0,f,v),f._setOnCancel(r)}else f._resolveCallback(p);return f},l.prototype._setBoundTo=function(m){m!==void 0?(this._bitField=this._bitField|2097152,this._boundTo=m):this._bitField=this._bitField&-2097153},l.prototype._isBound=function(){return(this._bitField&2097152)===2097152},l.bind=function(m,r){return l.resolve(r).bind(m)}}},{}],4:[function(b,S,x){var l;typeof Promise<"u"&&(l=Promise);function t(){try{Promise===n&&(Promise=l)}catch{}return n}var n=b("./promise")();n.noConflict=t,S.exports=n},{"./promise":22}],5:[function(b,S,x){var l=Object.create;if(l){var t=l(null),n=l(null);t[" size"]=n[" size"]=0}S.exports=function(i){var h=b("./util"),o=h.canEvaluate;h.isIdentifier;var u;function g(f,p){var v;if(f!=null&&(v=f[p]),typeof v!="function"){var d="Object "+h.classString(f)+" has no method '"+h.toString(p)+"'";throw new i.TypeError(d)}return v}function _(f){var p=this.pop(),v=g(f,p);return v.apply(f,this)}i.prototype.call=function(f){var p=[].slice.call(arguments,1);return p.push(f),this._then(_,void 0,void 0,p,void 0)};function m(f){return f[this]}function r(f){var p=+this;return p<0&&(p=Math.max(0,p+f.length)),f[p]}i.prototype.get=function(f){var p=typeof f=="number",v;if(p)v=r;else if(o){var d=u(f);v=d!==null?d:m}else v=m;return this._then(v,void 0,void 0,f,void 0)}}},{"./util":36}],6:[function(b,S,x){S.exports=function(l,t,n,i){var h=b("./util"),o=h.tryCatch,u=h.errorObj,g=l._async;l.prototype.break=l.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var _=this,m=_;_._isCancellable();){if(!_._cancelBy(m)){m._isFollowing()?m._followee().cancel():m._cancelBranched();break}var r=_._cancellationParent;if(r==null||!r._isCancellable()){_._isFollowing()?_._followee().cancel():_._cancelBranched();break}else _._isFollowing()&&_._followee().cancel(),_._setWillBeCancelled(),m=_,_=r}},l.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},l.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},l.prototype._cancelBy=function(_){return _===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},l.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},l.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),g.invoke(this._cancelPromises,this,void 0))},l.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},l.prototype._unsetOnCancel=function(){this._onCancelField=void 0},l.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},l.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},l.prototype._doInvokeOnCancel=function(_,m){if(h.isArray(_))for(var r=0;r<_.length;++r)this._doInvokeOnCancel(_[r],m);else if(_!==void 0)if(typeof _=="function"){if(!m){var f=o(_).call(this._boundValue());f===u&&(this._attachExtraTrace(f.e),g.throwLater(f.e))}}else _._resultCancelled(this)},l.prototype._invokeOnCancel=function(){var _=this._onCancel();this._unsetOnCancel(),g.invoke(this._doInvokeOnCancel,this,_)},l.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},l.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(b,S,x){S.exports=function(l){var t=b("./util"),n=b("./es5").keys,i=t.tryCatch,h=t.errorObj;function o(u,g,_){return function(m){var r=_._boundValue();e:for(var f=0;f<u.length;++f){var p=u[f];if(p===Error||p!=null&&p.prototype instanceof Error){if(m instanceof p)return i(g).call(r,m)}else if(typeof p=="function"){var v=i(p).call(r,m);if(v===h)return v;if(v)return i(g).call(r,m)}else if(t.isObject(m)){for(var d=n(p),C=0;C<d.length;++C){var w=d[C];if(p[w]!=m[w])continue e}return i(g).call(r,m)}}return l}}return o}},{"./es5":13,"./util":36}],8:[function(b,S,x){S.exports=function(l){var t=!1,n=[];l.prototype._promiseCreated=function(){},l.prototype._pushContext=function(){},l.prototype._popContext=function(){return null},l._peekContext=l.prototype._peekContext=function(){};function i(){this._trace=new i.CapturedTrace(o())}i.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,n.push(this._trace))},i.prototype._popContext=function(){if(this._trace!==void 0){var u=n.pop(),g=u._promiseCreated;return u._promiseCreated=null,g}return null};function h(){if(t)return new i}function o(){var u=n.length-1;if(u>=0)return n[u]}return i.CapturedTrace=null,i.create=h,i.deactivateLongStackTraces=function(){},i.activateLongStackTraces=function(){var u=l.prototype._pushContext,g=l.prototype._popContext,_=l._peekContext,m=l.prototype._peekContext,r=l.prototype._promiseCreated;i.deactivateLongStackTraces=function(){l.prototype._pushContext=u,l.prototype._popContext=g,l._peekContext=_,l.prototype._peekContext=m,l.prototype._promiseCreated=r,t=!1},t=!0,l.prototype._pushContext=i.prototype._pushContext,l.prototype._popContext=i.prototype._popContext,l._peekContext=l.prototype._peekContext=o,l.prototype._promiseCreated=function(){var f=this._peekContext();f&&f._promiseCreated==null&&(f._promiseCreated=this)}},i}},{}],9:[function(b,S,x){S.exports=function(l,t,n,i){var h=l._async,o=b("./errors").Warning,u=b("./util"),g=b("./es5"),_=u.canAttachTrace,m,r,f=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,p=/\((?:timers\.js):\d+:\d+\)/,v=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,d=null,C=null,w=!1,A,E=u.env("BLUEBIRD_DEBUG")!=0,L=!!(u.env("BLUEBIRD_WARNINGS")!=0&&(E||u.env("BLUEBIRD_WARNINGS"))),D=!!(u.env("BLUEBIRD_LONG_STACK_TRACES")!=0&&(E||u.env("BLUEBIRD_LONG_STACK_TRACES"))),R=u.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(L||!!u.env("BLUEBIRD_W_FORGOTTEN_RETURN")),I;(function(){var q=[];function ne(){for(var we=0;we<q.length;++we)q[we]._notifyUnhandledRejection();de()}function de(){q.length=0}I=function(we){q.push(we),setTimeout(ne,1)},g.defineProperty(l,"_unhandledRejectionCheck",{value:ne}),g.defineProperty(l,"_unhandledRejectionClear",{value:de})})(),l.prototype.suppressUnhandledRejections=function(){var q=this._target();q._bitField=q._bitField&-1048577|524288},l.prototype._ensurePossibleRejectionHandled=function(){this._bitField&524288||(this._setRejectionIsUnhandled(),I(this))},l.prototype._notifyUnhandledRejectionIsHandled=function(){Qe("rejectionHandled",m,void 0,this)},l.prototype._setReturnedNonUndefined=function(){this._bitField=this._bitField|268435456},l.prototype._returnedNonUndefined=function(){return(this._bitField&268435456)!==0},l.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var q=this._settledValue();this._setUnhandledRejectionIsNotified(),Qe("unhandledRejection",r,q,this)}},l.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|262144},l.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},l.prototype._isUnhandledRejectionNotified=function(){return(this._bitField&262144)>0},l.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|1048576},l.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},l.prototype._isRejectionUnhandled=function(){return(this._bitField&1048576)>0},l.prototype._warn=function(q,ne,de){return ve(q,ne,de||this)},l.onPossiblyUnhandledRejection=function(q){var ne=l._getContext();r=u.contextBind(ne,q)},l.onUnhandledRejectionHandled=function(q){var ne=l._getContext();m=u.contextBind(ne,q)};var P=function(){};l.longStackTraces=function(){if(h.haveItemsQueued()&&!Re.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!Re.longStackTraces&&ot()){var q=l.prototype._captureStackTrace,ne=l.prototype._attachExtraTrace,de=l.prototype._dereferenceTrace;Re.longStackTraces=!0,P=function(){if(h.haveItemsQueued()&&!Re.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);l.prototype._captureStackTrace=q,l.prototype._attachExtraTrace=ne,l.prototype._dereferenceTrace=de,t.deactivateLongStackTraces(),Re.longStackTraces=!1},l.prototype._captureStackTrace=Q,l.prototype._attachExtraTrace=ce,l.prototype._dereferenceTrace=ue,t.activateLongStackTraces()}},l.hasLongStackTraces=function(){return Re.longStackTraces&&ot()};var $={unhandledrejection:{before:function(){var q=u.global.onunhandledrejection;return u.global.onunhandledrejection=null,q},after:function(q){u.global.onunhandledrejection=q}},rejectionhandled:{before:function(){var q=u.global.onrejectionhandled;return u.global.onrejectionhandled=null,q},after:function(q){u.global.onrejectionhandled=q}}},F=function(){var q=function(de,we){if(de){var Ee;try{return Ee=de.before(),!u.global.dispatchEvent(we)}finally{de.after(Ee)}}else return!u.global.dispatchEvent(we)};try{if(typeof CustomEvent=="function"){var ne=new CustomEvent("CustomEvent");return u.global.dispatchEvent(ne),function(de,we){de=de.toLowerCase();var Ee={detail:we,cancelable:!0},Ie=new CustomEvent(de,Ee);return g.defineProperty(Ie,"promise",{value:we.promise}),g.defineProperty(Ie,"reason",{value:we.reason}),q($[de],Ie)}}else if(typeof Event=="function"){var ne=new Event("CustomEvent");return u.global.dispatchEvent(ne),function(we,Ee){we=we.toLowerCase();var Ie=new Event(we,{cancelable:!0});return Ie.detail=Ee,g.defineProperty(Ie,"promise",{value:Ee.promise}),g.defineProperty(Ie,"reason",{value:Ee.reason}),q($[we],Ie)}}else{var ne=document.createEvent("CustomEvent");return ne.initCustomEvent("testingtheevent",!1,!0,{}),u.global.dispatchEvent(ne),function(we,Ee){we=we.toLowerCase();var Ie=document.createEvent("CustomEvent");return Ie.initCustomEvent(we,!1,!0,Ee),q($[we],Ie)}}}catch{}return function(){return!1}}(),U=function(){return u.isNode?function(){return process.emit.apply(process,arguments)}:u.global?function(q){var ne="on"+q.toLowerCase(),de=u.global[ne];return de?(de.apply(u.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}}();function Y(q,ne){return{promise:ne}}var k={promiseCreated:Y,promiseFulfilled:Y,promiseRejected:Y,promiseResolved:Y,promiseCancelled:Y,promiseChained:function(q,ne,de){return{promise:ne,child:de}},warning:function(q,ne){return{warning:ne}},unhandledRejection:function(q,ne,de){return{reason:ne,promise:de}},rejectionHandled:Y},H=function(q){var ne=!1;try{ne=U.apply(null,arguments)}catch(we){h.throwLater(we),ne=!0}var de=!1;try{de=F(q,k[q].apply(null,arguments))}catch(we){h.throwLater(we),de=!0}return de||ne};l.config=function(q){if(q=Object(q),"longStackTraces"in q&&(q.longStackTraces?l.longStackTraces():!q.longStackTraces&&l.hasLongStackTraces()&&P()),"warnings"in q){var ne=q.warnings;Re.warnings=!!ne,R=Re.warnings,u.isObject(ne)&&"wForgottenReturn"in ne&&(R=!!ne.wForgottenReturn)}if("cancellation"in q&&q.cancellation&&!Re.cancellation){if(h.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");l.prototype._clearCancellationData=se,l.prototype._propagateFrom=be,l.prototype._onCancel=J,l.prototype._setOnCancel=V,l.prototype._attachCancellationCallback=te,l.prototype._execute=X,j=be,Re.cancellation=!0}if("monitoring"in q&&(q.monitoring&&!Re.monitoring?(Re.monitoring=!0,l.prototype._fireEvent=H):!q.monitoring&&Re.monitoring&&(Re.monitoring=!1,l.prototype._fireEvent=z)),"asyncHooks"in q&&u.nodeSupportsAsyncResource){var de=Re.asyncHooks,we=!!q.asyncHooks;de!==we&&(Re.asyncHooks=we,we?n():i())}return l};function z(){return!1}l.prototype._fireEvent=z,l.prototype._execute=function(q,ne,de){try{q(ne,de)}catch(we){return we}},l.prototype._onCancel=function(){},l.prototype._setOnCancel=function(q){},l.prototype._attachCancellationCallback=function(q){},l.prototype._captureStackTrace=function(){},l.prototype._attachExtraTrace=function(){},l.prototype._dereferenceTrace=function(){},l.prototype._clearCancellationData=function(){},l.prototype._propagateFrom=function(q,ne){};function X(q,ne,de){var we=this;try{q(ne,de,function(Ee){if(typeof Ee!="function")throw new TypeError("onCancel must be a function, got: "+u.toString(Ee));we._attachCancellationCallback(Ee)})}catch(Ee){return Ee}}function te(q){if(!this._isCancellable())return this;var ne=this._onCancel();ne!==void 0?u.isArray(ne)?ne.push(q):this._setOnCancel([ne,q]):this._setOnCancel(q)}function J(){return this._onCancelField}function V(q){this._onCancelField=q}function se(){this._cancellationParent=void 0,this._onCancelField=void 0}function be(q,ne){if(ne&1){this._cancellationParent=q;var de=q._branchesRemainingToCancel;de===void 0&&(de=0),q._branchesRemainingToCancel=de+1}ne&2&&q._isBound()&&this._setBoundTo(q._boundTo)}function B(q,ne){ne&2&&q._isBound()&&this._setBoundTo(q._boundTo)}var j=B;function N(){var q=this._boundTo;return q!==void 0&&q instanceof l?q.isFulfilled()?q.value():void 0:q}function Q(){this._trace=new me(this._peekContext())}function ce(q,ne){if(_(q)){var de=this._trace;if(de!==void 0&&ne&&(de=de._parent),de!==void 0)de.attachExtraTrace(q);else if(!q.__stackCleaned__){var we=tt(q);u.notEnumerableProp(q,"stack",we.message+`
`+we.stack.join(`
`)),u.notEnumerableProp(q,"__stackCleaned__",!0)}}}function ue(){this._trace=void 0}function pe(q,ne,de,we,Ee){if(q===void 0&&ne!==null&&R){if(Ee!==void 0&&Ee._returnedNonUndefined()||!(we._bitField&65535))return;de&&(de=de+" ");var Ie="",je="";if(ne._trace){for(var Ne=ne._trace.stack.split(`
`),et=lt(Ne),dt=et.length-1;dt>=0;--dt){var tr=et[dt];if(!p.test(tr)){var hr=tr.match(v);hr&&(Ie="at "+hr[1]+":"+hr[2]+":"+hr[3]+" ");break}}if(et.length>0){for(var mr=et[0],dt=0;dt<Ne.length;++dt)if(Ne[dt]===mr){dt>0&&(je=`
`+Ne[dt-1]);break}}}var Yn="a promise was created in a "+de+"handler "+Ie+"but was not returned from it, see http://goo.gl/rRqMUw"+je;we._warn(Yn,!0,ne)}}function Te(q,ne){var de=q+" is deprecated and will be removed in a future version.";return ne&&(de+=" Use "+ne+" instead."),ve(de)}function ve(q,ne,de){if(Re.warnings){var we=new o(q),Ee;if(ne)de._attachExtraTrace(we);else if(Re.longStackTraces&&(Ee=l._peekContext()))Ee.attachExtraTrace(we);else{var Ie=tt(we);we.stack=Ie.message+`
`+Ie.stack.join(`
`)}H("warning",we)||Be(we,"",!0)}}function Ce(q,ne){for(var de=0;de<ne.length-1;++de)ne[de].push("From previous event:"),ne[de]=ne[de].join(`
`);return de<ne.length&&(ne[de]=ne[de].join(`
`)),q+`
`+ne.join(`
`)}function xe(q){for(var ne=0;ne<q.length;++ne)(q[ne].length===0||ne+1<q.length&&q[ne][0]===q[ne+1][0])&&(q.splice(ne,1),ne--)}function qe(q){for(var ne=q[0],de=1;de<q.length;++de){for(var we=q[de],Ee=ne.length-1,Ie=ne[Ee],je=-1,Ne=we.length-1;Ne>=0;--Ne)if(we[Ne]===Ie){je=Ne;break}for(var Ne=je;Ne>=0;--Ne){var et=we[Ne];if(ne[Ee]===et)ne.pop(),Ee--;else break}ne=we}}function lt(q){for(var ne=[],de=0;de<q.length;++de){var we=q[de],Ee=we==="    (No stack trace)"||d.test(we),Ie=Ee&&Ye(we);Ee&&!Ie&&(w&&we.charAt(0)!==" "&&(we="    "+we),ne.push(we))}return ne}function Ve(q){for(var ne=q.stack.replace(/\s+$/g,"").split(`
`),de=0;de<ne.length;++de){var we=ne[de];if(we==="    (No stack trace)"||d.test(we))break}return de>0&&q.name!="SyntaxError"&&(ne=ne.slice(de)),ne}function tt(q){var ne=q.stack,de=q.toString();return ne=typeof ne=="string"&&ne.length>0?Ve(q):["    (No stack trace)"],{message:de,stack:q.name=="SyntaxError"?ne:lt(ne)}}function Be(q,ne,de){if(typeof console<"u"){var we;if(u.isObject(q)){var Ee=q.stack;we=ne+C(Ee,q)}else we=ne+String(q);typeof A=="function"?A(we,de):(typeof console.log=="function"||typeof console.log=="object")&&console.log(we)}}function Qe(q,ne,de,we){var Ee=!1;try{typeof ne=="function"&&(Ee=!0,q==="rejectionHandled"?ne(we):ne(de,we))}catch(Ie){h.throwLater(Ie)}q==="unhandledRejection"?!H(q,de,we)&&!Ee&&Be(de,"Unhandled rejection "):H(q,we)}function Fe(q){var ne;if(typeof q=="function")ne="[function "+(q.name||"anonymous")+"]";else{ne=q&&typeof q.toString=="function"?q.toString():u.toString(q);var de=/\[object [a-zA-Z0-9$_]+\]/;if(de.test(ne))try{var we=JSON.stringify(q);ne=we}catch{}ne.length===0&&(ne="(empty array)")}return"(<"+Ge(ne)+">, no stack trace)"}function Ge(q){var ne=41;return q.length<ne?q:q.substr(0,ne-3)+"..."}function ot(){return typeof fe=="function"}var Ye=function(){return!1},Xe=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function _e(q){var ne=q.match(Xe);if(ne)return{fileName:ne[1],line:parseInt(ne[2],10)}}function le(q,ne){if(ot()){for(var de=(q.stack||"").split(`
`),we=(ne.stack||"").split(`
`),Ee=-1,Ie=-1,je,Ne,et=0;et<de.length;++et){var dt=_e(de[et]);if(dt){je=dt.fileName,Ee=dt.line;break}}for(var et=0;et<we.length;++et){var dt=_e(we[et]);if(dt){Ne=dt.fileName,Ie=dt.line;break}}Ee<0||Ie<0||!je||!Ne||je!==Ne||Ee>=Ie||(Ye=function(tr){if(f.test(tr))return!0;var hr=_e(tr);return!!(hr&&hr.fileName===je&&Ee<=hr.line&&hr.line<=Ie)})}}function me(q){this._parent=q,this._promisesCreated=0;var ne=this._length=1+(q===void 0?0:q._length);fe(this,me),ne>32&&this.uncycle()}u.inherits(me,Error),t.CapturedTrace=me,me.prototype.uncycle=function(){var q=this._length;if(!(q<2)){for(var ne=[],de={},we=0,Ee=this;Ee!==void 0;++we)ne.push(Ee),Ee=Ee._parent;q=this._length=we;for(var we=q-1;we>=0;--we){var Ie=ne[we].stack;de[Ie]===void 0&&(de[Ie]=we)}for(var we=0;we<q;++we){var je=ne[we].stack,Ne=de[je];if(Ne!==void 0&&Ne!==we){Ne>0&&(ne[Ne-1]._parent=void 0,ne[Ne-1]._length=1),ne[we]._parent=void 0,ne[we]._length=1;var et=we>0?ne[we-1]:this;Ne<q-1?(et._parent=ne[Ne+1],et._parent.uncycle(),et._length=et._parent._length+1):(et._parent=void 0,et._length=1);for(var dt=et._length+1,tr=we-2;tr>=0;--tr)ne[tr]._length=dt,dt++;return}}}},me.prototype.attachExtraTrace=function(q){if(!q.__stackCleaned__){this.uncycle();for(var ne=tt(q),de=ne.message,we=[ne.stack],Ee=this;Ee!==void 0;)we.push(lt(Ee.stack.split(`
`))),Ee=Ee._parent;qe(we),xe(we),u.notEnumerableProp(q,"stack",Ce(de,we)),u.notEnumerableProp(q,"__stackCleaned__",!0)}};var fe=function(){var ne=/^\s*at\s*/,de=function(je,Ne){return typeof je=="string"?je:Ne.name!==void 0&&Ne.message!==void 0?Ne.toString():Fe(Ne)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,d=ne,C=de;var we=Error.captureStackTrace;return Ye=function(je){return f.test(je)},function(je,Ne){Error.stackTraceLimit+=6,we(je,Ne),Error.stackTraceLimit-=6}}var Ee=new Error;if(typeof Ee.stack=="string"&&Ee.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return d=/@/,C=de,w=!0,function(Ne){Ne.stack=new Error().stack};var Ie;try{throw new Error}catch(je){Ie="stack"in je}return!("stack"in Ee)&&Ie&&typeof Error.stackTraceLimit=="number"?(d=ne,C=de,function(Ne){Error.stackTraceLimit+=6;try{throw new Error}catch(et){Ne.stack=et.stack}Error.stackTraceLimit-=6}):(C=function(je,Ne){return typeof je=="string"?je:(typeof Ne=="object"||typeof Ne=="function")&&Ne.name!==void 0&&Ne.message!==void 0?Ne.toString():Fe(Ne)},null)}();typeof console<"u"&&typeof console.warn<"u"&&(A=function(q){console.warn(q)},u.isNode&&process.stderr.isTTY?A=function(q,ne){var de=ne?"\x1B[33m":"\x1B[31m";console.warn(de+q+`\x1B[0m
`)}:!u.isNode&&typeof new Error().stack=="string"&&(A=function(q,ne){console.warn("%c"+q,ne?"color: darkorange":"color: red")}));var Re={warnings:L,longStackTraces:!1,cancellation:!1,monitoring:!1,asyncHooks:!1};return D&&l.longStackTraces(),{asyncHooks:function(){return Re.asyncHooks},longStackTraces:function(){return Re.longStackTraces},warnings:function(){return Re.warnings},cancellation:function(){return Re.cancellation},monitoring:function(){return Re.monitoring},propagateFromFunction:function(){return j},boundValueFunction:function(){return N},checkForgottenReturns:pe,setBounds:le,warn:ve,deprecated:Te,CapturedTrace:me,fireDomEvent:F,fireGlobalEvent:U}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(b,S,x){S.exports=function(l){function t(){return this.value}function n(){throw this.reason}l.prototype.return=l.prototype.thenReturn=function(i){return i instanceof l&&i.suppressUnhandledRejections(),this._then(t,void 0,void 0,{value:i},void 0)},l.prototype.throw=l.prototype.thenThrow=function(i){return this._then(n,void 0,void 0,{reason:i},void 0)},l.prototype.catchThrow=function(i){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:i},void 0);var h=arguments[1],o=function(){throw h};return this.caught(i,o)},l.prototype.catchReturn=function(i){if(arguments.length<=1)return i instanceof l&&i.suppressUnhandledRejections(),this._then(void 0,t,void 0,{value:i},void 0);var h=arguments[1];h instanceof l&&h.suppressUnhandledRejections();var o=function(){return h};return this.caught(i,o)}}},{}],11:[function(b,S,x){S.exports=function(l,t){var n=l.reduce,i=l.all;function h(){return i(this)}function o(u,g){return n(u,g,t,t)}l.prototype.each=function(u){return n(this,u,t,0)._then(h,void 0,void 0,this,void 0)},l.prototype.mapSeries=function(u){return n(this,u,t,t)},l.each=function(u,g){return n(u,g,t,0)._then(h,void 0,void 0,u,void 0)},l.mapSeries=o}},{}],12:[function(b,S,x){var l=b("./es5"),t=l.freeze,n=b("./util"),i=n.inherits,h=n.notEnumerableProp;function o(A,E){function L(D){if(!(this instanceof L))return new L(D);h(this,"message",typeof D=="string"?D:E),h(this,"name",A),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return i(L,Error),L}var u,g,_=o("Warning","warning"),m=o("CancellationError","cancellation error"),r=o("TimeoutError","timeout error"),f=o("AggregateError","aggregate error");try{u=TypeError,g=RangeError}catch{u=o("TypeError","type error"),g=o("RangeError","range error")}for(var p="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),v=0;v<p.length;++v)typeof Array.prototype[p[v]]=="function"&&(f.prototype[p[v]]=Array.prototype[p[v]]);l.defineProperty(f.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),f.prototype.isOperational=!0;var d=0;f.prototype.toString=function(){var A=Array(d*4+1).join(" "),E=`
`+A+`AggregateError of:
`;d++,A=Array(d*4+1).join(" ");for(var L=0;L<this.length;++L){for(var D=this[L]===this?"[Circular AggregateError]":this[L]+"",R=D.split(`
`),I=0;I<R.length;++I)R[I]=A+R[I];D=R.join(`
`),E+=D+`
`}return d--,E};function C(A){if(!(this instanceof C))return new C(A);h(this,"name","OperationalError"),h(this,"message",A),this.cause=A,this.isOperational=!0,A instanceof Error?(h(this,"message",A.message),h(this,"stack",A.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}i(C,Error);var w=Error.__BluebirdErrorTypes__;w||(w=t({CancellationError:m,TimeoutError:r,OperationalError:C,RejectionError:C,AggregateError:f}),l.defineProperty(Error,"__BluebirdErrorTypes__",{value:w,writable:!1,enumerable:!1,configurable:!1})),S.exports={Error,TypeError:u,RangeError:g,CancellationError:w.CancellationError,OperationalError:w.OperationalError,TimeoutError:w.TimeoutError,AggregateError:w.AggregateError,Warning:_}},{"./es5":13,"./util":36}],13:[function(b,S,x){var l=function(){return this===void 0}();if(l)S.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:l,propertyIsWritable:function(r,f){var p=Object.getOwnPropertyDescriptor(r,f);return!!(!p||p.writable||p.set)}};else{var t={}.hasOwnProperty,n={}.toString,i={}.constructor.prototype,h=function(r){var f=[];for(var p in r)t.call(r,p)&&f.push(p);return f},o=function(r,f){return{value:r[f]}},u=function(r,f,p){return r[f]=p.value,r},g=function(r){return r},_=function(r){try{return Object(r).constructor.prototype}catch{return i}},m=function(r){try{return n.call(r)==="[object Array]"}catch{return!1}};S.exports={isArray:m,keys:h,names:h,defineProperty:u,getDescriptor:o,freeze:g,getPrototypeOf:_,isES5:l,propertyIsWritable:function(){return!0}}}},{}],14:[function(b,S,x){S.exports=function(l,t){var n=l.map;l.prototype.filter=function(i,h){return n(this,i,h,t)},l.filter=function(i,h,o){return n(i,h,o,t)}}},{}],15:[function(b,S,x){S.exports=function(l,t,n){var i=b("./util"),h=l.CancellationError,o=i.errorObj,u=b("./catch_filter")(n);function g(v,d,C){this.promise=v,this.type=d,this.handler=C,this.called=!1,this.cancelPromise=null}g.prototype.isFinallyHandler=function(){return this.type===0};function _(v){this.finallyHandler=v}_.prototype._resultCancelled=function(){m(this.finallyHandler)};function m(v,d){return v.cancelPromise!=null?(arguments.length>1?v.cancelPromise._reject(d):v.cancelPromise._cancel(),v.cancelPromise=null,!0):!1}function r(){return p.call(this,this.promise._target()._settledValue())}function f(v){if(!m(this,v))return o.e=v,o}function p(v){var d=this.promise,C=this.handler;if(!this.called){this.called=!0;var w=this.isFinallyHandler()?C.call(d._boundValue()):C.call(d._boundValue(),v);if(w===n)return w;if(w!==void 0){d._setReturnedNonUndefined();var A=t(w,d);if(A instanceof l){if(this.cancelPromise!=null)if(A._isCancelled()){var E=new h("late cancellation observer");return d._attachExtraTrace(E),o.e=E,o}else A.isPending()&&A._attachCancellationCallback(new _(this));return A._then(r,f,void 0,this,void 0)}}}return d.isRejected()?(m(this),o.e=v,o):(m(this),v)}return l.prototype._passThrough=function(v,d,C,w){return typeof v!="function"?this.then():this._then(C,w,void 0,new g(this,d,v),void 0)},l.prototype.lastly=l.prototype.finally=function(v){return this._passThrough(v,0,p,p)},l.prototype.tap=function(v){return this._passThrough(v,1,p)},l.prototype.tapCatch=function(v){var d=arguments.length;if(d===1)return this._passThrough(v,1,void 0,p);var C=new Array(d-1),w=0,A;for(A=0;A<d-1;++A){var E=arguments[A];if(i.isObject(E))C[w++]=E;else return l.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+i.classString(E)))}C.length=w;var L=arguments[A];return this._passThrough(u(C,L,this),1,void 0,p)},g}},{"./catch_filter":7,"./util":36}],16:[function(b,S,x){S.exports=function(l,t,n,i,h,o){var u=b("./errors"),g=u.TypeError,_=b("./util"),m=_.errorObj,r=_.tryCatch,f=[];function p(d,C,w){for(var A=0;A<C.length;++A){w._pushContext();var E=r(C[A])(d);if(w._popContext(),E===m){w._pushContext();var L=l.reject(m.e);return w._popContext(),L}var D=i(E,w);if(D instanceof l)return D}return null}function v(d,C,w,A){if(o.cancellation()){var E=new l(n),L=this._finallyPromise=new l(n);this._promise=E.lastly(function(){return L}),E._captureStackTrace(),E._setOnCancel(this)}else{var D=this._promise=new l(n);D._captureStackTrace()}this._stack=A,this._generatorFunction=d,this._receiver=C,this._generator=void 0,this._yieldHandlers=typeof w=="function"?[w].concat(f):f,this._yieldedPromise=null,this._cancellationPhase=!1}_.inherits(v,h),v.prototype._isResolved=function(){return this._promise===null},v.prototype._cleanup=function(){this._promise=this._generator=null,o.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},v.prototype._promiseCancelled=function(){if(!this._isResolved()){var d=typeof this._generator.return<"u",C;if(d)this._promise._pushContext(),C=r(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var w=new l.CancellationError("generator .return() sentinel");l.coroutine.returnSentinel=w,this._promise._attachExtraTrace(w),this._promise._pushContext(),C=r(this._generator.throw).call(this._generator,w),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(C)}},v.prototype._promiseFulfilled=function(d){this._yieldedPromise=null,this._promise._pushContext();var C=r(this._generator.next).call(this._generator,d);this._promise._popContext(),this._continue(C)},v.prototype._promiseRejected=function(d){this._yieldedPromise=null,this._promise._attachExtraTrace(d),this._promise._pushContext();var C=r(this._generator.throw).call(this._generator,d);this._promise._popContext(),this._continue(C)},v.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof l){var d=this._yieldedPromise;this._yieldedPromise=null,d.cancel()}},v.prototype.promise=function(){return this._promise},v.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},v.prototype._continue=function(d){var C=this._promise;if(d===m)return this._cleanup(),this._cancellationPhase?C.cancel():C._rejectCallback(d.e,!1);var w=d.value;if(d.done===!0)return this._cleanup(),this._cancellationPhase?C.cancel():C._resolveCallback(w);var A=i(w,this._promise);if(!(A instanceof l)&&(A=p(A,this._yieldHandlers,this._promise),A===null)){this._promiseRejected(new g(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",String(w))+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)));return}A=A._target();var E=A._bitField;E&50397184?E&33554432?l._async.invoke(this._promiseFulfilled,this,A._value()):E&16777216?l._async.invoke(this._promiseRejected,this,A._reason()):this._promiseCancelled():(this._yieldedPromise=A,A._proxy(this,null))},l.coroutine=function(d,C){if(typeof d!="function")throw new g(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var w=Object(C).yieldHandler,A=v,E=new Error().stack;return function(){var L=d.apply(this,arguments),D=new A(void 0,void 0,w,E),R=D.promise();return D._generator=L,D._promiseFulfilled(void 0),R}},l.coroutine.addYieldHandler=function(d){if(typeof d!="function")throw new g("expecting a function but got "+_.classString(d));f.push(d)},l.spawn=function(d){if(o.deprecated("Promise.spawn()","Promise.coroutine()"),typeof d!="function")return t(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var C=new v(d,this),w=C.promise();return C._run(l.spawn),w}}},{"./errors":12,"./util":36}],17:[function(b,S,x){S.exports=function(l,t,n,i,h){var o=b("./util");o.canEvaluate,o.tryCatch,o.errorObj,l.join=function(){var u=arguments.length-1,g;if(u>0&&typeof arguments[u]=="function"){g=arguments[u];var m}var _=[].slice.call(arguments);g&&_.pop();var m=new t(_).promise();return g!==void 0?m.spread(g):m}}},{"./util":36}],18:[function(b,S,x){S.exports=function(l,t,n,i,h,o){var u=b("./util"),g=u.tryCatch,_=u.errorObj,m=l._async;function r(p,v,d,C){this.constructor$(p),this._promise._captureStackTrace();var w=l._getContext();if(this._callback=u.contextBind(w,v),this._preservedValues=C===h?new Array(this.length()):null,this._limit=d,this._inFlight=0,this._queue=[],m.invoke(this._asyncInit,this,void 0),u.isArray(p))for(var A=0;A<p.length;++A){var E=p[A];E instanceof l&&E.suppressUnhandledRejections()}}u.inherits(r,t),r.prototype._asyncInit=function(){this._init$(void 0,-2)},r.prototype._init=function(){},r.prototype._promiseFulfilled=function(p,v){var d=this._values,C=this.length(),w=this._preservedValues,A=this._limit;if(v<0){if(v=v*-1-1,d[v]=p,A>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(A>=1&&this._inFlight>=A)return d[v]=p,this._queue.push(v),!1;w!==null&&(w[v]=p);var E=this._promise,L=this._callback,D=E._boundValue();E._pushContext();var R=g(L).call(D,p,v,C),I=E._popContext();if(o.checkForgottenReturns(R,I,w!==null?"Promise.filter":"Promise.map",E),R===_)return this._reject(R.e),!0;var P=i(R,this._promise);if(P instanceof l){P=P._target();var $=P._bitField;if($&50397184)if($&33554432)R=P._value();else return $&16777216?(this._reject(P._reason()),!0):(this._cancel(),!0);else return A>=1&&this._inFlight++,d[v]=P,P._proxy(this,(v+1)*-1),!1}d[v]=R}var F=++this._totalResolved;return F>=C?(w!==null?this._filter(d,w):this._resolve(d),!0):!1},r.prototype._drainQueue=function(){for(var p=this._queue,v=this._limit,d=this._values;p.length>0&&this._inFlight<v;){if(this._isResolved())return;var C=p.pop();this._promiseFulfilled(d[C],C)}},r.prototype._filter=function(p,v){for(var d=v.length,C=new Array(d),w=0,A=0;A<d;++A)p[A]&&(C[w++]=v[A]);C.length=w,this._resolve(C)},r.prototype.preservedValues=function(){return this._preservedValues};function f(p,v,d,C){if(typeof v!="function")return n("expecting a function but got "+u.classString(v));var w=0;if(d!==void 0)if(typeof d=="object"&&d!==null){if(typeof d.concurrency!="number")return l.reject(new TypeError("'concurrency' must be a number but it is "+u.classString(d.concurrency)));w=d.concurrency}else return l.reject(new TypeError("options argument must be an object but it is "+u.classString(d)));return w=typeof w=="number"&&isFinite(w)&&w>=1?w:0,new r(p,v,w,C).promise()}l.prototype.map=function(p,v){return f(this,p,v,null)},l.map=function(p,v,d,C){return f(p,v,d,C)}}},{"./util":36}],19:[function(b,S,x){S.exports=function(l,t,n,i,h){var o=b("./util"),u=o.tryCatch;l.method=function(g){if(typeof g!="function")throw new l.TypeError("expecting a function but got "+o.classString(g));return function(){var _=new l(t);_._captureStackTrace(),_._pushContext();var m=u(g).apply(this,arguments),r=_._popContext();return h.checkForgottenReturns(m,r,"Promise.method",_),_._resolveFromSyncValue(m),_}},l.attempt=l.try=function(g){if(typeof g!="function")return i("expecting a function but got "+o.classString(g));var _=new l(t);_._captureStackTrace(),_._pushContext();var m;if(arguments.length>1){h.deprecated("calling Promise.try with more than 1 argument");var r=arguments[1],f=arguments[2];m=o.isArray(r)?u(g).apply(f,r):u(g).call(f,r)}else m=u(g)();var p=_._popContext();return h.checkForgottenReturns(m,p,"Promise.try",_),_._resolveFromSyncValue(m),_},l.prototype._resolveFromSyncValue=function(g){g===o.errorObj?this._rejectCallback(g.e,!1):this._resolveCallback(g,!0)}}},{"./util":36}],20:[function(b,S,x){var l=b("./util"),t=l.maybeWrapAsError,n=b("./errors"),i=n.OperationalError,h=b("./es5");function o(m){return m instanceof Error&&h.getPrototypeOf(m)===Error.prototype}var u=/^(?:name|message|stack|cause)$/;function g(m){var r;if(o(m)){r=new i(m),r.name=m.name,r.message=m.message,r.stack=m.stack;for(var f=h.keys(m),p=0;p<f.length;++p){var v=f[p];u.test(v)||(r[v]=m[v])}return r}return l.markAsOriginatingFromRejection(m),m}function _(m,r){return function(f,p){if(m!==null){if(f){var v=g(t(f));m._attachExtraTrace(v),m._reject(v)}else if(!r)m._fulfill(p);else{var d=[].slice.call(arguments,1);m._fulfill(d)}m=null}}}S.exports=_},{"./errors":12,"./es5":13,"./util":36}],21:[function(b,S,x){S.exports=function(l){var t=b("./util"),n=l._async,i=t.tryCatch,h=t.errorObj;function o(_,m){var r=this;if(!t.isArray(_))return u.call(r,_,m);var f=i(m).apply(r._boundValue(),[null].concat(_));f===h&&n.throwLater(f.e)}function u(_,m){var r=this,f=r._boundValue(),p=_===void 0?i(m).call(f,null):i(m).call(f,null,_);p===h&&n.throwLater(p.e)}function g(_,m){var r=this;if(!_){var f=new Error(_+"");f.cause=_,_=f}var p=i(m).call(r._boundValue(),_);p===h&&n.throwLater(p.e)}l.prototype.asCallback=l.prototype.nodeify=function(_,m){if(typeof _=="function"){var r=u;m!==void 0&&Object(m).spread&&(r=o),this._then(r,g,void 0,this,_)}return this}}},{"./util":36}],22:[function(b,S,x){S.exports=function(){var l=function(){return new E(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},t=function(){return new V.PromiseInspection(this._target())},n=function(j){return V.reject(new E(j))};function i(){}var h={},o=b("./util");o.setReflectHandler(t);var u=function(){var j=process.domain;return j===void 0?null:j},g=function(){return null},_=function(){return{domain:u(),async:null}},m=o.isNode&&o.nodeSupportsAsyncResource?b("async_hooks").AsyncResource:null,r=function(){return{domain:u(),async:new m("Bluebird::Promise")}},f=o.isNode?_:g;o.notEnumerableProp(V,"_getContext",f);var p=function(){f=r,o.notEnumerableProp(V,"_getContext",r)},v=function(){f=_,o.notEnumerableProp(V,"_getContext",_)},d=b("./es5"),C=b("./async"),w=new C;d.defineProperty(V,"_async",{value:w});var A=b("./errors"),E=V.TypeError=A.TypeError;V.RangeError=A.RangeError;var L=V.CancellationError=A.CancellationError;V.TimeoutError=A.TimeoutError,V.OperationalError=A.OperationalError,V.RejectionError=A.OperationalError,V.AggregateError=A.AggregateError;var D=function(){},R={},I={},P=b("./thenables")(V,D),$=b("./promise_array")(V,D,P,n,i),F=b("./context")(V),U=F.create,Y=b("./debuggability")(V,F,p,v);Y.CapturedTrace;var k=b("./finally")(V,P,I),H=b("./catch_filter")(I),z=b("./nodeback"),X=o.errorObj,te=o.tryCatch;function J(j,N){if(j==null||j.constructor!==V)throw new E(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`);if(typeof N!="function")throw new E("expecting a function but got "+o.classString(N))}function V(j){j!==D&&J(this,j),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(j),this._promiseCreated(),this._fireEvent("promiseCreated",this)}V.prototype.toString=function(){return"[object Promise]"},V.prototype.caught=V.prototype.catch=function(j){var N=arguments.length;if(N>1){var Q=new Array(N-1),ce=0,ue;for(ue=0;ue<N-1;++ue){var pe=arguments[ue];if(o.isObject(pe))Q[ce++]=pe;else return n("Catch statement predicate: expecting an object but got "+o.classString(pe))}if(Q.length=ce,j=arguments[ue],typeof j!="function")throw new E("The last argument to .catch() must be a function, got "+o.toString(j));return this.then(void 0,H(Q,j,this))}return this.then(void 0,j)},V.prototype.reflect=function(){return this._then(t,t,void 0,this,void 0)},V.prototype.then=function(j,N){if(Y.warnings()&&arguments.length>0&&typeof j!="function"&&typeof N!="function"){var Q=".then() only accepts functions but was passed: "+o.classString(j);arguments.length>1&&(Q+=", "+o.classString(N)),this._warn(Q)}return this._then(j,N,void 0,void 0,void 0)},V.prototype.done=function(j,N){var Q=this._then(j,N,void 0,void 0,void 0);Q._setIsFinal()},V.prototype.spread=function(j){return typeof j!="function"?n("expecting a function but got "+o.classString(j)):this.all()._then(j,void 0,void 0,R,void 0)},V.prototype.toJSON=function(){var j={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(j.fulfillmentValue=this.value(),j.isFulfilled=!0):this.isRejected()&&(j.rejectionReason=this.reason(),j.isRejected=!0),j},V.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new $(this).promise()},V.prototype.error=function(j){return this.caught(o.originatesFromRejection,j)},V.getNewLibraryCopy=S.exports,V.is=function(j){return j instanceof V},V.fromNode=V.fromCallback=function(j){var N=new V(D);N._captureStackTrace();var Q=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,ce=te(j)(z(N,Q));return ce===X&&N._rejectCallback(ce.e,!0),N._isFateSealed()||N._setAsyncGuaranteed(),N},V.all=function(j){return new $(j).promise()},V.cast=function(j){var N=P(j);return N instanceof V||(N=new V(D),N._captureStackTrace(),N._setFulfilled(),N._rejectionHandler0=j),N},V.resolve=V.fulfilled=V.cast,V.reject=V.rejected=function(j){var N=new V(D);return N._captureStackTrace(),N._rejectCallback(j,!0),N},V.setScheduler=function(j){if(typeof j!="function")throw new E("expecting a function but got "+o.classString(j));return w.setScheduler(j)},V.prototype._then=function(j,N,Q,ce,ue){var pe=ue!==void 0,Te=pe?ue:new V(D),ve=this._target(),Ce=ve._bitField;pe||(Te._propagateFrom(this,3),Te._captureStackTrace(),ce===void 0&&this._bitField&2097152&&(Ce&50397184?ce=this._boundValue():ce=ve===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,Te));var xe=f();if(Ce&50397184){var qe,lt,Ve=ve._settlePromiseCtx;Ce&33554432?(lt=ve._rejectionHandler0,qe=j):Ce&16777216?(lt=ve._fulfillmentHandler0,qe=N,ve._unsetRejectionIsUnhandled()):(Ve=ve._settlePromiseLateCancellationObserver,lt=new L("late cancellation observer"),ve._attachExtraTrace(lt),qe=N),w.invoke(Ve,ve,{handler:o.contextBind(xe,qe),promise:Te,receiver:ce,value:lt})}else ve._addCallbacks(j,N,Te,ce,xe);return Te},V.prototype._length=function(){return this._bitField&65535},V.prototype._isFateSealed=function(){return(this._bitField&117506048)!==0},V.prototype._isFollowing=function(){return(this._bitField&67108864)===67108864},V.prototype._setLength=function(j){this._bitField=this._bitField&-65536|j&65535},V.prototype._setFulfilled=function(){this._bitField=this._bitField|33554432,this._fireEvent("promiseFulfilled",this)},V.prototype._setRejected=function(){this._bitField=this._bitField|16777216,this._fireEvent("promiseRejected",this)},V.prototype._setFollowing=function(){this._bitField=this._bitField|67108864,this._fireEvent("promiseResolved",this)},V.prototype._setIsFinal=function(){this._bitField=this._bitField|4194304},V.prototype._isFinal=function(){return(this._bitField&4194304)>0},V.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},V.prototype._setCancelled=function(){this._bitField=this._bitField|65536,this._fireEvent("promiseCancelled",this)},V.prototype._setWillBeCancelled=function(){this._bitField=this._bitField|8388608},V.prototype._setAsyncGuaranteed=function(){if(!w.hasCustomScheduler()){var j=this._bitField;this._bitField=j|(j&536870912)>>2^134217728}},V.prototype._setNoAsyncGuarantee=function(){this._bitField=(this._bitField|536870912)&-134217729},V.prototype._receiverAt=function(j){var N=j===0?this._receiver0:this[j*4-4+3];if(N!==h)return N===void 0&&this._isBound()?this._boundValue():N},V.prototype._promiseAt=function(j){return this[j*4-4+2]},V.prototype._fulfillmentHandlerAt=function(j){return this[j*4-4+0]},V.prototype._rejectionHandlerAt=function(j){return this[j*4-4+1]},V.prototype._boundValue=function(){},V.prototype._migrateCallback0=function(j){j._bitField;var N=j._fulfillmentHandler0,Q=j._rejectionHandler0,ce=j._promise0,ue=j._receiverAt(0);ue===void 0&&(ue=h),this._addCallbacks(N,Q,ce,ue,null)},V.prototype._migrateCallbackAt=function(j,N){var Q=j._fulfillmentHandlerAt(N),ce=j._rejectionHandlerAt(N),ue=j._promiseAt(N),pe=j._receiverAt(N);pe===void 0&&(pe=h),this._addCallbacks(Q,ce,ue,pe,null)},V.prototype._addCallbacks=function(j,N,Q,ce,ue){var pe=this._length();if(pe>=65531&&(pe=0,this._setLength(0)),pe===0)this._promise0=Q,this._receiver0=ce,typeof j=="function"&&(this._fulfillmentHandler0=o.contextBind(ue,j)),typeof N=="function"&&(this._rejectionHandler0=o.contextBind(ue,N));else{var Te=pe*4-4;this[Te+2]=Q,this[Te+3]=ce,typeof j=="function"&&(this[Te+0]=o.contextBind(ue,j)),typeof N=="function"&&(this[Te+1]=o.contextBind(ue,N))}return this._setLength(pe+1),pe},V.prototype._proxy=function(j,N){this._addCallbacks(void 0,void 0,N,j,null)},V.prototype._resolveCallback=function(j,N){if(!(this._bitField&117506048)){if(j===this)return this._rejectCallback(l(),!1);var Q=P(j,this);if(!(Q instanceof V))return this._fulfill(j);N&&this._propagateFrom(Q,2);var ce=Q._target();if(ce===this){this._reject(l());return}var ue=ce._bitField;if(ue&50397184)if(ue&33554432)this._fulfill(ce._value());else if(ue&16777216)this._reject(ce._reason());else{var ve=new L("late cancellation observer");ce._attachExtraTrace(ve),this._reject(ve)}else{var pe=this._length();pe>0&&ce._migrateCallback0(this);for(var Te=1;Te<pe;++Te)ce._migrateCallbackAt(this,Te);this._setFollowing(),this._setLength(0),this._setFollowee(Q)}}},V.prototype._rejectCallback=function(j,N,Q){var ce=o.ensureErrorObject(j),ue=ce===j;if(!ue&&!Q&&Y.warnings()){var pe="a promise was rejected with a non-error: "+o.classString(j);this._warn(pe,!0)}this._attachExtraTrace(ce,N?ue:!1),this._reject(j)},V.prototype._resolveFromExecutor=function(j){if(j!==D){var N=this;this._captureStackTrace(),this._pushContext();var Q=!0,ce=this._execute(j,function(ue){N._resolveCallback(ue)},function(ue){N._rejectCallback(ue,Q)});Q=!1,this._popContext(),ce!==void 0&&N._rejectCallback(ce,!0)}},V.prototype._settlePromiseFromHandler=function(j,N,Q,ce){var ue=ce._bitField;if(!(ue&65536)){ce._pushContext();var pe;N===R?!Q||typeof Q.length!="number"?(pe=X,pe.e=new E("cannot .spread() a non-array: "+o.classString(Q))):pe=te(j).apply(this._boundValue(),Q):pe=te(j).call(N,Q);var Te=ce._popContext();ue=ce._bitField,!(ue&65536)&&(pe===I?ce._reject(Q):pe===X?ce._rejectCallback(pe.e,!1):(Y.checkForgottenReturns(pe,Te,"",ce,this),ce._resolveCallback(pe)))}},V.prototype._target=function(){for(var j=this;j._isFollowing();)j=j._followee();return j},V.prototype._followee=function(){return this._rejectionHandler0},V.prototype._setFollowee=function(j){this._rejectionHandler0=j},V.prototype._settlePromise=function(j,N,Q,ce){var ue=j instanceof V,pe=this._bitField,Te=(pe&134217728)!==0;pe&65536?(ue&&j._invokeInternalOnCancel(),Q instanceof k&&Q.isFinallyHandler()?(Q.cancelPromise=j,te(N).call(Q,ce)===X&&j._reject(X.e)):N===t?j._fulfill(t.call(Q)):Q instanceof i?Q._promiseCancelled(j):ue||j instanceof $?j._cancel():Q.cancel()):typeof N=="function"?ue?(Te&&j._setAsyncGuaranteed(),this._settlePromiseFromHandler(N,Q,ce,j)):N.call(Q,ce,j):Q instanceof i?Q._isResolved()||(pe&33554432?Q._promiseFulfilled(ce,j):Q._promiseRejected(ce,j)):ue&&(Te&&j._setAsyncGuaranteed(),pe&33554432?j._fulfill(ce):j._reject(ce))},V.prototype._settlePromiseLateCancellationObserver=function(j){var N=j.handler,Q=j.promise,ce=j.receiver,ue=j.value;typeof N=="function"?Q instanceof V?this._settlePromiseFromHandler(N,ce,ue,Q):N.call(ce,ue,Q):Q instanceof V&&Q._reject(ue)},V.prototype._settlePromiseCtx=function(j){this._settlePromise(j.promise,j.handler,j.receiver,j.value)},V.prototype._settlePromise0=function(j,N,Q){var ce=this._promise0,ue=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(ce,j,ue,N)},V.prototype._clearCallbackDataAtIndex=function(j){var N=j*4-4;this[N+2]=this[N+3]=this[N+0]=this[N+1]=void 0},V.prototype._fulfill=function(j){var N=this._bitField;if(!((N&117506048)>>>16)){if(j===this){var Q=l();return this._attachExtraTrace(Q),this._reject(Q)}this._setFulfilled(),this._rejectionHandler0=j,(N&65535)>0&&(N&134217728?this._settlePromises():w.settlePromises(this),this._dereferenceTrace())}},V.prototype._reject=function(j){var N=this._bitField;if(!((N&117506048)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=j,this._isFinal())return w.fatalError(j,o.isNode);(N&65535)>0?w.settlePromises(this):this._ensurePossibleRejectionHandled()}},V.prototype._fulfillPromises=function(j,N){for(var Q=1;Q<j;Q++){var ce=this._fulfillmentHandlerAt(Q),ue=this._promiseAt(Q),pe=this._receiverAt(Q);this._clearCallbackDataAtIndex(Q),this._settlePromise(ue,ce,pe,N)}},V.prototype._rejectPromises=function(j,N){for(var Q=1;Q<j;Q++){var ce=this._rejectionHandlerAt(Q),ue=this._promiseAt(Q),pe=this._receiverAt(Q);this._clearCallbackDataAtIndex(Q),this._settlePromise(ue,ce,pe,N)}},V.prototype._settlePromises=function(){var j=this._bitField,N=j&65535;if(N>0){if(j&16842752){var Q=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,Q,j),this._rejectPromises(N,Q)}else{var ce=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,ce,j),this._fulfillPromises(N,ce)}this._setLength(0)}this._clearCancellationData()},V.prototype._settledValue=function(){var j=this._bitField;if(j&33554432)return this._rejectionHandler0;if(j&16777216)return this._fulfillmentHandler0},typeof Symbol<"u"&&Symbol.toStringTag&&d.defineProperty(V.prototype,Symbol.toStringTag,{get:function(){return"Object"}});function se(j){this.promise._resolveCallback(j)}function be(j){this.promise._rejectCallback(j,!1)}V.defer=V.pending=function(){Y.deprecated("Promise.defer","new Promise");var j=new V(D);return{promise:j,resolve:se,reject:be}},o.notEnumerableProp(V,"_makeSelfResolutionError",l),b("./method")(V,D,P,n,Y),b("./bind")(V,D,P,Y),b("./cancel")(V,$,n,Y),b("./direct_resolve")(V),b("./synchronous_inspection")(V),b("./join")(V,$,P,D,w),V.Promise=V,V.version="3.7.2",b("./call_get.js")(V),b("./generators.js")(V,n,D,P,i,Y),b("./map.js")(V,$,n,P,D,Y),b("./nodeify.js")(V),b("./promisify.js")(V,D),b("./props.js")(V,$,P,n),b("./race.js")(V,D,P,n),b("./reduce.js")(V,$,n,P,D,Y),b("./settle.js")(V,$,Y),b("./some.js")(V,$,n),b("./timers.js")(V,D,Y),b("./using.js")(V,n,P,U,D,Y),b("./any.js")(V),b("./each.js")(V,D),b("./filter.js")(V,D),o.toFastProperties(V),o.toFastProperties(V.prototype);function B(j){var N=new V(D);N._fulfillmentHandler0=j,N._rejectionHandler0=j,N._promise0=j,N._receiver0=j}return B({a:1}),B({b:2}),B({c:3}),B(1),B(function(){}),B(void 0),B(!1),B(new V(D)),Y.setBounds(C.firstLineError,o.lastLineError),V}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36,async_hooks:void 0}],23:[function(b,S,x){S.exports=function(l,t,n,i,h){var o=b("./util");o.isArray;function u(_){switch(_){case-2:return[];case-3:return{};case-6:return new Map}}function g(_){var m=this._promise=new l(t);_ instanceof l&&(m._propagateFrom(_,3),_.suppressUnhandledRejections()),m._setOnCancel(this),this._values=_,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return o.inherits(g,h),g.prototype.length=function(){return this._length},g.prototype.promise=function(){return this._promise},g.prototype._init=function _(m,r){var f=n(this._values,this._promise);if(f instanceof l){f=f._target();var p=f._bitField;if(this._values=f,p&50397184)if(p&33554432)f=f._value();else return p&16777216?this._reject(f._reason()):this._cancel();else return this._promise._setAsyncGuaranteed(),f._then(_,this._reject,void 0,this,r)}if(f=o.asArray(f),f===null){var v=i("expecting an array or an iterable object but got "+o.classString(f)).reason();this._promise._rejectCallback(v,!1);return}if(f.length===0){r===-5?this._resolveEmptyArray():this._resolve(u(r));return}this._iterate(f)},g.prototype._iterate=function(_){var m=this.getActualLength(_.length);this._length=m,this._values=this.shouldCopyValues()?new Array(m):this._values;for(var r=this._promise,f=!1,p=null,v=0;v<m;++v){var d=n(_[v],r);d instanceof l?(d=d._target(),p=d._bitField):p=null,f?p!==null&&d.suppressUnhandledRejections():p!==null?p&50397184?p&33554432?f=this._promiseFulfilled(d._value(),v):p&16777216?f=this._promiseRejected(d._reason(),v):f=this._promiseCancelled(v):(d._proxy(this,v),this._values[v]=d):f=this._promiseFulfilled(d,v)}f||r._setAsyncGuaranteed()},g.prototype._isResolved=function(){return this._values===null},g.prototype._resolve=function(_){this._values=null,this._promise._fulfill(_)},g.prototype._cancel=function(){this._isResolved()||!this._promise._isCancellable()||(this._values=null,this._promise._cancel())},g.prototype._reject=function(_){this._values=null,this._promise._rejectCallback(_,!1)},g.prototype._promiseFulfilled=function(_,m){this._values[m]=_;var r=++this._totalResolved;return r>=this._length?(this._resolve(this._values),!0):!1},g.prototype._promiseCancelled=function(){return this._cancel(),!0},g.prototype._promiseRejected=function(_){return this._totalResolved++,this._reject(_),!0},g.prototype._resultCancelled=function(){if(!this._isResolved()){var _=this._values;if(this._cancel(),_ instanceof l)_.cancel();else for(var m=0;m<_.length;++m)_[m]instanceof l&&_[m].cancel()}},g.prototype.shouldCopyValues=function(){return!0},g.prototype.getActualLength=function(_){return _},g}},{"./util":36}],24:[function(b,S,x){S.exports=function(l,t){var n={},i=b("./util"),h=b("./nodeback"),o=i.withAppended,u=i.maybeWrapAsError,g=i.canEvaluate,_=b("./errors").TypeError,m="Async",r={__isPromisified__:!0},f=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],p=new RegExp("^(?:"+f.join("|")+")$"),v=function(F){return i.isIdentifier(F)&&F.charAt(0)!=="_"&&F!=="constructor"};function d(F){return!p.test(F)}function C(F){try{return F.__isPromisified__===!0}catch{return!1}}function w(F,U,Y){var k=i.getDataPropertyOrDefault(F,U+Y,r);return k?C(k):!1}function A(F,U,Y){for(var k=0;k<F.length;k+=2){var H=F[k];if(Y.test(H)){for(var z=H.replace(Y,""),X=0;X<F.length;X+=2)if(F[X]===z)throw new _(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",U))}}}function E(F,U,Y,k){for(var H=i.inheritedDataKeys(F),z=[],X=0;X<H.length;++X){var te=H[X],J=F[te],V=k===v?!0:v(te);typeof J=="function"&&!C(J)&&!w(F,te,U)&&k(te,J,F,V)&&z.push(te,J)}return A(z,U,Y),z}var L=function(F){return F.replace(/([$])/,"\\$")},D;function R(F,U,Y,k,H,z){var X=function(){return this}(),te=F;typeof te=="string"&&(F=k);function J(){var V=U;U===n&&(V=this);var se=new l(t);se._captureStackTrace();var be=typeof te=="string"&&this!==X?this[te]:F,B=h(se,z);try{be.apply(V,o(arguments,B))}catch(j){se._rejectCallback(u(j),!0,!0)}return se._isFateSealed()||se._setAsyncGuaranteed(),se}return i.notEnumerableProp(J,"__isPromisified__",!0),J}var I=g?D:R;function P(F,U,Y,k,H){for(var z=new RegExp(L(U)+"$"),X=E(F,U,z,Y),te=0,J=X.length;te<J;te+=2){var V=X[te],se=X[te+1],be=V+U;if(k===I)F[be]=I(V,n,V,se,U,H);else{var B=k(se,function(){return I(V,n,V,se,U,H)});i.notEnumerableProp(B,"__isPromisified__",!0),F[be]=B}}return i.toFastProperties(F),F}function $(F,U,Y){return I(F,U,void 0,F,null,Y)}l.promisify=function(F,U){if(typeof F!="function")throw new _("expecting a function but got "+i.classString(F));if(C(F))return F;U=Object(U);var Y=U.context===void 0?n:U.context,k=!!U.multiArgs,H=$(F,Y,k);return i.copyDescriptors(F,H,d),H},l.promisifyAll=function(F,U){if(typeof F!="function"&&typeof F!="object")throw new _(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);U=Object(U);var Y=!!U.multiArgs,k=U.suffix;typeof k!="string"&&(k=m);var H=U.filter;typeof H!="function"&&(H=v);var z=U.promisifier;if(typeof z!="function"&&(z=I),!i.isIdentifier(k))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var X=i.inheritedDataKeys(F),te=0;te<X.length;++te){var J=F[X[te]];X[te]!=="constructor"&&i.isClass(J)&&(P(J.prototype,k,H,z,Y),P(J,k,H,z,Y))}return P(F,k,H,z,Y)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(b,S,x){S.exports=function(l,t,n,i){var h=b("./util"),o=h.isObject,u=b("./es5"),g;typeof Map=="function"&&(g=Map);var _=function(){var p=0,v=0;function d(C,w){this[p]=C,this[p+v]=w,p++}return function(w){v=w.size,p=0;var A=new Array(w.size*2);return w.forEach(d,A),A}}(),m=function(p){for(var v=new g,d=p.length/2|0,C=0;C<d;++C){var w=p[d+C],A=p[C];v.set(w,A)}return v};function r(p){var v=!1,d;if(g!==void 0&&p instanceof g)d=_(p),v=!0;else{var C=u.keys(p),w=C.length;d=new Array(w*2);for(var A=0;A<w;++A){var E=C[A];d[A]=p[E],d[A+w]=E}}this.constructor$(d),this._isMap=v,this._init$(void 0,v?-6:-3)}h.inherits(r,t),r.prototype._init=function(){},r.prototype._promiseFulfilled=function(p,v){this._values[v]=p;var d=++this._totalResolved;if(d>=this._length){var C;if(this._isMap)C=m(this._values);else{C={};for(var w=this.length(),A=0,E=this.length();A<E;++A)C[this._values[A+w]]=this._values[A]}return this._resolve(C),!0}return!1},r.prototype.shouldCopyValues=function(){return!1},r.prototype.getActualLength=function(p){return p>>1};function f(p){var v,d=n(p);if(o(d))d instanceof l?v=d._then(l.props,void 0,void 0,void 0,void 0):v=new r(d).promise();else return i(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`);return d instanceof l&&v._propagateFrom(d,2),v}l.prototype.props=function(){return f(this)},l.props=function(p){return f(p)}}},{"./es5":13,"./util":36}],26:[function(b,S,x){function l(n,i,h,o,u){for(var g=0;g<u;++g)h[g+o]=n[g+i],n[g+i]=void 0}function t(n){this._capacity=n,this._length=0,this._front=0}t.prototype._willBeOverCapacity=function(n){return this._capacity<n},t.prototype._pushOne=function(n){var i=this.length();this._checkCapacity(i+1);var h=this._front+i&this._capacity-1;this[h]=n,this._length=i+1},t.prototype.push=function(n,i,h){var o=this.length()+3;if(this._willBeOverCapacity(o)){this._pushOne(n),this._pushOne(i),this._pushOne(h);return}var u=this._front+o-3;this._checkCapacity(o);var g=this._capacity-1;this[u+0&g]=n,this[u+1&g]=i,this[u+2&g]=h,this._length=o},t.prototype.shift=function(){var n=this._front,i=this[n];return this[n]=void 0,this._front=n+1&this._capacity-1,this._length--,i},t.prototype.length=function(){return this._length},t.prototype._checkCapacity=function(n){this._capacity<n&&this._resizeTo(this._capacity<<1)},t.prototype._resizeTo=function(n){var i=this._capacity;this._capacity=n;var h=this._front,o=this._length,u=h+o&i-1;l(this,0,this,i,u)},S.exports=t},{}],27:[function(b,S,x){S.exports=function(l,t,n,i){var h=b("./util"),o=function(g){return g.then(function(_){return u(_,g)})};function u(g,_){var m=n(g);if(m instanceof l)return o(m);if(g=h.asArray(g),g===null)return i("expecting an array or an iterable object but got "+h.classString(g));var r=new l(t);_!==void 0&&r._propagateFrom(_,3);for(var f=r._fulfill,p=r._reject,v=0,d=g.length;v<d;++v){var C=g[v];C===void 0&&!(v in g)||l.cast(C)._then(f,p,void 0,r,null)}return r}l.race=function(g){return u(g,void 0)},l.prototype.race=function(){return u(this,void 0)}}},{"./util":36}],28:[function(b,S,x){S.exports=function(l,t,n,i,h,o){var u=b("./util"),g=u.tryCatch;function _(v,d,C,w){this.constructor$(v);var A=l._getContext();this._fn=u.contextBind(A,d),C!==void 0&&(C=l.resolve(C),C._attachCancellationCallback(this)),this._initialValue=C,this._currentCancellable=null,w===h?this._eachValues=Array(this._length):w===0?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}u.inherits(_,t),_.prototype._gotAccum=function(v){this._eachValues!==void 0&&this._eachValues!==null&&v!==h&&this._eachValues.push(v)},_.prototype._eachComplete=function(v){return this._eachValues!==null&&this._eachValues.push(v),this._eachValues},_.prototype._init=function(){},_.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},_.prototype.shouldCopyValues=function(){return!1},_.prototype._resolve=function(v){this._promise._resolveCallback(v),this._values=null},_.prototype._resultCancelled=function(v){if(v===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof l&&this._currentCancellable.cancel(),this._initialValue instanceof l&&this._initialValue.cancel())},_.prototype._iterate=function(v){this._values=v;var d,C,w=v.length;this._initialValue!==void 0?(d=this._initialValue,C=0):(d=l.resolve(v[0]),C=1),this._currentCancellable=d;for(var A=C;A<w;++A){var E=v[A];E instanceof l&&E.suppressUnhandledRejections()}if(!d.isRejected())for(;C<w;++C){var L={accum:null,value:v[C],index:C,length:w,array:this};d=d._then(f,void 0,void 0,L,void 0),C&127||d._setNoAsyncGuarantee()}this._eachValues!==void 0&&(d=d._then(this._eachComplete,void 0,void 0,this,void 0)),d._then(m,m,void 0,d,this)},l.prototype.reduce=function(v,d){return r(this,v,d,null)},l.reduce=function(v,d,C,w){return r(v,d,C,w)};function m(v,d){this.isFulfilled()?d._resolve(v):d._reject(v)}function r(v,d,C,w){if(typeof d!="function")return n("expecting a function but got "+u.classString(d));var A=new _(v,d,C,w);return A.promise()}function f(v){this.accum=v,this.array._gotAccum(v);var d=i(this.value,this.array._promise);return d instanceof l?(this.array._currentCancellable=d,d._then(p,void 0,void 0,this,void 0)):p.call(this,d)}function p(v){var d=this.array,C=d._promise,w=g(d._fn);C._pushContext();var A;d._eachValues!==void 0?A=w.call(C._boundValue(),v,this.index,this.length):A=w.call(C._boundValue(),this.accum,v,this.index,this.length),A instanceof l&&(d._currentCancellable=A);var E=C._popContext();return o.checkForgottenReturns(A,E,d._eachValues!==void 0?"Promise.each":"Promise.reduce",C),A}}},{"./util":36}],29:[function(b,S,x){var l=b("./util"),t,n=function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)},i=l.getNativePromise();if(l.isNode&&typeof MutationObserver>"u"){var h=Ar.setImmediate,o=process.nextTick;t=l.isRecentNode?function(g){h.call(Ar,g)}:function(g){o.call(process,g)}}else if(typeof i=="function"&&typeof i.resolve=="function"){var u=i.resolve();t=function(g){u.then(g)}}else typeof MutationObserver<"u"&&!(typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova))&&"classList"in document.documentElement?t=function(){var g=document.createElement("div"),_={attributes:!0},m=!1,r=document.createElement("div"),f=new MutationObserver(function(){g.classList.toggle("foo"),m=!1});f.observe(r,_);var p=function(){m||(m=!0,r.classList.toggle("foo"))};return function(d){var C=new MutationObserver(function(){C.disconnect(),d()});C.observe(g,_),p()}}():typeof setImmediate<"u"?t=function(g){setImmediate(g)}:typeof setTimeout<"u"?t=function(g){setTimeout(g,0)}:t=n;S.exports=t},{"./util":36}],30:[function(b,S,x){S.exports=function(l,t,n){var i=l.PromiseInspection,h=b("./util");function o(u){this.constructor$(u)}h.inherits(o,t),o.prototype._promiseResolved=function(u,g){this._values[u]=g;var _=++this._totalResolved;return _>=this._length?(this._resolve(this._values),!0):!1},o.prototype._promiseFulfilled=function(u,g){var _=new i;return _._bitField=33554432,_._settledValueField=u,this._promiseResolved(g,_)},o.prototype._promiseRejected=function(u,g){var _=new i;return _._bitField=16777216,_._settledValueField=u,this._promiseResolved(g,_)},l.settle=function(u){return n.deprecated(".settle()",".reflect()"),new o(u).promise()},l.allSettled=function(u){return new o(u).promise()},l.prototype.settle=function(){return l.settle(this)}}},{"./util":36}],31:[function(b,S,x){S.exports=function(l,t,n){var i=b("./util"),h=b("./errors").RangeError,o=b("./errors").AggregateError,u=i.isArray,g={};function _(r){this.constructor$(r),this._howMany=0,this._unwrap=!1,this._initialized=!1}i.inherits(_,t),_.prototype._init=function(){if(this._initialized){if(this._howMany===0){this._resolve([]);return}this._init$(void 0,-5);var r=u(this._values);!this._isResolved()&&r&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},_.prototype.init=function(){this._initialized=!0,this._init()},_.prototype.setUnwrap=function(){this._unwrap=!0},_.prototype.howMany=function(){return this._howMany},_.prototype.setHowMany=function(r){this._howMany=r},_.prototype._promiseFulfilled=function(r){return this._addFulfilled(r),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},_.prototype._promiseRejected=function(r){return this._addRejected(r),this._checkOutcome()},_.prototype._promiseCancelled=function(){return this._values instanceof l||this._values==null?this._cancel():(this._addRejected(g),this._checkOutcome())},_.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var r=new o,f=this.length();f<this._values.length;++f)this._values[f]!==g&&r.push(this._values[f]);return r.length>0?this._reject(r):this._cancel(),!0}return!1},_.prototype._fulfilled=function(){return this._totalResolved},_.prototype._rejected=function(){return this._values.length-this.length()},_.prototype._addRejected=function(r){this._values.push(r)},_.prototype._addFulfilled=function(r){this._values[this._totalResolved++]=r},_.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},_.prototype._getRangeError=function(r){var f="Input array must contain at least "+this._howMany+" items but contains only "+r+" items";return new h(f)},_.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};function m(r,f){if((f|0)!==f||f<0)return n(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var p=new _(r),v=p.promise();return p.setHowMany(f),p.init(),v}l.some=function(r,f){return m(r,f)},l.prototype.some=function(r){return m(this,r)},l._SomePromiseArray=_}},{"./errors":12,"./util":36}],32:[function(b,S,x){S.exports=function(l){function t(_){_!==void 0?(_=_._target(),this._bitField=_._bitField,this._settledValueField=_._isFateSealed()?_._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}t.prototype._settledValue=function(){return this._settledValueField};var n=t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},i=t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},h=t.prototype.isFulfilled=function(){return(this._bitField&33554432)!==0},o=t.prototype.isRejected=function(){return(this._bitField&16777216)!==0},u=t.prototype.isPending=function(){return(this._bitField&50397184)===0},g=t.prototype.isResolved=function(){return(this._bitField&50331648)!==0};t.prototype.isCancelled=function(){return(this._bitField&8454144)!==0},l.prototype.__isCancelled=function(){return(this._bitField&65536)===65536},l.prototype._isCancelled=function(){return this._target().__isCancelled()},l.prototype.isCancelled=function(){return(this._target()._bitField&8454144)!==0},l.prototype.isPending=function(){return u.call(this._target())},l.prototype.isRejected=function(){return o.call(this._target())},l.prototype.isFulfilled=function(){return h.call(this._target())},l.prototype.isResolved=function(){return g.call(this._target())},l.prototype.value=function(){return n.call(this._target())},l.prototype.reason=function(){var _=this._target();return _._unsetRejectionIsUnhandled(),i.call(_)},l.prototype._value=function(){return this._settledValue()},l.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},l.PromiseInspection=t}},{}],33:[function(b,S,x){S.exports=function(l,t){var n=b("./util"),i=n.errorObj,h=n.isObject;function o(f,p){if(h(f)){if(f instanceof l)return f;var v=g(f);if(v===i){p&&p._pushContext();var d=l.reject(v.e);return p&&p._popContext(),d}else if(typeof v=="function"){if(m(f)){var d=new l(t);return f._then(d._fulfill,d._reject,void 0,d,null),d}return r(f,v,p)}}return f}function u(f){return f.then}function g(f){try{return u(f)}catch(p){return i.e=p,i}}var _={}.hasOwnProperty;function m(f){try{return _.call(f,"_promise0")}catch{return!1}}function r(f,p,v){var d=new l(t),C=d;v&&v._pushContext(),d._captureStackTrace(),v&&v._popContext();var w=!0,A=n.tryCatch(p).call(f,E,L);w=!1,d&&A===i&&(d._rejectCallback(A.e,!0,!0),d=null);function E(D){d&&(d._resolveCallback(D),d=null)}function L(D){d&&(d._rejectCallback(D,w,!0),d=null)}return C}return o}},{"./util":36}],34:[function(b,S,x){S.exports=function(l,t,n){var i=b("./util"),h=l.TimeoutError;function o(f){this.handle=f}o.prototype._resultCancelled=function(){clearTimeout(this.handle)};var u=function(f){return g(+this).thenReturn(f)},g=l.delay=function(f,p){var v,d;return p!==void 0?(v=l.resolve(p)._then(u,null,null,f,void 0),n.cancellation()&&p instanceof l&&v._setOnCancel(p)):(v=new l(t),d=setTimeout(function(){v._fulfill()},+f),n.cancellation()&&v._setOnCancel(new o(d)),v._captureStackTrace()),v._setAsyncGuaranteed(),v};l.prototype.delay=function(f){return g(f,this)};var _=function(f,p,v){var d;typeof p!="string"?p instanceof Error?d=p:d=new h("operation timed out"):d=new h(p),i.markAsOriginatingFromRejection(d),f._attachExtraTrace(d),f._reject(d),v!=null&&v.cancel()};function m(f){return clearTimeout(this.handle),f}function r(f){throw clearTimeout(this.handle),f}l.prototype.timeout=function(f,p){f=+f;var v,d,C=new o(setTimeout(function(){v.isPending()&&_(v,p,d)},f));return n.cancellation()?(d=this.then(),v=d._then(m,r,void 0,C,void 0),v._setOnCancel(C)):v=this._then(m,r,void 0,C,void 0),v}}},{"./util":36}],35:[function(b,S,x){S.exports=function(l,t,n,i,h,o){var u=b("./util"),g=b("./errors").TypeError,_=b("./util").inherits,m=u.errorObj,r=u.tryCatch,f={};function p(L){setTimeout(function(){throw L},0)}function v(L){var D=n(L);return D!==L&&typeof L._isDisposable=="function"&&typeof L._getDisposer=="function"&&L._isDisposable()&&D._setDisposable(L._getDisposer()),D}function d(L,D){var R=0,I=L.length,P=new l(h);function $(){if(R>=I)return P._fulfill();var F=v(L[R++]);if(F instanceof l&&F._isDisposable()){try{F=n(F._getDisposer().tryDispose(D),L.promise)}catch(U){return p(U)}if(F instanceof l)return F._then($,p,null,null,null)}$()}return $(),P}function C(L,D,R){this._data=L,this._promise=D,this._context=R}C.prototype.data=function(){return this._data},C.prototype.promise=function(){return this._promise},C.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():f},C.prototype.tryDispose=function(L){var D=this.resource(),R=this._context;R!==void 0&&R._pushContext();var I=D!==f?this.doDispose(D,L):null;return R!==void 0&&R._popContext(),this._promise._unsetDisposable(),this._data=null,I},C.isDisposer=function(L){return L!=null&&typeof L.resource=="function"&&typeof L.tryDispose=="function"};function w(L,D,R){this.constructor$(L,D,R)}_(w,C),w.prototype.doDispose=function(L,D){var R=this.data();return R.call(L,L,D)};function A(L){return C.isDisposer(L)?(this.resources[this.index]._setDisposable(L),L.promise()):L}function E(L){this.length=L,this.promise=null,this[L-1]=null}E.prototype._resultCancelled=function(){for(var L=this.length,D=0;D<L;++D){var R=this[D];R instanceof l&&R.cancel()}},l.using=function(){var L=arguments.length;if(L<2)return t("you must pass at least 2 arguments to Promise.using");var D=arguments[L-1];if(typeof D!="function")return t("expecting a function but got "+u.classString(D));var R,I=!0;L===2&&Array.isArray(arguments[0])?(R=arguments[0],L=R.length,I=!1):(R=arguments,L--);for(var P=new E(L),$=0;$<L;++$){var F=R[$];if(C.isDisposer(F)){var U=F;F=F.promise(),F._setDisposable(U)}else{var Y=n(F);Y instanceof l&&(F=Y._then(A,null,null,{resources:P,index:$},void 0))}P[$]=F}for(var k=new Array(P.length),$=0;$<k.length;++$)k[$]=l.resolve(P[$]).reflect();var H=l.all(k).then(function(X){for(var te=0;te<X.length;++te){var J=X[te];if(J.isRejected())return m.e=J.error(),m;if(!J.isFulfilled()){H.cancel();return}X[te]=J.value()}z._pushContext(),D=r(D);var V=I?D.apply(void 0,X):D(X),se=z._popContext();return o.checkForgottenReturns(V,se,"Promise.using",z),V}),z=H.lastly(function(){var X=new l.PromiseInspection(H);return d(P,X)});return P.promise=z,z._setOnCancel(P),z},l.prototype._setDisposable=function(L){this._bitField=this._bitField|131072,this._disposer=L},l.prototype._isDisposable=function(){return(this._bitField&131072)>0},l.prototype._getDisposer=function(){return this._disposer},l.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},l.prototype.disposer=function(L){if(typeof L=="function")return new w(L,this,i());throw new g}}},{"./errors":12,"./util":36}],36:[function(b,S,x){var l=b("./es5"),t=typeof navigator>"u",n={e:{}},i,h=typeof self<"u"?self:typeof window<"u"?window:typeof Ar<"u"?Ar:this!==void 0?this:null;function o(){try{var N=i;return i=null,N.apply(this,arguments)}catch(Q){return n.e=Q,n}}function u(N){return i=N,o}var g=function(N,Q){var ce={}.hasOwnProperty;function ue(){this.constructor=N,this.constructor$=Q;for(var pe in Q.prototype)ce.call(Q.prototype,pe)&&pe.charAt(pe.length-1)!=="$"&&(this[pe+"$"]=Q.prototype[pe])}return ue.prototype=Q.prototype,N.prototype=new ue,N.prototype};function _(N){return N==null||N===!0||N===!1||typeof N=="string"||typeof N=="number"}function m(N){return typeof N=="function"||typeof N=="object"&&N!==null}function r(N){return _(N)?new Error(I(N)):N}function f(N,Q){var ce=N.length,ue=new Array(ce+1),pe;for(pe=0;pe<ce;++pe)ue[pe]=N[pe];return ue[pe]=Q,ue}function p(N,Q,ce){if(l.isES5){var ue=Object.getOwnPropertyDescriptor(N,Q);if(ue!=null)return ue.get==null&&ue.set==null?ue.value:ce}else return{}.hasOwnProperty.call(N,Q)?N[Q]:void 0}function v(N,Q,ce){if(_(N))return N;var ue={value:ce,configurable:!0,enumerable:!1,writable:!0};return l.defineProperty(N,Q,ue),N}function d(N){throw N}var C=function(){var N=[Array.prototype,Object.prototype,Function.prototype],Q=function(pe){for(var Te=0;Te<N.length;++Te)if(N[Te]===pe)return!0;return!1};if(l.isES5){var ce=Object.getOwnPropertyNames;return function(pe){for(var Te=[],ve=Object.create(null);pe!=null&&!Q(pe);){var Ce;try{Ce=ce(pe)}catch{return Te}for(var xe=0;xe<Ce.length;++xe){var qe=Ce[xe];if(!ve[qe]){ve[qe]=!0;var lt=Object.getOwnPropertyDescriptor(pe,qe);lt!=null&&lt.get==null&&lt.set==null&&Te.push(qe)}}pe=l.getPrototypeOf(pe)}return Te}}else{var ue={}.hasOwnProperty;return function(pe){if(Q(pe))return[];var Te=[];e:for(var ve in pe)if(ue.call(pe,ve))Te.push(ve);else{for(var Ce=0;Ce<N.length;++Ce)if(ue.call(N[Ce],ve))continue e;Te.push(ve)}return Te}}}(),w=/this\s*\.\s*\S+\s*=/;function A(N){try{if(typeof N=="function"){var Q=l.names(N.prototype),ce=l.isES5&&Q.length>1,ue=Q.length>0&&!(Q.length===1&&Q[0]==="constructor"),pe=w.test(N+"")&&l.names(N).length>0;if(ce||ue||pe)return!0}return!1}catch{return!1}}function E(N){function Q(){}Q.prototype=N;var ce=new Q;function ue(){return typeof ce.foo}return ue(),ue(),N}var L=/^[a-z$_][a-z$_0-9]*$/i;function D(N){return L.test(N)}function R(N,Q,ce){for(var ue=new Array(N),pe=0;pe<N;++pe)ue[pe]=Q+pe+ce;return ue}function I(N){try{return N+""}catch{return"[no string representation]"}}function P(N){return N instanceof Error||N!==null&&typeof N=="object"&&typeof N.message=="string"&&typeof N.name=="string"}function $(N){try{v(N,"isOperational",!0)}catch{}}function F(N){return N==null?!1:N instanceof Error.__BluebirdErrorTypes__.OperationalError||N.isOperational===!0}function U(N){return P(N)&&l.propertyIsWritable(N,"stack")}var Y=function(){return"stack"in new Error?function(N){return U(N)?N:new Error(I(N))}:function(N){if(U(N))return N;try{throw new Error(I(N))}catch(Q){return Q}}}();function k(N){return{}.toString.call(N)}function H(N,Q,ce){for(var ue=l.names(N),pe=0;pe<ue.length;++pe){var Te=ue[pe];if(ce(Te))try{l.defineProperty(Q,Te,l.getDescriptor(N,Te))}catch{}}}var z=function(N){return l.isArray(N)?N:null};if(typeof Symbol<"u"&&Symbol.iterator){var X=typeof Array.from=="function"?function(N){return Array.from(N)}:function(N){for(var Q=[],ce=N[Symbol.iterator](),ue;!(ue=ce.next()).done;)Q.push(ue.value);return Q};z=function(N){return l.isArray(N)?N:N!=null&&typeof N[Symbol.iterator]=="function"?X(N):null}}var te=typeof process<"u"&&k(process).toLowerCase()==="[object process]",J=typeof process<"u"&&typeof c<"u";function V(N){return J?c[N]:void 0}function se(){if(typeof Promise=="function")try{var N=new Promise(function(){});if(k(N)==="[object Promise]")return Promise}catch{}}var be;function B(N,Q){if(N===null||typeof Q!="function"||Q===be)return Q;N.domain!==null&&(Q=N.domain.bind(Q));var ce=N.async;if(ce!==null){var ue=Q;Q=function(){var pe=new Array(2).concat([].slice.call(arguments));return pe[0]=ue,pe[1]=this,ce.runInAsyncScope.apply(ce,pe)}}return Q}var j={setReflectHandler:function(N){be=N},isClass:A,isIdentifier:D,inheritedDataKeys:C,getDataPropertyOrDefault:p,thrower:d,isArray:l.isArray,asArray:z,notEnumerableProp:v,isPrimitive:_,isObject:m,isError:P,canEvaluate:t,errorObj:n,tryCatch:u,inherits:g,withAppended:f,maybeWrapAsError:r,toFastProperties:E,filledRange:R,toString:I,canAttachTrace:U,ensureErrorObject:Y,originatesFromRejection:F,markAsOriginatingFromRejection:$,classString:k,copyDescriptors:H,isNode:te,hasEnvVariables:J,env:V,global:h,getNativePromise:se,contextBind:B};j.isRecentNode=j.isNode&&function(){var N;return process.versions&&process.versions.node?N=process.versions.node.split(".").map(Number):process.version&&(N=process.version.split(".").map(Number)),N[0]===0&&N[1]>10||N[0]>0}(),j.nodeSupportsAsyncResource=j.isNode&&function(){var N=!1;try{var Q=b("async_hooks").AsyncResource;N=typeof Q.prototype.runInAsyncScope=="function"}catch{N=!1}return N}(),j.isNode&&j.toFastProperties(process);try{throw new Error}catch(N){j.lastLineError=N}S.exports=j},{"./es5":13,async_hooks:void 0}]},{},[4])(4)}),typeof window<"u"&&window!==null?window.P=window.Promise:typeof self<"u"&&self!==null&&(self.P=self.Promise)})(og);var sA=og.exports;const Va=ci(sA),Sn=e=>(Vt("data-v-7a942bad"),e=e(),Kt(),e),oA={class:"git-section"},aA=Sn(()=>W("h1",null,"Git",-1)),lA={class:"custom-header"},cA={key:0,class:"loader"},uA={key:1,class:"loader"},hA=Sn(()=>W("caption",null,"All services to pull",-1)),fA={class:"badge"},dA=["onClick","disabled"],pA=Sn(()=>W("i",{class:"fas fa-download"},null,-1)),vA={key:0,class:"line"},gA={key:0},_A=Sn(()=>W("i",{class:"fas fa-exclamation-triangle"},null,-1)),mA=["disabled","onClick"],yA=Sn(()=>W("i",{class:"fas fa-sun"},null,-1)),bA=["disabled","onClick"],SA=Sn(()=>W("i",{class:"far fa-sun"},null,-1)),CA={class:"custom-header"},wA={key:0,class:"loader"},xA={key:1,class:"loader"},EA=Sn(()=>W("caption",null,"All services to push",-1)),AA={class:"badge"},TA=["disabled"],LA=Sn(()=>W("option",{default:""},null,-1)),OA=["value"],RA=Sn(()=>W("caption",null,"Manage all services",-1)),kA=["onClick"],DA={class:"badge"},IA=["onInput","disabled"],MA=Sn(()=>W("option",{default:""},null,-1)),PA=["value"],BA={key:1},$A={class:"line"},FA=["disabled","onClick"],jA=Sn(()=>W("i",{class:"fas fa-sun"},null,-1)),NA=["disabled","onClick"],HA=Sn(()=>W("i",{class:"far fa-sun"},null,-1)),UA={__name:"NotUpToDate",setup(e){const a=Le(Ls.services.value.sort((f,p)=>{var v;return((v=f.label)==null?void 0:v.localeCompare((p==null?void 0:p.label)||""))||0})),c=Le([]),b=Le([]);async function S(){const f=await Va.map(Ls.services.value,async p=>(await p.updateGit(),p),{concurrency:6});a.value=f.sort((p,v)=>{var d;return((d=p.label)==null?void 0:d.localeCompare((v==null?void 0:v.label)||""))||0})}er(async()=>{await Ls.loadServices(),await S(),await h()});const x=(f,p)=>f.filter((v,d,C)=>C.findIndex(w=>p.every(A=>w[A]===v[A]))===d),l=At(()=>{const f=a.value.flatMap(p=>{var v;return(v=p.git)==null?void 0:v.branches}).filter(p=>p);return x(f,["name"]).sort((p,v)=>{var d;return(d=p==null?void 0:p.name)==null?void 0:d.localeCompare(v==null?void 0:v.name)})}),t=Le(!1),n=Le(0),i=Le(""),h=async()=>{t.value=!0,n.value=0,i.value="",c.value=[],b.value=[],await Va.map((Ls==null?void 0:Ls.services.value)||[],async f=>{try{i.value=f.label||"",await f.updateGit();const p=await f.getCurrentBranch();return f.git&&p&&(f.git.delta=await f.gitRemoteDelta(p),f.git.delta&&(f.git.delta<0&&c.value.push(f),f.git.delta>0&&b.value.push(f))),f}catch(p){console.error(p)}finally{n.value+=1}},{concurrency:6}).finally(()=>{t.value=!1,i.value=""})};async function o(f){t.value=!0,await f.pull().catch(p=>Dt.next("error",p.response.data)),await f.updateGit(),await h(),Dt.next("success","Branch is now up to date")}async function u(){t.value=!0;try{await Va.map(c.value,async f=>{await f.pull().catch(p=>Dt.next("error",p.response.data))},{concurrency:6}),await h(),Dt.next("success","All branches are pulled")}catch(f){console.error(f)}finally{t.value=!1}}async function g(f){f&&(t.value=!0,await Va.map(a.value,async p=>{await p.changeBranch(f).catch(v=>Dt.next("error",v.response.data))},{concurrency:6}),await S(),await h())}async function _(f,p){p&&(t.value=!0,await f.changeBranch(p).catch(v=>Dt.next("error",v.response.data)),await S(),await h())}async function m(f){return await f.stash().then(()=>Dt.next("success","All changes is in stash")).catch(p=>Dt.next("error",p.response.data)),f.updateGit()}async function r(f){return await f.stashPop().then(()=>Dt.next("success","All changes unstashed")).catch(p=>Dt.next("error",p.response.data)),f.updateGit()}return(f,p)=>{var v,d;return re(),oe("div",oA,[aA,(v=c.value)!=null&&v.length||t.value?(re(),jt(ar,{key:0,class:"section",actions:[{label:"Pull all",icon:"fas fa-download",click:u,hidden:t.value}]},{header:rt(()=>{var C;return[W("div",lA,[t.value?(re(),oe("div",cA,[at(li,{size:"15"})])):He("",!0),Ue(" Services to pull "),t.value?(re(),oe("div",uA," ("+De(n.value)+"/"+De((C=a.value)==null?void 0:C.length)+") "+De(i.value),1)):He("",!0)])]}),default:rt(()=>[W("table",null,[hA,(re(!0),oe(it,null,pt(c.value,C=>{var w,A,E,L,D,R,I;return re(),oe("tr",{key:C==null?void 0:C.label},[W("td",null,[W("h3",null,De(C.label),1)]),W("td",null,[W("div",fA,De((w=C.git)==null?void 0:w.currentBranch),1)]),W("td",null,[W("button",{onClick:P=>o(C),disabled:t.value||!!((E=(A=C.git)==null?void 0:A.status)!=null&&E.length)},[pA,Ue(" "+De("Pull ("+(((L=C.git)==null?void 0:L.delta)||0)+")"),1)],8,dA)]),W("td",null,[C.git?(re(),oe("div",vA,[(D=C.git.status)!=null&&D.length?(re(),oe("div",gA,[_A,Ue(" Pending changes... Pull may not work. Stash or reset your changes before. ")])):He("",!0),W("button",{class:"small",disabled:t.value||!((I=(R=C.git)==null?void 0:R.status)!=null&&I.filter(P=>P).length),onClick:P=>m(C)},[yA,Ue(" Stash ")],8,mA),W("button",{class:"small",disabled:t.value||!C.git.stash,onClick:P=>r(C)},[SA,Ue(" Unstash ")],8,bA)])):He("",!0)])])}),128))])]),_:1},8,["actions"])):He("",!0),(d=b.value)!=null&&d.length||t.value?(re(),jt(ar,{key:1,class:"section"},{header:rt(()=>{var C;return[W("div",CA,[t.value?(re(),oe("div",wA,[at(li,{size:"15"})])):He("",!0),Ue(" Services to push "),t.value?(re(),oe("div",xA," ("+De(n.value)+"/"+De((C=a.value)==null?void 0:C.length)+") ",1)):He("",!0)])]}),default:rt(()=>[W("table",null,[EA,(re(!0),oe(it,null,pt(b.value,C=>{var w,A;return re(),oe("tr",{key:C==null?void 0:C.label},[W("td",null,[W("h3",null,De(C.label),1)]),W("td",null,[W("div",AA,De((w=C.git)==null?void 0:w.currentBranch),1)]),W("td",null,De((A=C.git)==null?void 0:A.delta)+" commits to push ",1)])}),128))])]),_:1})):He("",!0),at(ar,{header:"Services"},{default:rt(()=>[Ue(" Change all branches to: "),W("select",{onInput:p[0]||(p[0]=C=>{var w;return g(((w=C==null?void 0:C.target)==null?void 0:w.value)||"")}),disabled:t.value},[LA,(re(!0),oe(it,null,pt(l.value,C=>(re(),oe("option",{key:C==null?void 0:C.name,value:C==null?void 0:C.name},De(C==null?void 0:C.name),9,OA))),128))],40,TA),W("table",null,[RA,(re(!0),oe(it,null,pt(a.value,C=>{var w,A,E,L,D,R,I,P,$;return re(),oe("tr",{key:C==null?void 0:C.label},[W("td",null,[W("h3",null,[Ue(De(C.label)+" ",1),W("i",{class:"fas fa-external-link-alt",onClick:F=>f.$router.push({name:"stack-single",params:{label:C.label}})},null,8,kA)])]),W("td",null,[W("div",DA,De((w=C.git)==null?void 0:w.currentBranch),1)]),W("td",null,[(L=(E=(A=C.git)==null?void 0:A.branches)==null?void 0:E.filter(F=>{var U;return(F==null?void 0:F.name)!==((U=C.git)==null?void 0:U.currentBranch)}))!=null&&L.length?(re(),oe("select",{key:0,onInput:F=>_(C,F.target.value),disabled:t.value},[MA,(re(!0),oe(it,null,pt((R=(D=C.git)==null?void 0:D.branches)==null?void 0:R.filter(F=>{var U;return(F==null?void 0:F.name)!==((U=C.git)==null?void 0:U.currentBranch)}),F=>(re(),oe("option",{key:F==null?void 0:F.name,value:F==null?void 0:F.name},De(F==null?void 0:F.name),9,PA))),128))],40,IA)):(re(),oe("div",BA," Unique branch, cannot change branch for this service "))]),W("td",null,[W("div",$A,[W("button",{class:"small",disabled:t.value||!((P=(I=C.git)==null?void 0:I.status)!=null&&P.filter(F=>F).length),onClick:F=>m(C)},[jA,Ue(" Stash ")],8,FA),W("button",{class:"small",disabled:t.value||!(($=C.git)!=null&&$.stash),onClick:F=>r(C)},[HA,Ue(" Unstash ")],8,NA)])])])}),128))])]),_:1})])}}},WA=Pt(UA,[["__scopeId","data-v-7a942bad"]]),zA={components:{sectionCmp:ar,Spinner:li},props:{service:{default:null,required:!0,type:Rn},isInMultiMode:{type:Boolean}},setup(e){const a=Di(),c=Le(!1),b=Le(null),S=Le(null),x=async()=>{e.service&&(c.value=await e.service.isNpm(),b.value=await e.service.getPackageJSON(),S.value=await e.service.outdatedNpm())};return er(x),vn(()=>e.service,x),{isNpm:c,packageJson:b,outdated:S,async run(l){e.service&&(["install","build","rebuild"].includes(l)?await e.service.sendTerminalPrompt({message:`npm ${l}`}):await e.service.sendTerminalPrompt({message:`npm run ${l}`}),a.push({path:a.currentRoute.value.fullPath,query:Object.assign({},a.currentRoute.value.query||{},{tab:"Logs"})}))}}}},Pi=e=>(Vt("data-v-afa6cfa1"),e=e(),Kt(),e),GA={key:0,header:"Npm"},VA={class:"command-container"},KA={class:"button-container"},YA=Pi(()=>W("i",{class:"fas fa-play","aria-hidden":"true"},null,-1)),XA=[YA],JA={class:"command-container"},QA={class:"button-container"},qA=Pi(()=>W("i",{class:"fas fa-play","aria-hidden":"true"},null,-1)),ZA=[qA],eT=["title"],tT=["onClick"],rT=Pi(()=>W("i",{class:"fas fa-play","aria-hidden":"true"},null,-1)),nT=[rT],iT={class:"dep-header"},sT={class:"dependecies"},oT=Pi(()=>W("tr",null,[W("th",{scope:"name"},"name"),W("th",{class:"version",scope:"version"},"version"),W("th",{class:"version",scope:"wanted"},"wanted"),W("th",{class:"version",scope:"latest"},"latest")],-1)),aT={key:1},lT=Pi(()=>W("i",{class:"fas fa-check","aria-hidden":"true"},null,-1)),cT=[lT],uT={key:2},hT=Pi(()=>W("i",{class:"fas fa-times","aria-hidden":"true"},null,-1)),fT={key:1},dT=Pi(()=>W("i",{class:"fas fa-check","aria-hidden":"true"},null,-1)),pT=[dT],vT={key:2},gT=Pi(()=>W("i",{class:"fas fa-times","aria-hidden":"true"},null,-1));function _T(e,a,c,b,S,x){const l=br("section-cmp"),t=br("spinner");return b.isNpm&&b.packageJson?(re(),oe("div",GA,[(re(),jt(l,{key:c.service.label,header:"Scripts",maxHeight:"400px"},{default:rt(()=>[W("div",VA,[W("div",KA,[W("button",{onClick:a[0]||(a[0]=n=>b.run("install"))},XA),Ue(" install ")])]),W("div",JA,[W("div",QA,[W("button",{onClick:a[1]||(a[1]=n=>b.run("rebuild"))},ZA),Ue(" rebuild ")])]),(re(!0),oe(it,null,pt(b.packageJson.scripts,(n,i)=>(re(),oe("div",{key:i,title:n},[W("div",null,[W("button",{onClick:h=>b.run(i)},nT,8,tT),Ue(" "+De(i),1)])],8,eT))),128))]),_:1})),c.isInMultiMode?He("",!0):(re(),jt(l,{key:c.service.label},{default:rt(()=>[(re(!0),oe(it,null,pt(["dependencies","devDependencies"].filter(n=>b.packageJson[n]),n=>(re(),oe("div",{class:"categ",key:n},[W("h2",iT,De(n.charAt(0).toUpperCase()+n.slice(1)),1),W("div",sT,[W("table",null,[W("caption",null,De(n)+" Table",1),oT,(re(!0),oe(it,null,pt(b.packageJson[n],(i,h)=>{var o,u,g,_,m,r,f,p,v,d,C,w,A,E,L,D,R,I,P,$,F,U;return re(),oe("tr",{key:h},[W("td",null,De(h),1),W("td",null,De(i),1),W("td",{class:St({success:b.outdated&&!((u=(o=b.outdated)==null?void 0:o[h])!=null&&u.wanted),error:((_=(g=b.outdated)==null?void 0:g[h])==null?void 0:_.wanted)&&((r=(m=b.outdated)==null?void 0:m[h])==null?void 0:r.current)!==((p=(f=b.outdated)==null?void 0:f[h])==null?void 0:p.wanted)})},[b.outdated?(v=b.outdated)!=null&&v[h]?(re(),oe("div",uT,[hT,Ue(" "+De((C=(d=b.outdated)==null?void 0:d[h])==null?void 0:C.wanted),1)])):(re(),oe("div",aT,cT)):(re(),jt(t,{key:0,size:20}))],2),W("td",{class:St({success:b.outdated&&!((A=(w=b.outdated)==null?void 0:w[h])!=null&&A.wanted),error:((L=(E=b.outdated)==null?void 0:E[h])==null?void 0:L.latest)&&((R=(D=b.outdated)==null?void 0:D[h])==null?void 0:R.current)!==((P=(I=b.outdated)==null?void 0:I[h])==null?void 0:P.latest)})},[b.outdated?($=b.outdated)!=null&&$[h]?(re(),oe("div",vT,[gT,Ue(" "+De((U=(F=b.outdated)==null?void 0:F[h])==null?void 0:U.latest),1)])):(re(),oe("div",fT,pT)):(re(),jt(t,{key:0,size:20}))],2)])}),128))])])]))),128))]),_:1}))])):He("",!0)}const mT=Pt(zA,[["render",_T],["__scopeId","data-v-afa6cfa1"]]),yT={components:{sectionCmp:ar,spinner:li},props:{service:{default:null,required:!0,type:Rn},isInMultiMode:{type:Boolean}},setup(e){const a=Le([]),c=Le(!0),b=()=>(async()=>{a.value=[],c.value=!0,a.value=await e.service.getBugs().catch(S=>{var x,l,t,n;return((l=(x=S==null?void 0:S.response)==null?void 0:x.data)==null?void 0:l.code)==="TSC_NOT_FOUND"&&Dt.next("error",'Please "npm i -g typescript"'),((n=(t=S==null?void 0:S.response)==null?void 0:t.data)==null?void 0:n.code)==="JSCONFIG_NOT_FOUND"&&Dt.next("error","Please create a jsconfig.json in project"),[]})})().then(()=>c.value=!1).catch(()=>c.value=!1);return er(b),vn(()=>e.service,b),{reload:b,loading:c,bugs:a,openInVsCode(S){e.service.openLinkInVsCode(S.path)}}}},bT={key:0,class:"loading"},ST={key:1,class:"bugs"},CT=["onClick"],wT={class:"message"};function xT(e,a,c,b,S,x){var n;const l=br("spinner"),t=br("section-cmp");return c.service?(re(),jt(t,{key:c.service.label,header:"Bugs("+(((n=b.bugs)==null?void 0:n.length)||0)+")",class:"bug-root",style:Br({maxHeight:c.isInMultiMode?"400px":"inherit"}),actions:[{label:"Reload",icon:"fas fa-sync",click:()=>b.reload(),hidden:b.loading}]},{default:rt(()=>[b.loading?(re(),oe("div",bT,[at(l,{size:40}),Ue(" Analyse en cours ")])):(re(),oe("div",ST,[(re(!0),oe(it,null,pt(b.bugs,i=>(re(),oe("div",{class:St(["bug",i.category]),key:i},[W("div",{class:"path",onClick:h=>b.openInVsCode(i)},De(i.fileName)+"("+De(i.line)+","+De(i.column)+")",9,CT),W("div",wT,De(i.messageText),1)],2))),128))]))]),_:1},8,["header","style","actions"])):He("",!0)}const ET=Pt(yT,[["render",xT],["__scopeId","data-v-1d7dbe2f"]]);var ag=function(e){return function(a,c,b){return e(a,c,b)*b}},Hu=function(e,a){if(e)throw Error("Invalid sort config: "+a)},lg=function(e){var a=e||{},c=a.asc,b=a.desc,S=c?1:-1,x=c||b;Hu(!x,"Expected `asc` or `desc` property"),Hu(c&&b,"Ambiguous object with `asc` and `desc` config properties");var l=e.comparer&&ag(e.comparer);return{order:S,sortBy:x,comparer:l}},AT=function(e){return function a(c,b,S,x,l,t,n){var i,h;if(typeof c=="string")i=t[c],h=n[c];else if(typeof c=="function")i=c(t),h=c(n);else{var o=lg(c);return a(o.sortBy,b,S,o.order,o.comparer||e,t,n)}var u=l(i,h,x);return(u===0||i==null&&h==null)&&b.length>S?a(b[S],b,S+1,x,l,t,n):u}};function cg(e,a,c){if(e===void 0||e===!0)return function(x,l){return a(x,l,c)};if(typeof e=="string")return Hu(e.includes("."),"String syntax not allowed for nested properties."),function(x,l){return a(x[e],l[e],c)};if(typeof e=="function")return function(x,l){return a(e(x),e(l),c)};if(Array.isArray(e)){var b=AT(a);return function(x,l){return b(e[0],e,1,c,a,x,l)}}var S=lg(e);return cg(S.sortBy,S.comparer||a,S.order)}var yu=function(e,a,c,b){var S;return Array.isArray(a)?(Array.isArray(c)&&c.length<2&&(S=c,c=S[0]),a.sort(cg(c,b,e))):a};function ug(e){var a=ag(e.comparer);return function(c){var b=Array.isArray(c)&&!e.inPlaceSorting?c.slice():c;return{asc:function(S){return yu(1,b,S,a)},desc:function(S){return yu(-1,b,S,a)},by:function(S){return yu(1,b,S,a)}}}}var hg=function(e,a,c){return e==null?c:a==null?-c:typeof e!=typeof a?typeof e<typeof a?-1:1:e<a?-1:e>a?1:0},bo=ug({comparer:hg});ug({comparer:hg,inPlaceSorting:!0});const TT={components:{sectionCmp:ar},props:{service:{default:null,required:!0,type:Rn}},setup(e){return{envs:At(()=>{const a=e.service.spawnOptions||{},c=Object.keys(a.overrideEnvs||{}).map(S=>({key:S,value:(a.overrideEnvs||{})[S],overrided:(a.env||{})[S]!=null,originalValue:(a.env||{})[S]})),b=Object.keys(a.env||{}).filter(S=>{var x;return!((x=a.overrideEnvs)!=null&&x[S])}).map(S=>({key:S,value:(a.env||{})[S],overrided:!1,originalValue:(a.env||{})[S]}));return bo([...b,...c]).asc([S=>!S.overrided,S=>S.key])}),exportEnv(){var S;const a=((S=e.service.spawnOptions)==null?void 0:S.env)||{},c=Object.keys(a).map(x=>`${x}=${a[x]}`).join(`
`),b=document.createElement("a");b.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(c)),b.setAttribute("download",".env"),b.style.display="none",document.body.appendChild(b),b.click(),document.body.removeChild(b)}}}},kr=e=>(Vt("data-v-2674d3a7"),e=e(),Kt(),e),LT=kr(()=>W("div",{class:"header"},[W("h2",null,"Configuration")],-1)),OT={class:"configs"},RT=kr(()=>W("div",{class:"header-configs"},[W("div",null,[W("i",{class:"fas fa-home","aria-hidden":"true"}),W("h3",null,"General")])],-1)),kT={class:"section-configs"},DT={key:0,class:"key-value"},IT=kr(()=>W("div",{class:"key"},"Description",-1)),MT={class:"value"},PT={key:1,class:"key-value"},BT=kr(()=>W("div",{class:"key"},"Url",-1)),$T={class:"value"},FT=kr(()=>W("div",{class:"header-configs"},[W("div",null,[W("i",{class:"fab fa-git-alt","aria-hidden":"true"}),W("h3",null,"Git")])],-1)),jT={class:"section-configs"},NT={key:0,class:"key-value"},HT=kr(()=>W("div",{class:"key"},"Home",-1)),UT={class:"value"},WT={key:1,class:"key-value"},zT=kr(()=>W("div",{class:"key"},"Remote",-1)),GT={class:"value"},VT=kr(()=>W("div",{class:"header-configs"},[W("div",null,[W("i",{class:"fas fa-terminal","aria-hidden":"true"}),W("h3",null,"Command")])],-1)),KT={key:0,class:"section-configs"},YT={class:"key-value"},XT=kr(()=>W("div",{class:"key"},"Executable",-1)),JT={class:"value"},QT={class:"key-value"},qT=kr(()=>W("div",{class:"key"},"Command args",-1)),ZT={class:"key-value"},eL=kr(()=>W("div",{class:"key"},"Path",-1)),tL={class:"value"},rL={class:"key-value"},nL=kr(()=>W("div",{class:"key"},"Executable",-1)),iL={class:"value"},sL={class:"key-value"},oL=kr(()=>W("div",{class:"key"},"Command args",-1)),aL={class:"key-value"},lL=kr(()=>W("div",{class:"key"},"Path",-1)),cL={class:"value"},uL={class:"header-configs"},hL=kr(()=>W("div",null,[W("i",{class:"fas fa-cog","aria-hidden":"true"}),W("h3",null,"Envs")],-1)),fL={class:"section-configs"},dL=kr(()=>W("i",{class:"fas fa-exclamation-triangle"},null,-1)),pL={key:0,class:"value"},vL={key:1,class:"value"},gL={style:{color:"#aaa"}};function _L(e,a,c,b,S,x){const l=br("section-cmp");return c.service?(re(),jt(l,{class:"configs-root",key:c.service.label},{default:rt(()=>{var t;return[LT,W("div",OT,[RT,W("div",kT,[c.service.description?(re(),oe("div",DT,[IT,W("div",MT,De(c.service.description),1)])):He("",!0),c.service.url?(re(),oe("div",PT,[BT,W("div",$T,De(c.service.url),1)])):He("",!0)]),FT,W("div",jT,[c.service.git.home?(re(),oe("div",NT,[HT,W("div",UT,De(c.service.git.home),1)])):He("",!0),c.service.git.remote?(re(),oe("div",WT,[zT,W("div",GT,De(c.service.git.remote),1)])):He("",!0)]),VT,c.service.spawnCmd?(re(),oe("div",KT,[W("div",YT,[XT,W("div",JT,De(c.service.spawnCmd),1)]),W("div",QT,[qT,(re(!0),oe(it,null,pt(c.service.spawnArgs,(n,i)=>(re(),oe("div",{class:"value",key:n},De(c.service.spawnArgs[i]),1))),128))]),W("div",ZT,[eL,W("div",tL,De(c.service.spawnOptions.cwd),1)])])):He("",!0),(t=c.service.commands)!=null&&t.length?(re(!0),oe(it,{key:1},pt(c.service.commands,n=>{var i;return re(),oe("div",{class:"section-configs",key:n.spawCmd},[W("div",rL,[nL,W("div",iL,De(n==null?void 0:n.spawnCmd),1)]),W("div",sL,[oL,(re(!0),oe(it,null,pt(n.spawnArgs,(h,o)=>{var u;return re(),oe("div",{class:"value",key:h},De((u=n==null?void 0:n.spawnArgs)==null?void 0:u[o]),1)}),128))]),W("div",aL,[lL,W("div",cL,De((i=n==null?void 0:n.spawnOptions)==null?void 0:i.cwd),1)])])}),128)):He("",!0),W("div",uL,[hL,W("button",{onClick:a[0]||(a[0]=(...n)=>b.exportEnv&&b.exportEnv(...n))},"Export")]),W("div",fL,[(re(!0),oe(it,null,pt(b.envs,n=>(re(),oe("div",{class:"key-value",key:n.key},[W("div",{class:St(["key",{overrided:n.overrided}])},[Ue(De(n.key)+" ",1),n.overrided?(re(),oe(it,{key:0},[Ue(" ("),dL,Ue(" Overrided by .env) ")],64)):He("",!0)],2),n.overrided?(re(),oe("div",vL,[W("ul",null,[W("li",null,"Current: "+De(n.value),1),W("li",gL,"Original: "+De(n.originalValue),1)])])):(re(),oe("div",pL,De(n.value),1))]))),128))])])]}),_:1})):He("",!0)}const mL=Pt(TT,[["render",_L],["__scopeId","data-v-2674d3a7"]]);var fg={exports:{}};(function(e,a){(function(c,b){e.exports=b()})(Ar,function(){return function(c,b,S){c=c||{};var x=b.prototype,l={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function t(i,h,o,u){return x.fromToBase(i,h,o,u)}S.en.relativeTime=l,x.fromToBase=function(i,h,o,u,g){for(var _,m,r,f=o.$locale().relativeTime||l,p=c.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],v=p.length,d=0;d<v;d+=1){var C=p[d];C.d&&(_=u?S(i).diff(o,C.d,!0):o.diff(i,C.d,!0));var w=(c.rounding||Math.round)(Math.abs(_));if(r=_>0,w<=C.r||!C.r){w<=1&&d>0&&(C=p[d-1]);var A=f[C.l];g&&(w=g(""+w)),m=typeof A=="string"?A.replace("%d",w):A(w,h,C.l,r);break}}if(h)return m;var E=r?f.future:f.past;return typeof E=="function"?E(m):E.replace("%s",m)},x.to=function(i,h){return t(i,h,this,!0)},x.from=function(i,h){return t(i,h,this)};var n=function(i){return i.$u?S.utc():S()};x.toNow=function(i){return this.to(n(this),i)},x.fromNow=function(i){return this.from(n(this),i)}}})})(fg);var yL=fg.exports;const bL=ci(yL);var dg={exports:{}};(function(e,a){(function(c,b){e.exports=b()})(Ar,function(){var c,b,S=1e3,x=6e4,l=36e5,t=864e5,n=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,i=31536e6,h=2628e6,o=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,u={years:i,months:h,days:t,hours:l,minutes:x,seconds:S,milliseconds:1,weeks:6048e5},g=function(w){return w instanceof d},_=function(w,A,E){return new d(w,E,A.$l)},m=function(w){return b.p(w)+"s"},r=function(w){return w<0},f=function(w){return r(w)?Math.ceil(w):Math.floor(w)},p=function(w){return Math.abs(w)},v=function(w,A){return w?r(w)?{negative:!0,format:""+p(w)+A}:{negative:!1,format:""+w+A}:{negative:!1,format:""}},d=function(){function w(E,L,D){var R=this;if(this.$d={},this.$l=D,E===void 0&&(this.$ms=0,this.parseFromMilliseconds()),L)return _(E*u[m(L)],this);if(typeof E=="number")return this.$ms=E,this.parseFromMilliseconds(),this;if(typeof E=="object")return Object.keys(E).forEach(function($){R.$d[m($)]=E[$]}),this.calMilliseconds(),this;if(typeof E=="string"){var I=E.match(o);if(I){var P=I.slice(2).map(function($){return $!=null?Number($):0});return this.$d.years=P[0],this.$d.months=P[1],this.$d.weeks=P[2],this.$d.days=P[3],this.$d.hours=P[4],this.$d.minutes=P[5],this.$d.seconds=P[6],this.calMilliseconds(),this}}return this}var A=w.prototype;return A.calMilliseconds=function(){var E=this;this.$ms=Object.keys(this.$d).reduce(function(L,D){return L+(E.$d[D]||0)*u[D]},0)},A.parseFromMilliseconds=function(){var E=this.$ms;this.$d.years=f(E/i),E%=i,this.$d.months=f(E/h),E%=h,this.$d.days=f(E/t),E%=t,this.$d.hours=f(E/l),E%=l,this.$d.minutes=f(E/x),E%=x,this.$d.seconds=f(E/S),E%=S,this.$d.milliseconds=E},A.toISOString=function(){var E=v(this.$d.years,"Y"),L=v(this.$d.months,"M"),D=+this.$d.days||0;this.$d.weeks&&(D+=7*this.$d.weeks);var R=v(D,"D"),I=v(this.$d.hours,"H"),P=v(this.$d.minutes,"M"),$=this.$d.seconds||0;this.$d.milliseconds&&($+=this.$d.milliseconds/1e3,$=Math.round(1e3*$)/1e3);var F=v($,"S"),U=E.negative||L.negative||R.negative||I.negative||P.negative||F.negative,Y=I.format||P.format||F.format?"T":"",k=(U?"-":"")+"P"+E.format+L.format+R.format+Y+I.format+P.format+F.format;return k==="P"||k==="-P"?"P0D":k},A.toJSON=function(){return this.toISOString()},A.format=function(E){var L=E||"YYYY-MM-DDTHH:mm:ss",D={Y:this.$d.years,YY:b.s(this.$d.years,2,"0"),YYYY:b.s(this.$d.years,4,"0"),M:this.$d.months,MM:b.s(this.$d.months,2,"0"),D:this.$d.days,DD:b.s(this.$d.days,2,"0"),H:this.$d.hours,HH:b.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:b.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:b.s(this.$d.seconds,2,"0"),SSS:b.s(this.$d.milliseconds,3,"0")};return L.replace(n,function(R,I){return I||String(D[R])})},A.as=function(E){return this.$ms/u[m(E)]},A.get=function(E){var L=this.$ms,D=m(E);return D==="milliseconds"?L%=1e3:L=D==="weeks"?f(L/u[D]):this.$d[D],L||0},A.add=function(E,L,D){var R;return R=L?E*u[m(L)]:g(E)?E.$ms:_(E,this).$ms,_(this.$ms+R*(D?-1:1),this)},A.subtract=function(E,L){return this.add(E,L,!0)},A.locale=function(E){var L=this.clone();return L.$l=E,L},A.clone=function(){return _(this.$ms,this)},A.humanize=function(E){return c().add(this.$ms,"ms").locale(this.$l).fromNow(!E)},A.valueOf=function(){return this.asMilliseconds()},A.milliseconds=function(){return this.get("milliseconds")},A.asMilliseconds=function(){return this.as("milliseconds")},A.seconds=function(){return this.get("seconds")},A.asSeconds=function(){return this.as("seconds")},A.minutes=function(){return this.get("minutes")},A.asMinutes=function(){return this.as("minutes")},A.hours=function(){return this.get("hours")},A.asHours=function(){return this.as("hours")},A.days=function(){return this.get("days")},A.asDays=function(){return this.as("days")},A.weeks=function(){return this.get("weeks")},A.asWeeks=function(){return this.as("weeks")},A.months=function(){return this.get("months")},A.asMonths=function(){return this.as("months")},A.years=function(){return this.get("years")},A.asYears=function(){return this.as("years")},w}(),C=function(w,A,E){return w.add(A.years()*E,"y").add(A.months()*E,"M").add(A.days()*E,"d").add(A.hours()*E,"h").add(A.minutes()*E,"m").add(A.seconds()*E,"s").add(A.milliseconds()*E,"ms")};return function(w,A,E){c=E,b=E().$utils(),E.duration=function(R,I){var P=E.locale();return _(R,{$l:P},I)},E.isDuration=g;var L=A.prototype.add,D=A.prototype.subtract;A.prototype.add=function(R,I){return g(R)?C(this,R,1):L.bind(this)(R,I)},A.prototype.subtract=function(R,I){return g(R)?C(this,R,-1):D.bind(this)(R,I)}}})})(dg);var SL=dg.exports;const CL=ci(SL),ph=e=>(Vt("data-v-32ace72d"),e=e(),Kt(),e),wL={class:"chat"},xL=["innerHTML"],EL={class:"infos"},AL={key:0},TL={key:0,class:"message-container"},LL=ph(()=>W("div",{class:"bubble"}," I'm thinking... ",-1)),OL=ph(()=>W("div",{class:"infos"},null,-1)),RL=[LL,OL],kL={class:"input-container"},DL=ph(()=>W("i",{class:"fas fa-envelope"},null,-1)),IL=[DL],ML={__name:"Chat",props:{messages:{default:[],required:!0},loading:{type:Boolean}},emits:["send"],setup(e,{emit:a}){jn.extend(bL),jn.extend(CL),jn.locale("fr");const c=e,b=a,S=Le(),x=Le("");let l=!0;er(t);async function t(){const u=S.value.scrollTop+S.value.clientHeight===S.value.scrollHeight;setTimeout(()=>{(l||u)&&(S.value.scrollTop=S.value.scrollHeight),l=!1},0)}vn(()=>c.messages,async()=>{await t()},{deep:!0});async function n(u){u.ctrlKey&&await h(u)}async function i(u){u.target&&(u.target.style.height="calc(1em + 15px)",u.target.style.height=u.target.scrollHeight+"px")}async function h(u){x.value&&(await b("send",x.value),u.target&&(u.target.style.height="calc(1em + 15px)",u.target.style.height=u.target.scrollHeight+"px"),S.value.scrollTop=S.value.scrollHeight,x.value="",await t())}let o;return er(()=>{o=setInterval(t,1e3)}),th(()=>clearInterval(o)),(u,g)=>(re(),oe("div",wL,[W("div",{class:"messages",ref_key:"messagesRef",ref:S},[(re(!0),oe(it,null,pt(e.messages,_=>{var m,r;return re(),oe("div",{key:_._id,class:St(["message-container",{me:_.role==="user"}])},[W("div",{class:"bubble",innerHTML:(r=(m=_==null?void 0:_.content)==null?void 0:m.trim())==null?void 0:r.replaceAll(`
`,"<br/>")},null,8,xL),W("div",EL,[W("div",null,De(Er(jn)(_.created_at).fromNow()),1),_.total_tokens?(re(),oe("div",AL,De(_.total_tokens)+" tokens",1)):He("",!0)])],2)}),128)),e.loading?(re(),oe("div",TL,RL)):He("",!0)],512),W("div",kL,[Rt(W("textarea",{"onUpdate:modelValue":g[0]||(g[0]=_=>x.value=_),onKeypress:gn(n,["enter"]),placeholder:"Ecrivez votre message...",onInput:i},null,544),[[or,x.value]]),W("button",{onClick:h},IL)])]))}},PL=Pt(ML,[["__scopeId","data-v-32ace72d"]]),pg=e=>(Vt("data-v-74489041"),e=e(),Kt(),e),BL={class:"openai-root"},$L=pg(()=>W("h1",null,"Open ai",-1)),FL={key:0},jL={key:1,class:"content"},NL={class:"rooms"},HL=["onClick"],UL=["onClick"],WL=pg(()=>W("i",{class:"fas fa-trash"},null,-1)),zL=[WL],GL={key:0,class:"chat-container"},VL={class:"header"},KL={class:"toolbar"},YL=["value"],XL={__name:"OpenAi",setup(e){const a=Le(!1),c=Le(!1),b=Le([]),S=Le([]),x=Le([]),l=Le(),t=Le("gpt-3.5-turbo"),n=Le([]),i=Le(0);er(h);async function h(){var w;const{data:p}=await We.get("/openai/ready");a.value=p;const{data:v}=await We.get("/openai/rooms");S.value=v;const{data:d}=await We.get("/openai/models");x.value=d.filter(A=>{var E;return A.id.startsWith("gpt")&&(((E=A.id.split("-"))==null?void 0:E.length)==2||Number.isNaN(+A.id.split("-").pop()))}),l.value||(l.value=(w=S.value)==null?void 0:w[0]);const{data:C}=await We.get(`/openai/chat/${l.value}`);await _(),b.value=C}async function o(p,v){await We.post("/openai/rooms",{room:p}),await h(),v&&(v.target.value=""),await u(p)}async function u(p){l.value=p,b.value=[],await h()}async function g(p,v){await We.post("/openai/apikey",{apikey:p}),await h(),v&&(v.target.value="")}async function _(){const{data:p}=await We.get("/openai/models");n.value=p}async function m(p){b.value||(b.value=[]),b.value.push({role:"user",content:p}),c.value=!0,await We.post(`/openai/chat/${l.value}`,{message:p,model:t.value,temperature:i.value}).catch(v=>{console.error(v),Dt.next("error","Une erreur s'est produite")}).finally(()=>c.value=!1),await h()}async function r(p){await We.delete(`/openai/rooms/${p}`),await h()}const f=At(()=>{var p,v;return(v=(p=b.value)==null?void 0:p.filter)==null?void 0:v.call(p,d=>d.role!=="system")});return(p,v)=>(re(),oe("div",BL,[$L,W("div",null,[W("input",{type:"text",onChange:v[0]||(v[0]=d=>{var C;return g((C=d.target)==null?void 0:C.value,d)}),placeholder:"Apikey..."},null,32)]),a.value?(re(),oe("div",jL,[W("div",NL,[W("input",{type:"text",placeholder:"New room...",style:{width:"100%"},onChange:v[2]||(v[2]=d=>{var C;return o((C=d.target)==null?void 0:C.value,d)})},null,32),(re(!0),oe(it,null,pt(S.value,d=>(re(),oe("div",{class:St(["room",{active:l.value===d}]),key:d,onClick:C=>u(d)},[W("div",null,De(d),1),W("button",{class:"small",onClick:_r(C=>r(d),["stop"])},zL,8,UL)],10,HL))),128))]),l.value?(re(),oe("div",GL,[W("div",VL,[W("h2",null,De(l.value),1),W("div",KL,[W("div",null,[Ue(" Temperature: "),Rt(W("input",{type:"range",min:"0",max:"2","onUpdate:modelValue":v[3]||(v[3]=d=>i.value=d),step:"0.1"},null,512),[[or,i.value]])]),W("div",null,[Ue(" Model: "),Rt(W("select",{"onUpdate:modelValue":v[4]||(v[4]=d=>t.value=d),default:"gpt-3.5-turbo"},[(re(!0),oe(it,null,pt(x.value,d=>(re(),oe("option",{value:d.id},De(d.id),9,YL))),256))],512),[[_v,t.value]])])])]),at(PL,{messages:f.value,loading:c.value,onSend:v[5]||(v[5]=d=>m(d))},null,8,["messages","loading"])])):He("",!0)])):(re(),oe("div",FL,[W("input",{type:"text",onChange:v[1]||(v[1]=d=>{var C;return g((C=d.target)==null?void 0:C.value,d)}),placeholder:"Apikey..."},null,32),Ue(" Vous ne pouvez pas encore communiquer avec l'assistant ")]))]))}},JL=Pt(XL,[["__scopeId","data-v-74489041"]]),vg=e=>(Vt("data-v-d552a695"),e=e(),Kt(),e),QL={class:"toolbox"},qL={class:"sidebar"},ZL=["onClick"],eO={class:"item"},tO={key:1,class:"icon"},rO={class:"container"},nO={key:1,class:"no-tools"},iO=vg(()=>W("div",null,[W("i",{class:"fas fa-toolbox"})],-1)),sO=vg(()=>W("div",null," Choisissez un outils ",-1)),oO=[iO,sO],aO={__name:"Toolbox",setup(e){const a=Di(),c=Le([]),b=Le(""),S=Le();er(async()=>{var i;const{data:n}=await We.get("/plugins/toolbox");c.value=(n==null?void 0:n.flat())||[],(i=S.value)==null||i.focus()});const x=At(()=>[...c.value.map(n=>n.placements.map(i=>{if(typeof i!="string")return{...n,text:i.label,icon:i.icon,iconText:i.iconText,click:i.goTo?()=>{var h;typeof i.goTo=="string"?a.push({path:i.goTo}):a.push({...i.goTo,path:`/toolbox${((h=i.goTo)==null?void 0:h.path)||i.goTo}`})}:()=>{},active:i.active}})).flat().filter(n=>{var i,h;return(h=n==null?void 0:n.text)==null?void 0:h.toUpperCase().includes((i=b.value)==null?void 0:i.toUpperCase())})]);function l(){var n,i;(i=(n=x.value)==null?void 0:n[0])==null||i.click()}function t(n){return a.currentRoute.value.params.plugin===(n==null?void 0:n.name)}return(n,i)=>{const h=br("router-view");return re(),oe("div",QL,[W("div",qL,[W("ul",null,[Rt(W("input",{type:"text",ref_key:"searchToolRef",ref:S,placeholder:"Search tool...","onUpdate:modelValue":i[0]||(i[0]=o=>b.value=o),autofocus:"true",onKeypress:gn(l,["enter"])},null,544),[[or,b.value]]),(re(!0),oe(it,null,pt(x.value,o=>(re(),oe("li",{key:o==null?void 0:o.name,class:St(["sidebar-item",{active:t(o)}]),onClick:u=>{var g;return(g=o==null?void 0:o.click)==null?void 0:g.call(o)}},[W("div",eO,[o!=null&&o.icon?(re(),oe("i",{key:0,class:St(["icon",o==null?void 0:o.icon])},null,2)):He("",!0),o!=null&&o.iconText?(re(),oe("span",tO,De(o==null?void 0:o.iconText),1)):He("",!0),Ue(" "+De(o==null?void 0:o.text),1)])],10,ZL))),128))])]),W("div",rO,[n.$router.currentRoute.value.fullPath!=="/toolbox"?(re(),jt(h,{key:0})):(re(),oe("div",nO,oO))])])}}},lO=Pt(aO,[["__scopeId","data-v-d552a695"]]),Uu={__name:"DynamicComponent",setup(e){const a=Di(),c=Le();return Bs(()=>{c.value=a.currentRoute.value.params.plugin}),(b,S)=>(re(),jt(uC(c.value)))}},gg=e=>(Vt("data-v-9c122cb6"),e=e(),Kt(),e),cO={class:"uuid-root"},uO=gg(()=>W("h1",null,"Generate UUID",-1)),hO={class:"section-content"},fO=gg(()=>W("i",{class:"fas fa-random"},null,-1)),dO={__name:"UUID",setup(e){const a=Le();er(c);async function c(){const{data:b}=await We.get("/uuid");a.value=b}return(b,S)=>(re(),oe("div",cO,[uO,at(ar,null,{default:rt(()=>[W("div",hO,[W("h2",null,De(a.value),1),W("button",{onClick:c},[fO,Ue(" Regenerate ")])])]),_:1})]))}},pO=Pt(dO,[["__scopeId","data-v-9c122cb6"]]);var _g={exports:{}},bu={exports:{}};/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT © Zeno Rocha
 */var Lp;function vO(){return Lp||(Lp=1,function(e,a){(function(b,S){e.exports=S()})(Ar,function(){return function(){var c={686:function(x,l,t){t.d(l,{default:function(){return X}});var n=t(279),i=t.n(n),h=t(370),o=t.n(h),u=t(817),g=t.n(u);function _(te){try{return document.execCommand(te)}catch{return!1}}var m=function(J){var V=g()(J);return _("cut"),V},r=m;function f(te){var J=document.documentElement.getAttribute("dir")==="rtl",V=document.createElement("textarea");V.style.fontSize="12pt",V.style.border="0",V.style.padding="0",V.style.margin="0",V.style.position="absolute",V.style[J?"right":"left"]="-9999px";var se=window.pageYOffset||document.documentElement.scrollTop;return V.style.top="".concat(se,"px"),V.setAttribute("readonly",""),V.value=te,V}var p=function(J,V){var se=f(J);V.container.appendChild(se);var be=g()(se);return _("copy"),se.remove(),be},v=function(J){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},se="";return typeof J=="string"?se=p(J,V):J instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(J==null?void 0:J.type)?se=p(J.value,V):(se=g()(J),_("copy")),se},d=v;function C(te){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?C=function(V){return typeof V}:C=function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},C(te)}var w=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},V=J.action,se=V===void 0?"copy":V,be=J.container,B=J.target,j=J.text;if(se!=="copy"&&se!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(B!==void 0)if(B&&C(B)==="object"&&B.nodeType===1){if(se==="copy"&&B.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(se==="cut"&&(B.hasAttribute("readonly")||B.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)}else throw new Error('Invalid "target" value, use a valid Element');if(j)return d(j,{container:be});if(B)return se==="cut"?r(B):d(B,{container:be})},A=w;function E(te){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?E=function(V){return typeof V}:E=function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},E(te)}function L(te,J){if(!(te instanceof J))throw new TypeError("Cannot call a class as a function")}function D(te,J){for(var V=0;V<J.length;V++){var se=J[V];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(te,se.key,se)}}function R(te,J,V){return J&&D(te.prototype,J),V&&D(te,V),te}function I(te,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function");te.prototype=Object.create(J&&J.prototype,{constructor:{value:te,writable:!0,configurable:!0}}),J&&P(te,J)}function P(te,J){return P=Object.setPrototypeOf||function(se,be){return se.__proto__=be,se},P(te,J)}function $(te){var J=Y();return function(){var se=k(te),be;if(J){var B=k(this).constructor;be=Reflect.construct(se,arguments,B)}else be=se.apply(this,arguments);return F(this,be)}}function F(te,J){return J&&(E(J)==="object"||typeof J=="function")?J:U(te)}function U(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}function Y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function k(te){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(V){return V.__proto__||Object.getPrototypeOf(V)},k(te)}function H(te,J){var V="data-clipboard-".concat(te);if(J.hasAttribute(V))return J.getAttribute(V)}var z=function(te){I(V,te);var J=$(V);function V(se,be){var B;return L(this,V),B=J.call(this),B.resolveOptions(be),B.listenClick(se),B}return R(V,[{key:"resolveOptions",value:function(){var be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof be.action=="function"?be.action:this.defaultAction,this.target=typeof be.target=="function"?be.target:this.defaultTarget,this.text=typeof be.text=="function"?be.text:this.defaultText,this.container=E(be.container)==="object"?be.container:document.body}},{key:"listenClick",value:function(be){var B=this;this.listener=o()(be,"click",function(j){return B.onClick(j)})}},{key:"onClick",value:function(be){var B=be.delegateTarget||be.currentTarget,j=this.action(B)||"copy",N=A({action:j,container:this.container,target:this.target(B),text:this.text(B)});this.emit(N?"success":"error",{action:j,text:N,trigger:B,clearSelection:function(){B&&B.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(be){return H("action",be)}},{key:"defaultTarget",value:function(be){var B=H("target",be);if(B)return document.querySelector(B)}},{key:"defaultText",value:function(be){return H("text",be)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(be){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return d(be,B)}},{key:"cut",value:function(be){return r(be)}},{key:"isSupported",value:function(){var be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],B=typeof be=="string"?[be]:be,j=!!document.queryCommandSupported;return B.forEach(function(N){j=j&&!!document.queryCommandSupported(N)}),j}}]),V}(i()),X=z},828:function(x){var l=9;if(typeof Element<"u"&&!Element.prototype.matches){var t=Element.prototype;t.matches=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector}function n(i,h){for(;i&&i.nodeType!==l;){if(typeof i.matches=="function"&&i.matches(h))return i;i=i.parentNode}}x.exports=n},438:function(x,l,t){var n=t(828);function i(u,g,_,m,r){var f=o.apply(this,arguments);return u.addEventListener(_,f,r),{destroy:function(){u.removeEventListener(_,f,r)}}}function h(u,g,_,m,r){return typeof u.addEventListener=="function"?i.apply(null,arguments):typeof _=="function"?i.bind(null,document).apply(null,arguments):(typeof u=="string"&&(u=document.querySelectorAll(u)),Array.prototype.map.call(u,function(f){return i(f,g,_,m,r)}))}function o(u,g,_,m){return function(r){r.delegateTarget=n(r.target,g),r.delegateTarget&&m.call(u,r)}}x.exports=h},879:function(x,l){l.node=function(t){return t!==void 0&&t instanceof HTMLElement&&t.nodeType===1},l.nodeList=function(t){var n=Object.prototype.toString.call(t);return t!==void 0&&(n==="[object NodeList]"||n==="[object HTMLCollection]")&&"length"in t&&(t.length===0||l.node(t[0]))},l.string=function(t){return typeof t=="string"||t instanceof String},l.fn=function(t){var n=Object.prototype.toString.call(t);return n==="[object Function]"}},370:function(x,l,t){var n=t(879),i=t(438);function h(_,m,r){if(!_&&!m&&!r)throw new Error("Missing required arguments");if(!n.string(m))throw new TypeError("Second argument must be a String");if(!n.fn(r))throw new TypeError("Third argument must be a Function");if(n.node(_))return o(_,m,r);if(n.nodeList(_))return u(_,m,r);if(n.string(_))return g(_,m,r);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function o(_,m,r){return _.addEventListener(m,r),{destroy:function(){_.removeEventListener(m,r)}}}function u(_,m,r){return Array.prototype.forEach.call(_,function(f){f.addEventListener(m,r)}),{destroy:function(){Array.prototype.forEach.call(_,function(f){f.removeEventListener(m,r)})}}}function g(_,m,r){return i(document.body,_,m,r)}x.exports=h},817:function(x){function l(t){var n;if(t.nodeName==="SELECT")t.focus(),n=t.value;else if(t.nodeName==="INPUT"||t.nodeName==="TEXTAREA"){var i=t.hasAttribute("readonly");i||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),i||t.removeAttribute("readonly"),n=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var h=window.getSelection(),o=document.createRange();o.selectNodeContents(t),h.removeAllRanges(),h.addRange(o),n=h.toString()}return n}x.exports=l},279:function(x){function l(){}l.prototype={on:function(t,n,i){var h=this.e||(this.e={});return(h[t]||(h[t]=[])).push({fn:n,ctx:i}),this},once:function(t,n,i){var h=this;function o(){h.off(t,o),n.apply(i,arguments)}return o._=n,this.on(t,o,i)},emit:function(t){var n=[].slice.call(arguments,1),i=((this.e||(this.e={}))[t]||[]).slice(),h=0,o=i.length;for(h;h<o;h++)i[h].fn.apply(i[h].ctx,n);return this},off:function(t,n){var i=this.e||(this.e={}),h=i[t],o=[];if(h&&n)for(var u=0,g=h.length;u<g;u++)h[u].fn!==n&&h[u].fn._!==n&&o.push(h[u]);return o.length?i[t]=o:delete i[t],this}},x.exports=l,x.exports.TinyEmitter=l}},b={};function S(x){if(b[x])return b[x].exports;var l=b[x]={exports:{}};return c[x](l,l.exports,S),l.exports}return function(){S.n=function(x){var l=x&&x.__esModule?function(){return x.default}:function(){return x};return S.d(l,{a:l}),l}}(),function(){S.d=function(x,l){for(var t in l)S.o(l,t)&&!S.o(x,t)&&Object.defineProperty(x,t,{enumerable:!0,get:l[t]})}}(),function(){S.o=function(x,l){return Object.prototype.hasOwnProperty.call(x,l)}}(),S(686)}().default})}(bu)),bu.exports}(function(e,a){(function(c,b){e.exports=b(mv,vO())})(Ar,function(c,b){return l={},S.m=x=[function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=(h,o)=>{const u=h.__vccOpts||h;for(var[g,_]of o)u[g]=_;return u}},function(t,n){t.exports=c},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),g(i(1));var h=g(i(22)),o=g(i(42)),u=i(43);function g(_){return _&&_.__esModule?_:{default:_}}n.default={name:"JsonViewer",components:{JsonBox:h.default},props:{value:{type:[Object,Array,String,Number,Boolean,Function],required:!0},expanded:{type:Boolean,default:!1},expandDepth:{type:Number,default:1},copyable:{type:[Boolean,Object],default:!1},sort:{type:Boolean,default:!1},boxed:{type:Boolean,default:!1},theme:{type:String,default:"jv-light"},timeformat:{type:Function,default:function(_){return _.toLocaleString()}},previewMode:{type:Boolean,default:!1},showArrayIndex:{type:Boolean,default:!0},showDoubleQuotes:{type:Boolean,default:!1}},provide:function(){return{expandDepth:this.expandDepth,timeformat:this.timeformat,onKeyclick:this.onKeyclick}},data:function(){return{copied:!1,expandableCode:!1,expandCode:this.expanded}},computed:{jvClass:function(){return"jv-container "+this.theme+(this.boxed?" boxed":"")},copyText:function(){var _=this.copyable;return{copyText:_.copyText||"copy",copiedText:_.copiedText||"copied!",timeout:_.timeout||2e3,align:_.align}}},watch:{value:function(){this.onResized()}},mounted:function(){var _=this;this.debounceResized=(0,u.debounce)(this.debResized.bind(this),200),this.boxed&&this.$refs.jsonBox&&(this.onResized(),this.$refs.jsonBox.$el.addEventListener("resized",this.onResized,!0)),this.copyable&&new o.default(this.$refs.clip,{container:this.$refs.viewer,text:function(){return JSON.stringify(_.value,null,2)}}).on("success",function(m){_.onCopied(m)})},methods:{onResized:function(){this.debounceResized()},debResized:function(){var _=this;this.$nextTick(function(){_.$refs.jsonBox&&(250<=_.$refs.jsonBox.$el.clientHeight?_.expandableCode=!0:_.expandableCode=!1)})},onCopied:function(_){var m=this;this.copied||(this.copied=!0,setTimeout(function(){m.copied=!1},this.copyText.timeout),this.$emit("copied",_))},toggleExpandCode:function(){this.expandCode=!this.expandCode},onKeyclick:function(_){this.$emit("keyclick",_)}}}},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},o=i(1),u=d(i(31)),g=d(i(32)),_=d(i(33)),m=d(i(34)),r=d(i(35)),f=d(i(36)),p=d(i(37)),v=d(i(38));function d(C){return C&&C.__esModule?C:{default:C}}n.default={name:"JsonBox",inject:["expandDepth","onKeyclick"],props:{value:{type:[Object,Array,String,Number,Boolean,Function,Date],default:null},keyName:{type:String,default:""},sort:Boolean,depth:{type:Number,default:0},previewMode:Boolean,forceExpand:Boolean,showArrayIndex:Boolean,showDoubleQuotes:Boolean,path:{type:String,default:"$"}},data:function(){return{expand:!0,forceExpandMe:this.forceExpand}},mounted:function(){this.expand=this.previewMode||!(this.depth>=this.expandDepth)||this.forceExpandMe},methods:{toggle:function(){this.expand=!this.expand,this.dispatchEvent()},toggleAll:function(){this.expand=!this.expand,this.forceExpandMe=this.expand,this.dispatchEvent()},dispatchEvent:function(){try{this.$el.dispatchEvent(new Event("resized"))}catch{var C=document.createEvent("Event");C.initEvent("resized",!0,!1),this.$el.dispatchEvent(C)}},getPath:function(){for(var C=[this.keyName],w=this.$parent;w.depth;)w.$el.classList.contains("jv-node")&&C.push(w.keyName),w=w.$parent;return C.reverse()}},render:function(){var C=this,w=[],A=void 0;this.value===null||this.value===void 0?A=g.default:Array.isArray(this.value)?A=f.default:Object.prototype.toString.call(this.value)==="[object Date]"?A=v.default:h(this.value)==="object"?A=r.default:typeof this.value=="number"?A=_.default:typeof this.value=="string"?A=u.default:typeof this.value=="boolean"?A=m.default:typeof this.value=="function"&&(A=p.default);var E=this.keyName&&this.value&&(Array.isArray(this.value)||h(this.value)==="object"&&Object.prototype.toString.call(this.value)!=="[object Date]");return!this.previewMode&&E&&w.push((0,o.h)("span",{class:{"jv-toggle":!0,open:!!this.expand},onClick:function(L){L.altKey?C.toggleAll():C.toggle()}})),this.keyName&&w.push((0,o.h)("span",{class:{"jv-key":!0},innerText:this.showDoubleQuotes?'"'+this.keyName+'":':this.keyName+":",onClick:function(){C.onKeyclick(C.path)}})),w.push((0,o.h)(A,{class:{"jv-push":!0},jsonValue:this.value,keyName:this.keyName,sort:this.sort,depth:this.depth,expand:this.expand,previewMode:this.previewMode,forceExpand:this.forceExpandMe,showArrayIndex:this.showArrayIndex,showDoubleQuotes:this.showDoubleQuotes,path:this.path,"onUpdate:expand":function(L){C.expand=L},"onUpdate:expandAll":function(L){C.expand=L,C.forceExpandMe=C.expand}})),(0,o.h)("div",{class:{"jv-node":!0,"jv-key-node":!!this.keyName&&!E,toggle:!this.previewMode&&E}},w)}}},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var h=i(1),o=/^\w+:\/\//;n.default={name:"JsonString",props:{jsonValue:{type:String,required:!0}},data:function(){return{expand:!0,canExtend:!1}},mounted:function(){this.$refs.itemRef.offsetHeight>this.$refs.holderRef.offsetHeight&&(this.canExtend=!0)},methods:{toggle:function(){this.expand=!this.expand}},render:function(){var u=this.jsonValue,g=o.test(u),_=void 0;return this.expand?(_={class:{"jv-item":!0,"jv-string":!0},ref:"itemRef"},g?_.innerHTML='"'+(u='<a href="'+u+'" target="_blank" class="jv-link">'+u+"</a>").toString()+'"':_.innerText='"'+u.toString()+'"'):_={class:{"jv-ellipsis":!0},onClick:this.toggle,innerText:"..."},(0,h.h)("span",{},[this.canExtend&&(0,h.h)("span",{class:{"jv-toggle":!0,open:this.expand},onClick:this.toggle}),(0,h.h)("span",{class:{"jv-holder-node":!0},ref:"holderRef"}),(0,h.h)("span",_)])}}},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var h=i(1);n.default={name:"JsonUndefined",functional:!0,props:{jsonValue:{type:Object,default:null}},render:function(){return(0,h.h)("span",{class:{"jv-item":!0,"jv-undefined":!0},innerText:this.jsonValue===null?"null":"undefined"})}}},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var h=i(1);n.default={name:"JsonNumber",functional:!0,props:{jsonValue:{type:Number,required:!0}},render:function(){var o=Number.isInteger(this.jsonValue);return(0,h.h)("span",{class:{"jv-item":!0,"jv-number":!0,"jv-number-integer":o,"jv-number-float":!o},innerText:this.jsonValue.toString()})}}},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var h=i(1);n.default={name:"JsonBoolean",functional:!0,props:{jsonValue:Boolean},render:function(){return(0,h.h)("span",{class:{"jv-item":!0,"jv-boolean":!0},innerText:this.jsonValue.toString()})}}},function(t,n,o){Object.defineProperty(n,"__esModule",{value:!0});var h=o(1),o=o(22),u=(o=o)&&o.__esModule?o:{default:o};n.default={name:"JsonObject",props:{jsonValue:{type:Object,required:!0},keyName:{type:String,default:""},depth:{type:Number,default:0},expand:Boolean,forceExpand:Boolean,sort:Boolean,previewMode:Boolean,showArrayIndex:Boolean,showDoubleQuotes:Boolean,path:String},data:function(){return{value:{}}},computed:{ordered:function(){var g=this;if(!this.sort)return this.value;var _={};return Object.keys(this.value).sort().forEach(function(m){_[m]=g.value[m]}),_}},watch:{jsonValue:function(g){this.setValue(g)}},mounted:function(){this.setValue(this.jsonValue)},methods:{setValue:function(g){var _=this;setTimeout(function(){_.value=g},0)},toggle:function(){this.$emit("update:expand",!this.expand),this.dispatchEvent()},toggleAll:function(){this.$emit("update:expandAll",!this.expand),this.dispatchEvent()},dispatchEvent:function(){try{this.$el.dispatchEvent(new Event("resized"))}catch{var g=document.createEvent("Event");g.initEvent("resized",!0,!1),this.$el.dispatchEvent(g)}}},render:function(){var g,_=this,m=[];if(this.previewMode||this.keyName||m.push((0,h.h)("span",{class:{"jv-toggle":!0,open:!!this.expand},onClick:function(f){f.altKey?_.toggleAll():_.toggle()}})),m.push((0,h.h)("span",{class:{"jv-item":!0,"jv-object":!0},innerText:"{"})),this.expand)for(var r in this.ordered)this.ordered.hasOwnProperty(r)&&(g=this.ordered[r],m.push((0,h.h)(u.default,{key:r,style:{display:this.expand?void 0:"none"},sort:this.sort,keyName:r,depth:this.depth+1,value:g,previewMode:this.previewMode,forceExpand:this.forceExpand,showArrayIndex:this.showArrayIndex,showDoubleQuotes:this.showDoubleQuotes,path:this.path+"."+r})));return!this.expand&&Object.keys(this.value).length&&m.push((0,h.h)("span",{class:{"jv-ellipsis":!0},onClick:function(f){f.altKey?_.toggleAll():_.toggle()},title:"click to reveal object content (keys: "+Object.keys(this.ordered).join(", ")+")",innerText:"..."})),m.push((0,h.h)("span",{class:{"jv-item":!0,"jv-object":!0},innerText:"}"})),(0,h.h)("span",m)}}},function(t,n,o){Object.defineProperty(n,"__esModule",{value:!0});var h=o(1),o=o(22),u=(o=o)&&o.__esModule?o:{default:o};n.default={name:"JsonArray",props:{jsonValue:{type:Array,required:!0},keyName:{type:String,default:""},depth:{type:Number,default:0},sort:Boolean,expand:Boolean,forceExpand:Boolean,previewMode:Boolean,showArrayIndex:Boolean,showDoubleQuotes:Boolean,path:String},data:function(){return{value:[]}},watch:{jsonValue:function(g){this.setValue(g)}},mounted:function(){this.setValue(this.jsonValue)},methods:{setValue:function(g){var _=this,m=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0;m===0&&(this.value=[]),setTimeout(function(){g.length>m&&(_.value.push(g[m]),_.setValue(g,m+1))},0)},toggle:function(){this.$emit("update:expand",!this.expand),this.dispatchEvent()},toggleAll:function(){this.$emit("update:expandAll",!this.expand),this.dispatchEvent()},dispatchEvent:function(){try{this.$el.dispatchEvent(new Event("resized"))}catch{var g=document.createEvent("Event");g.initEvent("resized",!0,!1),this.$el.dispatchEvent(g)}}},render:function(){var g=this,_=[];return this.previewMode||this.keyName||_.push((0,h.h)("span",{class:{"jv-toggle":!0,open:!!this.expand},onClick:function(m){m.altKey?g.toggleAll():g.toggle()}})),_.push((0,h.h)("span",{class:{"jv-item":!0,"jv-array":!0},innerText:"["})),this.expand&&this.value.forEach(function(m,r){_.push((0,h.h)(u.default,{key:r,style:{display:g.expand?void 0:"none"},sort:g.sort,keyName:g.showArrayIndex?""+r:"",depth:g.depth+1,value:m,previewMode:g.previewMode,forceExpand:g.forceExpand,showArrayIndex:g.showArrayIndex,showDoubleQuotes:g.showDoubleQuotes,path:g.path+"."+r}))}),!this.expand&&this.value.length&&_.push((0,h.h)("span",{class:{"jv-ellipsis":!0},onClick:function(m){m.altKey?g.toggleAll():g.toggle()},title:"click to reveal "+this.value.length+" hidden items",innerText:"..."})),_.push((0,h.h)("span",{class:{"jv-item":!0,"jv-array":!0},innerText:"]"})),(0,h.h)("span",_)}}},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var h=i(1);n.default={name:"JsonFunction",functional:!0,props:{jsonValue:{type:Function,required:!0}},render:function(){return(0,h.h)("span",{class:{"jv-item":!0,"jv-function":!0},attrs:{title:this.jsonValue.toString()},innerHTML:"&lt;function&gt;"})}}},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var h=i(1);n.default={name:"JsonDate",inject:["timeformat"],functional:!0,props:{jsonValue:{type:Date,required:!0}},render:function(){var o=this.jsonValue,u=this.timeformat;return(0,h.h)("span",{class:{"jv-item":!0,"jv-string":!0},innerText:'"'+u(o)+'"'})}}},function(t,n,i){i.r(n);var h,o=i(2),u=i.n(o);for(h in i.d(n,"default",function(){return u.a}),o)["default","default"].indexOf(h)<0&&function(g){i.d(n,g,function(){return o[g]})}(h)},function(t,n,i){i.r(n);var h,o=i(3),u=i.n(o);for(h in i.d(n,"default",function(){return u.a}),o)["default","default"].indexOf(h)<0&&function(g){i.d(n,g,function(){return o[g]})}(h)},function(t,n,i){i.r(n);var h,o=i(4),u=i.n(o);for(h in i.d(n,"default",function(){return u.a}),o)["default","default"].indexOf(h)<0&&function(g){i.d(n,g,function(){return o[g]})}(h)},function(t,n,i){i.r(n);var h,o=i(5),u=i.n(o);for(h in i.d(n,"default",function(){return u.a}),o)["default","default"].indexOf(h)<0&&function(g){i.d(n,g,function(){return o[g]})}(h)},function(t,n,i){i.r(n);var h,o=i(6),u=i.n(o);for(h in i.d(n,"default",function(){return u.a}),o)["default","default"].indexOf(h)<0&&function(g){i.d(n,g,function(){return o[g]})}(h)},function(t,n,i){i.r(n);var h,o=i(7),u=i.n(o);for(h in i.d(n,"default",function(){return u.a}),o)["default","default"].indexOf(h)<0&&function(g){i.d(n,g,function(){return o[g]})}(h)},function(t,n,i){i.r(n);var h,o=i(8),u=i.n(o);for(h in i.d(n,"default",function(){return u.a}),o)["default","default"].indexOf(h)<0&&function(g){i.d(n,g,function(){return o[g]})}(h)},function(t,n,i){i.r(n);var h,o=i(9),u=i.n(o);for(h in i.d(n,"default",function(){return u.a}),o)["default","default"].indexOf(h)<0&&function(g){i.d(n,g,function(){return o[g]})}(h)},function(t,n,i){i.r(n);var h,o=i(10),u=i.n(o);for(h in i.d(n,"default",function(){return u.a}),o)["default","default"].indexOf(h)<0&&function(g){i.d(n,g,function(){return o[g]})}(h)},function(t,n,i){i.r(n);var h,o=i(11),u=i.n(o);for(h in i.d(n,"default",function(){return u.a}),o)["default","default"].indexOf(h)<0&&function(g){i.d(n,g,function(){return o[g]})}(h)},function(t,n,i){i.r(n);var h,o=i(13);for(h in o)h!=="default"&&function(g){i.d(n,g,function(){return o[g]})}(h);i(39);var u=i(0),u=i.n(u)()(o.default,[["__file","lib/json-box.vue"]]);n.default=u},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.render=function(o,u,g,_,m,r){var f=(0,h.resolveComponent)("json-box");return(0,h.openBlock)(),(0,h.createElementBlock)("div",{ref:"viewer",class:(0,h.normalizeClass)(r.jvClass)},[g.copyable?((0,h.openBlock)(),(0,h.createElementBlock)("div",{key:0,class:(0,h.normalizeClass)("jv-tooltip "+(r.copyText.align||"right"))},[(0,h.createElementVNode)("span",{ref:"clip",class:(0,h.normalizeClass)(["jv-button",{copied:m.copied}])},[(0,h.renderSlot)(o.$slots,"copy",{copied:m.copied},function(){return[(0,h.createTextVNode)((0,h.toDisplayString)(m.copied?r.copyText.copiedText:r.copyText.copyText),1)]})],2)],2)):(0,h.createCommentVNode)("v-if",!0),(0,h.createElementVNode)("div",{class:(0,h.normalizeClass)(["jv-code",{open:m.expandCode,boxed:g.boxed}])},[(0,h.createVNode)(f,{ref:"jsonBox",value:g.value,sort:g.sort,"preview-mode":g.previewMode,"show-array-index":g.showArrayIndex,"show-double-quotes":g.showDoubleQuotes,onKeyclick:r.onKeyclick},null,8,["value","sort","preview-mode","show-array-index","show-double-quotes","onKeyclick"])],2),m.expandableCode&&g.boxed?((0,h.openBlock)(),(0,h.createElementBlock)("div",{key:1,class:"jv-more",onClick:u[0]||(u[0]=function(){return r.toggleExpandCode&&r.toggleExpandCode.apply(r,arguments)})},[(0,h.createElementVNode)("span",{class:(0,h.normalizeClass)(["jv-toggle",{open:!!m.expandCode}])},null,2)])):(0,h.createCommentVNode)("v-if",!0)],2)};var h=i(1)},function(t,n,i){var h=i(40);typeof h=="string"&&(h=[[t.i,h,""]]);var o={hmr:!0,transform:void 0};i(26)(h,o),h.locals&&(t.exports=h.locals)},function(t,n,i){t.exports=function(h){var o=[];return o.toString=function(){return this.map(function(u){var g=function(_,m){var r=_[1]||"",f=_[3];return f?m&&typeof btoa=="function"?(_=function(p){return p=btoa(unescape(encodeURIComponent(JSON.stringify(p)))),p="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(p),"/*# ".concat(p," */")}(f),m=f.sources.map(function(p){return"/*# sourceURL=".concat(f.sourceRoot||"").concat(p," */")}),[r].concat(m).concat([_]).join(`
`)):[r].join(`
`):r}(u,h);return u[2]?"@media ".concat(u[2]," {").concat(g,"}"):g}).join("")},o.i=function(u,g,_){typeof u=="string"&&(u=[[null,u,""]]);var m={};if(_)for(var r=0;r<this.length;r++){var f=this[r][0];f!=null&&(m[f]=!0)}for(var p=0;p<u.length;p++){var v=[].concat(u[p]);_&&m[v[0]]||(g&&(v[2]?v[2]="".concat(g," and ").concat(v[2]):v[2]=g),o.push(v))}},o}},function(t,n,i){var h,o,u,g={},_=(h=function(){return window&&document&&document.all&&!window.atob},function(){return o=o===void 0?h.apply(this,arguments):o}),m=(u={},function($){if(u[$]===void 0){var F=(function(U){return document.querySelector(U)}).call(this,$);if(F instanceof window.HTMLIFrameElement)try{F=F.contentDocument.head}catch{F=null}u[$]=F}return u[$]}),r=null,f=0,p=[],v=i(41);function d($,F){for(var U=0;U<$.length;U++){var Y=$[U],k=g[Y.id];if(k){k.refs++;for(var H=0;H<k.parts.length;H++)k.parts[H](Y.parts[H]);for(;H<Y.parts.length;H++)k.parts.push(D(Y.parts[H],F))}else{for(var z=[],H=0;H<Y.parts.length;H++)z.push(D(Y.parts[H],F));g[Y.id]={id:Y.id,refs:1,parts:z}}}}function C($,F){for(var U=[],Y={},k=0;k<$.length;k++){var z=$[k],H=F.base?z[0]+F.base:z[0],z={css:z[1],media:z[2],sourceMap:z[3]};Y[H]?Y[H].parts.push(z):U.push(Y[H]={id:H,parts:[z]})}return U}function w($,F){var U=m($.insertInto);if(!U)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var Y=p[p.length-1];if($.insertAt==="top")Y?Y.nextSibling?U.insertBefore(F,Y.nextSibling):U.appendChild(F):U.insertBefore(F,U.firstChild),p.push(F);else if($.insertAt==="bottom")U.appendChild(F);else{if(typeof $.insertAt!="object"||!$.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);$=m($.insertInto+" "+$.insertAt.before),U.insertBefore(F,$)}}function A($){$.parentNode!==null&&($.parentNode.removeChild($),0<=($=p.indexOf($))&&p.splice($,1))}function E($){var F=document.createElement("style");return $.attrs.type="text/css",L(F,$.attrs),w($,F),F}function L($,F){Object.keys(F).forEach(function(U){$.setAttribute(U,F[U])})}function D($,F){var U,Y,k,H,z;if(F.transform&&$.css){if(!(H=F.transform($.css)))return function(){};$.css=H}return k=F.singleton?(z=f++,U=r=r||E(F),Y=P.bind(null,U,z,!1),P.bind(null,U,z,!0)):$.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(H=F,z=document.createElement("link"),H.attrs.type="text/css",H.attrs.rel="stylesheet",L(z,H.attrs),w(H,z),U=z,Y=(function(X,te,be){var V=be.css,se=be.sourceMap,be=te.convertToAbsoluteUrls===void 0&&se;(te.convertToAbsoluteUrls||be)&&(V=v(V)),se&&(V+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(se))))+" */"),se=new Blob([V],{type:"text/css"}),V=X.href,X.href=URL.createObjectURL(se),V&&URL.revokeObjectURL(V)}).bind(null,U,F),function(){A(U),U.href&&URL.revokeObjectURL(U.href)}):(U=E(F),Y=(function(X,V){var J=V.css,V=V.media;if(V&&X.setAttribute("media",V),X.styleSheet)X.styleSheet.cssText=J;else{for(;X.firstChild;)X.removeChild(X.firstChild);X.appendChild(document.createTextNode(J))}}).bind(null,U),function(){A(U)}),Y($),function(X){X?X.css===$.css&&X.media===$.media&&X.sourceMap===$.sourceMap||Y($=X):k()}}t.exports=function($,F){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(F=F||{}).attrs=typeof F.attrs=="object"?F.attrs:{},F.singleton||typeof F.singleton=="boolean"||(F.singleton=_()),F.insertInto||(F.insertInto="head"),F.insertAt||(F.insertAt="bottom");var U=C($,F);return d(U,F),function(Y){for(var k=[],H=0;H<U.length;H++){var z=U[H];(X=g[z.id]).refs--,k.push(X)}Y&&d(C(Y,F),F);for(var X,H=0;H<k.length;H++)if((X=k[H]).refs===0){for(var te=0;te<X.parts.length;te++)X.parts[te]();delete g[X.id]}}};var R,I=(R=[],function($,F){return R[$]=F,R.filter(Boolean).join(`
`)});function P($,F,k,Y){var k=k?"":Y.css;$.styleSheet?$.styleSheet.cssText=I(F,k):(Y=document.createTextNode(k),(k=$.childNodes)[F]&&$.removeChild(k[F]),k.length?$.insertBefore(Y,k[F]):$.appendChild(Y))}},function(t,n,i){var h=i(45);typeof h=="string"&&(h=[[t.i,h,""]]);var o={hmr:!0,transform:void 0};i(26)(h,o),h.locals&&(t.exports=h.locals)},function(t,n,i){var h=i(23);i.o(h,"render")&&i.d(n,"render",function(){return h.render})},function(t,n,h){Object.defineProperty(n,"__esModule",{value:!0});var h=h(30),o=(h=h)&&h.__esModule?h:{default:h};n.default=Object.assign(o.default,{install:function(u){u.component("JsonViewer",o.default)}})},function(t,n,i){i.r(n);var h,g=i(28),o=i(12);for(h in o)h!=="default"&&function(_){i.d(n,_,function(){return o[_]})}(h);i(44);var u=i(0),g=i.n(u)()(o.default,[["render",g.render],["__file","lib/json-viewer.vue"]]);n.default=g},function(t,n,i){i.r(n);var h,o=i(14);for(h in o)h!=="default"&&function(g){i.d(n,g,function(){return o[g]})}(h);var u=i(0),u=i.n(u)()(o.default,[["__file","lib/types/json-string.vue"]]);n.default=u},function(t,n,i){i.r(n);var h,o=i(15);for(h in o)h!=="default"&&function(g){i.d(n,g,function(){return o[g]})}(h);var u=i(0),u=i.n(u)()(o.default,[["__file","lib/types/json-undefined.vue"]]);n.default=u},function(t,n,i){i.r(n);var h,o=i(16);for(h in o)h!=="default"&&function(g){i.d(n,g,function(){return o[g]})}(h);var u=i(0),u=i.n(u)()(o.default,[["__file","lib/types/json-number.vue"]]);n.default=u},function(t,n,i){i.r(n);var h,o=i(17);for(h in o)h!=="default"&&function(g){i.d(n,g,function(){return o[g]})}(h);var u=i(0),u=i.n(u)()(o.default,[["__file","lib/types/json-boolean.vue"]]);n.default=u},function(t,n,i){i.r(n);var h,o=i(18);for(h in o)h!=="default"&&function(g){i.d(n,g,function(){return o[g]})}(h);var u=i(0),u=i.n(u)()(o.default,[["__file","lib/types/json-object.vue"]]);n.default=u},function(t,n,i){i.r(n);var h,o=i(19);for(h in o)h!=="default"&&function(g){i.d(n,g,function(){return o[g]})}(h);var u=i(0),u=i.n(u)()(o.default,[["__file","lib/types/json-array.vue"]]);n.default=u},function(t,n,i){i.r(n);var h,o=i(20);for(h in o)h!=="default"&&function(g){i.d(n,g,function(){return o[g]})}(h);var u=i(0),u=i.n(u)()(o.default,[["__file","lib/types/json-function.vue"]]);n.default=u},function(t,n,i){i.r(n);var h,o=i(21);for(h in o)h!=="default"&&function(g){i.d(n,g,function(){return o[g]})}(h);var u=i(0),u=i.n(u)()(o.default,[["__file","lib/types/json-date.vue"]]);n.default=u},function(t,n,i){i(24)},function(t,n,i){(n=i(25)(!1)).push([t.i,`.jv-node{position:relative}.jv-node:after{content:','}.jv-node:last-of-type:after{content:''}.jv-node.toggle{margin-left:13px !important}.jv-node .jv-node{margin-left:25px}
`,""]),t.exports=n},function(t,n){t.exports=function(i){var h=typeof window<"u"&&window.location;if(!h)throw new Error("fixUrls requires window.location");if(!i||typeof i!="string")return i;var o=h.protocol+"//"+h.host,u=o+h.pathname.replace(/\/[^\/]*$/,"/");return i.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(g,m){var m=m.trim().replace(/^"(.*)"$/,function(r,f){return f}).replace(/^'(.*)'$/,function(r,f){return f});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(m)?g:(m=m.indexOf("//")===0?m:m.indexOf("/")===0?o+m:u+m.replace(/^\.\//,""),"url("+JSON.stringify(m)+")")})}},function(t,n){t.exports=b},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.debounce=function(h,o){var u=Date.now(),g=void 0;return function(){for(var _=arguments.length,m=Array(_),r=0;r<_;r++)m[r]=arguments[r];Date.now()-u<o&&g&&clearTimeout(g),g=setTimeout(function(){h.apply(void 0,m)},o),u=Date.now()}}},function(t,n,i){i(27)},function(t,n,u){var h=u(25),o=u(46),u=u(47);n=h(!1),u=o(u),n.push([t.i,".jv-container{box-sizing:border-box;position:relative}.jv-container.boxed{border:1px solid #eee;border-radius:6px}.jv-container.boxed:hover{box-shadow:0 2px 7px rgba(0,0,0,0.15);border-color:transparent;position:relative}.jv-container.jv-light{background:#fff;white-space:nowrap;color:#525252;font-size:14px;font-family:Consolas, Menlo, Courier, monospace}.jv-container.jv-light .jv-ellipsis{color:#999;background-color:#eee;display:inline-block;line-height:0.9;font-size:0.9em;padding:0px 4px 2px 4px;margin:0 4px;border-radius:3px;vertical-align:2px;cursor:pointer;-webkit-user-select:none;user-select:none}.jv-container.jv-light .jv-button{color:#49b3ff}.jv-container.jv-light .jv-key{color:#111111;margin-right:4px}.jv-container.jv-light .jv-item.jv-array{color:#111111}.jv-container.jv-light .jv-item.jv-boolean{color:#fc1e70}.jv-container.jv-light .jv-item.jv-function{color:#067bca}.jv-container.jv-light .jv-item.jv-number{color:#fc1e70}.jv-container.jv-light .jv-item.jv-object{color:#111111}.jv-container.jv-light .jv-item.jv-undefined{color:#e08331}.jv-container.jv-light .jv-item.jv-string{color:#42b983;word-break:break-word;white-space:normal}.jv-container.jv-light .jv-item.jv-string .jv-link{color:#0366d6}.jv-container.jv-light .jv-code .jv-toggle:before{padding:0px 2px;border-radius:2px}.jv-container.jv-light .jv-code .jv-toggle:hover:before{background:#eee}.jv-container .jv-code{overflow:hidden;padding:30px 20px}.jv-container .jv-code.boxed{max-height:300px}.jv-container .jv-code.open{max-height:initial !important;overflow:visible;overflow-x:auto;padding-bottom:45px}.jv-container .jv-toggle{background-image:url("+u+`);background-repeat:no-repeat;background-size:contain;background-position:center center;cursor:pointer;width:10px;height:10px;margin-right:2px;display:inline-block;-webkit-transition:-webkit-transform 0.1s;transition:-webkit-transform 0.1s;transition:transform 0.1s;transition:transform 0.1s, -webkit-transform 0.1s}.jv-container .jv-toggle.open{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.jv-container .jv-more{position:absolute;z-index:1;bottom:0;left:0;right:0;height:40px;width:100%;text-align:center;cursor:pointer}.jv-container .jv-more .jv-toggle{position:relative;top:40%;z-index:2;color:#888;-webkit-transition:all 0.1s;transition:all 0.1s;-webkit-transform:rotate(90deg);transform:rotate(90deg)}.jv-container .jv-more .jv-toggle.open{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.jv-container .jv-more:after{content:"";width:100%;height:100%;position:absolute;bottom:0;left:0;z-index:1;background:-webkit-linear-gradient(top, rgba(0,0,0,0) 20%, rgba(230,230,230,0.3) 100%);background:linear-gradient(to bottom, rgba(0,0,0,0) 20%, rgba(230,230,230,0.3) 100%);-webkit-transition:all 0.1s;transition:all 0.1s}.jv-container .jv-more:hover .jv-toggle{top:50%;color:#111}.jv-container .jv-more:hover:after{background:-webkit-linear-gradient(top, rgba(0,0,0,0) 20%, rgba(230,230,230,0.3) 100%);background:linear-gradient(to bottom, rgba(0,0,0,0) 20%, rgba(230,230,230,0.3) 100%)}.jv-container .jv-button{position:relative;cursor:pointer;display:inline-block;padding:5px;z-index:5}.jv-container .jv-button.copied{opacity:0.4;cursor:default}.jv-container .jv-tooltip{position:absolute}.jv-container .jv-tooltip.right{right:15px}.jv-container .jv-tooltip.left{left:15px}.jv-container .j-icon{font-size:12px}
`,""]),t.exports=n},function(t,n,i){t.exports=function(h,o){return o=o||{},typeof(h=h&&h.__esModule?h.default:h)!="string"?h:(/^['"].*['"]$/.test(h)&&(h=h.slice(1,-1)),o.hash&&(h+=o.hash),/["'() \t\n]/.test(h)||o.needQuotes?'"'.concat(h.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):h)}},function(t,n){t.exports="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjE2IiB3aWR0aD0iOCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KIAo8cG9seWdvbiBwb2ludHM9IjAsMCA4LDggMCwxNiIKc3R5bGU9ImZpbGw6IzY2NjtzdHJva2U6cHVycGxlO3N0cm9rZS13aWR0aDowIiAvPgo8L3N2Zz4="}],S.c=l,S.d=function(t,n,i){S.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},S.r=function(t){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},S.t=function(t,n){if(1&n&&(t=S(t)),8&n||4&n&&typeof t=="object"&&t&&t.__esModule)return t;var i=Object.create(null);if(S.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&typeof t!="string")for(var h in t)S.d(i,h,(function(o){return t[o]}).bind(null,h));return i},S.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return S.d(n,"a",n),n},S.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},S.p="",S(S.s=29);function S(t){if(l[t])return l[t].exports;var n=l[t]={i:t,l:!1,exports:{}};return x[t].call(n.exports,n,n.exports,S),n.l=!0,n.exports}var x,l})})(_g);var gO=_g.exports;const vh=ci(gO),_O=e=>(Vt("data-v-e3c6e5a5"),e=e(),Kt(),e),mO={class:"json-root"},yO=_O(()=>W("h1",null,"JWT",-1)),bO={class:"section-content"},SO={class:"json-viewer"},CO={key:0,class:"raw"},wO=["innerHTML"],xO={__name:"Index",setup(e){const a=Le(!1),c=Le({}),b=Le(""),S=Le("// Paste JWT...");return Bs(async()=>{try{const{data:x}=await We.post("/JWT",{jwt:S.value});c.value=x,b.value=JSON.stringify(c.value,null,2).split(`
`).join("<br/>")}catch{}}),(x,l)=>{const t=br("editor");return re(),oe("div",mO,[yO,at(ar,null,{default:rt(()=>[W("div",bO,[at(t,{modelValue:S.value,"onUpdate:modelValue":l[0]||(l[0]=n=>S.value=n),language:"json",style:{height:"calc(100vh - 200px)"}},null,8,["modelValue"]),W("div",SO,[W("div",null,[Ue(" Show Raw "),Rt(W("input",{type:"checkbox","onUpdate:modelValue":l[1]||(l[1]=n=>a.value=n)},null,512),[[Nn,a.value]])]),a.value?(re(),oe("div",CO,[W("pre",{innerHTML:b.value},null,8,wO)])):(re(),jt(Er(vh),{key:1,value:c.value,copyable:!0,"expand-depth":1,"show-double-quotes":!0},null,8,["value"]))])])]),_:1})])}}},EO=Pt(xO,[["__scopeId","data-v-e3c6e5a5"]]),mg=e=>(Vt("data-v-9b298e4b"),e=e(),Kt(),e),AO={class:"uuid-root"},TO=mg(()=>W("h1",null,"MongoDB",-1)),LO={class:"section-content"},OO=mg(()=>W("i",{class:"fas fa-random"},null,-1)),RO={class:"section-content"},kO={class:"section-content"},DO={__name:"Index",setup(e){const a=Le(),c=Le(null),b=Le(null),S=n=>jn(parseInt(n.substring(0,8),16)*1e3),x=n=>Math.floor(n.getTime()/1e3).toString(16)+"0000000000000000";er(l);async function l(){const{data:n}=await We.get("/mongo/generate");a.value=n,b.value=S(n).format("YYYY-MM-DDThh:mm"),t(n)}Bs(()=>t(a.value)),Bs(()=>a.value=x(jn(b.value).toDate()));function t(n){c.value={date:S(n||"")}}return(n,i)=>(re(),oe("div",AO,[TO,at(ar,{header:"ObjectId"},{default:rt(()=>[W("div",LO,[W("h2",null,"ObjectId('"+De(a.value)+"')",1),W("button",{onClick:l},[OO,Ue(" Regenerate ")])])]),_:1}),at(ar,{header:"Decode ObjectId"},{default:rt(()=>{var h,o,u;return[W("div",RO,[W("h2",null,De((u=(o=(h=c.value)==null?void 0:h.date)==null?void 0:o.format)==null?void 0:u.call(o,"YYYY-MM-DD hh:mm:ss")),1),Rt(W("input",{type:"text","onUpdate:modelValue":i[0]||(i[0]=g=>a.value=g)},null,512),[[or,a.value]])])]}),_:1}),at(ar,{header:"Encode Date"},{default:rt(()=>[W("div",kO,[Rt(W("input",{type:"datetime-local","onUpdate:modelValue":i[1]||(i[1]=h=>b.value=h)},null,512),[[or,b.value]])])]),_:1})]))}},IO=Pt(DO,[["__scopeId","data-v-9b298e4b"]]),MO=e=>(Vt("data-v-d15ad995"),e=e(),Kt(),e),PO={class:"node-repl-root"},BO={class:"content"},$O={class:"rooms"},FO=["onClick"],jO=["onClick"],NO=MO(()=>W("i",{class:"fas fa-trash"},null,-1)),HO=[NO],UO={key:0,class:"chat-container"},Op=`
;(async () => {
  // Code...
})()
  .then(console.log)
  .catch(console.error)
`,WO={__name:"Index",setup(e){const a=Le(),c=Le([]),b=Le(""),S=Le({});let x=Le();const l=Le(Op);er(async()=>{dn.socket.on("node-repl:update",({msg:u,clear:g})=>{g&&x.value.clear(),u&&u.trim().split(`
`).filter(_=>_).map(_=>{x.value.writeln(_)})}),await n()});async function t(){await We.post(`/node-repl/chat/${b.value}`,{script:l.value})}async function n(){var _;const{data:u}=await We.get("/node-repl/rooms");c.value=u,b.value||await o((_=c.value)==null?void 0:_[0]);const{data:g}=await We.get(`/node-repl/chat/${b.value}`);S.value=g,g.script&&(l.value=g.script)}async function i(u){await We.delete(`/node-repl/rooms/${u}`),await n()}async function h(u,g){await We.post("/node-repl/rooms",{room:u}),await n(),g&&(g.target.value=""),await o(u)}async function o(u){var m,r,f;if(!u)return;b.value=u,S.value={},l.value=Op,await n(),await si();const g=a.value;a.value&&(a.value.innerHTML=""),x.value=new eg.Terminal({experimentalCharAtlas:"static",convertEol:!0,disableStdin:!0,fontSize:14,height:"calc(100vh)",theme:{}});const _=new rg.FitAddon;x.value.loadAddon(_),x.value.open(g),_.activate(x.value),_.fit(),(m=S.value)!=null&&m.result&&((r=x.value)==null||r.clear(),(f=S.value)==null||f.result.trim().split(`
`).filter(p=>p).map(p=>{x.value.writeln(p)}))}return(u,g)=>{const _=br("Editor");return re(),oe("div",PO,[W("h1",null,De(b.value),1),W("div",BO,[W("div",$O,[W("input",{type:"text",placeholder:"New room...",style:{width:"100%"},onChange:g[0]||(g[0]=m=>{var r;return h((r=m.target)==null?void 0:r.value,m)})},null,32),(re(!0),oe(it,null,pt(c.value,m=>(re(),oe("div",{class:St(["room",{active:b.value===m}]),key:m,onClick:r=>o(m)},[W("div",null,De(m),1),W("button",{class:"small",onClick:_r(r=>i(m),["stop"])},HO,8,jO)],10,FO))),128))]),b.value?(re(),oe("div",UO,[at(ar,{header:"Input"},{default:rt(()=>[at(_,{modelValue:l.value,"onUpdate:modelValue":g[1]||(g[1]=m=>l.value=m),language:"javascript",style:{height:"400px"},onSave:t},null,8,["modelValue"]),W("button",{onClick:g[2]||(g[2]=m=>t())},"Send")]),_:1}),at(ar,{header:"Output"},{default:rt(()=>[W("div",{ref_key:"terminalRef",ref:a},null,512)]),_:1})])):He("",!0)])])}}},zO=Pt(WO,[["__scopeId","data-v-d15ad995"]]),GO=e=>(Vt("data-v-aa0db5e5"),e=e(),Kt(),e),VO={class:"diff-root"},KO=GO(()=>W("h1",null,"Differences",-1)),YO={__name:"Index",setup(e){return(a,c)=>{const b=br("Editor");return re(),oe("div",VO,[KO,at(ar,null,{default:rt(()=>[at(b,{style:{height:"calc(100vh - 200px)"},diff:!0})]),_:1})])}}},XO=Pt(YO,[["__scopeId","data-v-aa0db5e5"]]),JO=e=>(Vt("data-v-baf8e1af"),e=e(),Kt(),e),QO={class:"json-root"},qO=JO(()=>W("h1",null,"Regex",-1)),ZO={class:"section-content"},eR={class:"editor-container"},tR={class:"json-viewer"},rR={key:0,class:"raw"},nR=["innerHTML"],iR={__name:"Index",setup(e){const a=Le(!1),c=Le({}),b=Le(""),S=Le(".*"),x=Le("Place your lines to test..."),l=Le();let t=[];return Bs(async()=>{var n;if((n=l.value)!=null&&n.isReady){t.forEach(i=>i.clear()),t=[];try{const i=[];if(!S.value){c.value=[];return}x.value.split(`
`).forEach((h,o)=>{const u=new RegExp(S.value,"gid"),g=[...h.matchAll(u)].map(_=>{const[m,...r]=_,{input:f,index:p,indices:v}=_;return{match:m,groups:r,input:f,index:p,indices:v}});i.push(g),g.forEach(_=>{var m;(m=_.indices)==null||m.forEach((r,f)=>{var v,d;const p=(d=(v=l.value)==null?void 0:v.editor)==null?void 0:d.createDecorationsCollection([{range:{startLineNumber:o+1,endLineNumber:o+1,startColumn:r[0]+1,endColumn:r[1]+1},options:{isWholeLine:!1,inlineClassName:`highlight-${f}`}}]);p&&t.push(p)})})}),c.value=i,b.value=JSON.stringify(c.value,null,2).split(`
`).join("<br/>")}catch(i){console.error(i)}}}),(n,i)=>{const h=br("Editor");return re(),oe("div",QO,[qO,at(ar,null,{default:rt(()=>[W("div",ZO,[W("div",eR,[Ue(" Inert your regex: "),Rt(W("input",{type:"text","onUpdate:modelValue":i[0]||(i[0]=o=>S.value=o),placeholder:"Regex..."},null,512),[[or,S.value]]),at(h,{ref_key:"monacoRef",ref:l,style:{height:"400px"},modelValue:x.value,"onUpdate:modelValue":i[1]||(i[1]=o=>x.value=o)},null,8,["modelValue"])]),W("div",tR,[W("div",null,[Ue(" Show Raw "),Rt(W("input",{type:"checkbox","onUpdate:modelValue":i[2]||(i[2]=o=>a.value=o)},null,512),[[Nn,a.value]])]),a.value?(re(),oe("div",rR,[W("pre",{innerHTML:b.value},null,8,nR)])):(re(),jt(Er(vh),{key:1,value:c.value,copyable:!0,"expand-depth":10,"show-double-quotes":!0},null,8,["value"]))])])]),_:1})])}}},sR=Pt(iR,[["__scopeId","data-v-baf8e1af"]]),oR=e=>(Vt("data-v-ea848851"),e=e(),Kt(),e),aR={class:"json-root"},lR=oR(()=>W("h1",null,"JSON",-1)),cR={class:"section-content"},uR={class:"json-viewer"},hR={key:0,class:"valid"},fR={key:1,class:"invalid"},dR={key:2,class:"raw"},pR=["innerHTML"],vR={__name:"Index",setup(e){var n;const c=(n=Di().currentRoute.value.query.json)==null?void 0:n.toString(),b=Le(!1),S=Le({}),x=Le(""),l=Le(c||"{}"),t=Le(!0);return Bs(()=>{t.value=!0;try{S.value=JSON.parse(l.value),x.value=JSON.stringify(S.value,null,2).split(`
`).join("<br/>")}catch{t.value=!1}}),(i,h)=>{const o=br("editor");return re(),oe("div",aR,[lR,at(ar,null,{default:rt(()=>[W("div",cR,[at(o,{modelValue:l.value,"onUpdate:modelValue":h[0]||(h[0]=u=>l.value=u),language:"json",style:{height:"calc(100vh - 200px)"}},null,8,["modelValue"]),W("div",uR,[t.value?(re(),oe("div",hR,"Valid JSON")):(re(),oe("div",fR,"Invalid JSON")),W("div",null,[Ue(" Show Raw "),Rt(W("input",{type:"checkbox","onUpdate:modelValue":h[1]||(h[1]=u=>b.value=u)},null,512),[[Nn,b.value]])]),b.value?(re(),oe("div",dR,[W("pre",{innerHTML:x.value},null,8,pR)])):(re(),jt(Er(vh),{key:3,value:S.value,copyable:!0,"expand-depth":6,"show-double-quotes":!0},null,8,["value"]))])])]),_:1})])}}},gR=Pt(vR,[["__scopeId","data-v-ea848851"]]),_R={class:"root"},mR=["onClick"],yR={key:0,class:"fas fa-folder"},bR={key:1,class:"fas fa-file"},SR={key:0},CR={key:0,class:"children"},wR={__name:"Tree",props:{tree:{required:!0,default:()=>[]},activeLeaf:{required:!0,default:void 0}},emits:["go"],setup(e){return(a,c)=>(re(),oe("div",_R,[(re(!0),oe(it,null,pt(e.tree,b=>{var S;return re(),oe("div",{key:b.name},[W("div",{class:St(["label",{active:(b==null?void 0:b.path)===((S=e.activeLeaf)==null?void 0:S.path),isFile:!b.isDir}]),onClick:_r(x=>b.isDir?"":a.$emit("go",b),["stop"])},[b.isDir?(re(),oe("i",yR)):(re(),oe("i",bR)),Ue(" "+De(b.name||b.path),1)],10,mR),b!=null&&b.isDir?(re(),oe("div",SR,[b!=null&&b.children?(re(),oe("div",CR,[at(yg,{tree:b.children,onGo:c[0]||(c[0]=x=>a.$emit("go",x)),activeLeaf:e.activeLeaf},null,8,["tree","activeLeaf"])])):He("",!0)])):He("",!0)])}),128))]))}},yg=Pt(wR,[["__scopeId","data-v-f11d4b34"]]),xR=e=>(Vt("data-v-f3a67aa2"),e=e(),Kt(),e),ER=xR(()=>W("div",{class:"header"},[W("h2",null,"Documentation")],-1)),AR={class:"container"},TR={class:"markdown"},LR={__name:"Index",props:{service:{default:null,required:!0,type:Rn}},setup(e){const a=Al(),c=e,b=Le([]),S=Le([]),x=Le(null),l=Le(null);vn(()=>a.query.leaf,()=>{const n=S.value.find(i=>{var h;return i.path===((h=a.query.leaf)==null?void 0:h.toString())});if(n)return t(n)}),er(async()=>{const{data:n}=await We.get(`/documentation/service/${c.service.label}`),{data:i}=await We.get(`/documentation/service/${c.service.label}/flat`);if(S.value=i,b.value=n,!x.value){if(a.query.leaf){const o=S.value.find(u=>{var g;return u.path===((g=a.query.leaf)==null?void 0:g.toString())});if(o)return t(o)}const h=b.value.find(o=>{var u;return((u=o.name)==null?void 0:u.toUpperCase())==="INDEX.MD"});if(h)await t(h);else{const o=b.value[0];o&&await t(o)}}});async function t(n){l.value=n,x.value=null;const{data:i}=await We.get(`/documentation/service/${c.service.label}/${encodeURIComponent(n.path)}`);x.value=i}return(n,i)=>e.service?(re(),jt(ar,{class:"configs-root",key:e.service.label},{default:rt(()=>[ER,W("div",AR,[at(yg,{tree:b.value,onGo:t,activeLeaf:l.value},null,8,["tree","activeLeaf"]),W("div",TR,[at(Er(dC),{source:x.value||""},null,8,["source"])])])]),_:1})):He("",!0)}},OR=Pt(LR,[["__scopeId","data-v-f3a67aa2"]]),bg=e=>(Vt("data-v-9ac125b0"),e=e(),Kt(),e),RR={class:"toolbox"},kR={class:"sidebar"},DR=["onClick"],IR={class:"item"},MR={key:1,class:"icon"},PR={class:"container"},BR={key:1,class:"no-tools"},$R=bg(()=>W("div",null,[W("i",{class:"fas fa-toolbox"})],-1)),FR=bg(()=>W("div",null," Choisissez un outils ",-1)),jR=[$R,FR],NR={__name:"Index",setup(e){const a=Di(),c=Le([]),b=Le(""),S=Le();er(async()=>{var i;const{data:n}=await We.get("/plugins/dev-ops");c.value=(n==null?void 0:n.flat())||[],(i=S.value)==null||i.focus()});const x=At(()=>[...c.value.map(n=>n.placements.map(i=>{if(typeof i!="string")return{...n,text:i.label,icon:i.icon,iconText:i.iconText,click:i.goTo?()=>{var h;typeof i.goTo=="string"?a.push({path:i.goTo}):a.push({...i.goTo,path:`/DevOps${((h=i.goTo)==null?void 0:h.path)||i.goTo}`})}:()=>{},active:i.active}})).flat().filter(n=>{var i,h;return(h=n==null?void 0:n.text)==null?void 0:h.toUpperCase().includes((i=b.value)==null?void 0:i.toUpperCase())})||[]]);function l(){var n,i;(i=(n=x.value)==null?void 0:n[0])==null||i.click()}function t(n){return a.currentRoute.value.params.plugin===(n==null?void 0:n.name)}return(n,i)=>{const h=br("router-view");return re(),oe("div",RR,[W("div",kR,[W("ul",null,[Rt(W("input",{type:"text",ref_key:"searchToolRef",ref:S,placeholder:"Search tool...","onUpdate:modelValue":i[0]||(i[0]=o=>b.value=o),autofocus:"true",onKeypress:gn(l,["enter"])},null,544),[[or,b.value]]),(re(!0),oe(it,null,pt(x.value,o=>(re(),oe("li",{key:o==null?void 0:o.name,class:St(["sidebar-item",{active:t(o)}]),onClick:u=>{var g;return(g=o==null?void 0:o.click)==null?void 0:g.call(o)}},[W("div",IR,[o!=null&&o.icon?(re(),oe("i",{key:0,class:St(["icon",o==null?void 0:o.icon])},null,2)):He("",!0),o!=null&&o.iconText?(re(),oe("span",MR,De(o==null?void 0:o.iconText),1)):He("",!0),Ue(" "+De(o==null?void 0:o.text),1)])],10,DR))),128))])]),W("div",PR,[n.$router.currentRoute.value.fullPath!=="/DevOps"?(re(),jt(h,{key:0})):(re(),oe("div",BR,jR))])])}}},HR=Pt(NR,[["__scopeId","data-v-9ac125b0"]]);function rs(e,a){var c,b;if(typeof a=="function")b=a(e),b!==void 0&&(e=b);else if(Array.isArray(a))for(c=0;c<a.length;c++)b=a[c](e),b!==void 0&&(e=b);return e}function UR(e,a){return e[0]==="-"&&Array.isArray(a)&&/^-\d+$/.test(e)?a.length+parseInt(e,10):e}function WR(e){return/^\d+$/.test(e)}function tl(e){return Object.prototype.toString.call(e)==="[object Object]"}function So(e){return Object(e)===e}function rl(e){return Object.keys(e).length===0}var zR=["__proto__","prototype","constructor"],GR=function(e){return zR.indexOf(e)===-1};function Rl(e,a){e.indexOf("[")>=0&&(e=e.replace(/\[/g,a).replace(/]/g,""));var c=e.split(a),b=c.filter(GR);if(b.length!==c.length)throw Error("Refusing to update blacklisted property "+e);return c}var Rp=Object.prototype.hasOwnProperty;function kt(e,a,c,b){if(!(this instanceof kt))return new kt(e,a,c,b);typeof a>"u"&&(a=!1),typeof c>"u"&&(c=!0),typeof b>"u"&&(b=!0),this.separator=e||".",this.override=a,this.useArray=c,this.useBrackets=b,this.keepArray=!1,this.cleanup=[]}var zs=new kt(".",!1,!0,!0);function In(e){return function(){return zs[e].apply(zs,arguments)}}kt.prototype._fill=function(e,a,c,b){var S=e.shift();if(e.length>0){if(a[S]=a[S]||(this.useArray&&WR(e[0])?[]:{}),!So(a[S]))if(this.override)a[S]={};else{if(!(So(c)&&rl(c)))throw new Error("Trying to redefine `"+S+"` which is a "+typeof a[S]);return}this._fill(e,a[S],c,b)}else{if(!this.override&&So(a[S])&&!rl(a[S])){if(!(So(c)&&rl(c)))throw new Error("Trying to redefine non-empty obj['"+S+"']");return}a[S]=rs(c,b)}};kt.prototype.object=function(e,a){var c=this;return Object.keys(e).forEach(function(b){var S=a===void 0?null:a[b],x=Rl(b,c.separator).join(c.separator);x.indexOf(c.separator)!==-1?(c._fill(x.split(c.separator),e,e[b],S),delete e[b]):e[b]=rs(e[b],S)}),e};kt.prototype.str=function(e,a,c,b){var S=Rl(e,this.separator).join(this.separator);return e.indexOf(this.separator)!==-1?this._fill(S.split(this.separator),c,a,b):c[e]=rs(a,b),c};kt.prototype.pick=function(e,a,c,b){var S,x,l,t,n;for(x=Rl(e,this.separator),S=0;S<x.length;S++)if(t=UR(x[S],a),a&&typeof a=="object"&&t in a){if(S===x.length-1)return c?(l=a[t],b&&Array.isArray(a)?a.splice(t,1):delete a[t],Array.isArray(a)&&(n=x.slice(0,-1).join("."),this.cleanup.indexOf(n)===-1&&this.cleanup.push(n)),l):a[t];a=a[t]}else return;return c&&Array.isArray(a)&&(a=a.filter(function(i){return i!==void 0})),a};kt.prototype.delete=function(e,a){return this.remove(e,a,!0)};kt.prototype.remove=function(e,a,c){var b;if(this.cleanup=[],Array.isArray(e)){for(b=0;b<e.length;b++)this.pick(e[b],a,!0,c);return c||this._cleanup(a),a}else return this.pick(e,a,!0,c)};kt.prototype._cleanup=function(e){var a,c,b,S;if(this.cleanup.length){for(c=0;c<this.cleanup.length;c++)b=this.cleanup[c].split("."),S=b.splice(0,-1).join("."),a=S?this.pick(S,e):e,a=a[b[0]].filter(function(x){return x!==void 0}),this.set(this.cleanup[c],a,e);this.cleanup=[]}};kt.prototype.del=kt.prototype.remove;kt.prototype.move=function(e,a,c,b,S){return typeof b=="function"||Array.isArray(b)?this.set(a,rs(this.pick(e,c,!0),b),c,S):(S=b,this.set(a,this.pick(e,c,!0),c,S)),c};kt.prototype.transfer=function(e,a,c,b,S,x){return typeof S=="function"||Array.isArray(S)?this.set(a,rs(this.pick(e,c,!0),S),b,x):(x=S,this.set(a,this.pick(e,c,!0),b,x)),b};kt.prototype.copy=function(e,a,c,b,S,x){return typeof S=="function"||Array.isArray(S)?this.set(a,rs(JSON.parse(JSON.stringify(this.pick(e,c,!1))),S),b,x):(x=S,this.set(a,this.pick(e,c,!1),b,x)),b};kt.prototype.set=function(e,a,c,b){var S,x,l,t;if(typeof a>"u")return c;for(l=Rl(e,this.separator),S=0;S<l.length;S++){if(t=l[S],S===l.length-1)if(b&&tl(a)&&tl(c[t]))for(x in a)Rp.call(a,x)&&(c[t][x]=a[x]);else if(b&&Array.isArray(c[t])&&Array.isArray(a))for(var n=0;n<a.length;n++)c[l[S]].push(a[n]);else c[t]=a;else(!Rp.call(c,t)||!tl(c[t])&&!Array.isArray(c[t]))&&(/^\d+$/.test(l[S+1])?c[t]=[]:c[t]={});c=c[t]}return c};kt.prototype.transform=function(e,a,c){return a=a||{},c=c||{},Object.keys(e).forEach((function(b){this.set(e[b],this.pick(b,a),c)}).bind(this)),c};kt.prototype.dot=function(e,a,c){a=a||{},c=c||[];var b=Array.isArray(e);return Object.keys(e).forEach((function(S){var x=b&&this.useBrackets?"["+S+"]":S;if(So(e[S])&&(tl(e[S])&&!rl(e[S])||Array.isArray(e[S])&&!this.keepArray&&e[S].length!==0))if(b&&this.useBrackets){var l=c[c.length-1]||"";return this.dot(e[S],a,c.slice(0,-1).concat(l+x))}else return this.dot(e[S],a,c.concat(x));else b&&this.useBrackets?a[c.join(this.separator).concat("["+S+"]")]=e[S]:a[c.concat(x).join(this.separator)]=e[S]}).bind(this)),a};kt.pick=In("pick");kt.move=In("move");kt.transfer=In("transfer");kt.transform=In("transform");kt.copy=In("copy");kt.object=In("object");kt.str=In("str");kt.set=In("set");kt.delete=In("delete");kt.del=kt.remove=In("remove");kt.dot=In("dot");["override","overwrite"].forEach(function(e){Object.defineProperty(kt,e,{get:function(){return zs.override},set:function(a){zs.override=!!a}})});["useArray","keepArray","useBrackets"].forEach(function(e){Object.defineProperty(kt,e,{get:function(){return zs[e]},set:function(a){zs[e]=a}})});kt._process=rs;var VR=kt;const KR=ci(VR);var Sg=typeof global=="object"&&global&&global.Object===Object&&global,YR=typeof self=="object"&&self&&self.Object===Object&&self,Kn=Sg||YR||Function("return this")(),Gn=Kn.Symbol,Cg=Object.prototype,XR=Cg.hasOwnProperty,JR=Cg.toString,vo=Gn?Gn.toStringTag:void 0;function QR(e){var a=XR.call(e,vo),c=e[vo];try{e[vo]=void 0;var b=!0}catch{}var S=JR.call(e);return b&&(a?e[vo]=c:delete e[vo]),S}var qR=Object.prototype,ZR=qR.toString;function ek(e){return ZR.call(e)}var tk="[object Null]",rk="[object Undefined]",kp=Gn?Gn.toStringTag:void 0;function Ks(e){return e==null?e===void 0?rk:tk:kp&&kp in Object(e)?QR(e):ek(e)}function ki(e){return e!=null&&typeof e=="object"}var nk="[object Symbol]";function gh(e){return typeof e=="symbol"||ki(e)&&Ks(e)==nk}function ik(e,a){for(var c=-1,b=e==null?0:e.length,S=Array(b);++c<b;)S[c]=a(e[c],c,e);return S}var yn=Array.isArray,sk=1/0,Dp=Gn?Gn.prototype:void 0,Ip=Dp?Dp.toString:void 0;function wg(e){if(typeof e=="string")return e;if(yn(e))return ik(e,wg)+"";if(gh(e))return Ip?Ip.call(e):"";var a=e+"";return a=="0"&&1/e==-sk?"-0":a}function ns(e){var a=typeof e;return e!=null&&(a=="object"||a=="function")}function ok(e){return e}var ak="[object AsyncFunction]",lk="[object Function]",ck="[object GeneratorFunction]",uk="[object Proxy]";function xg(e){if(!ns(e))return!1;var a=Ks(e);return a==lk||a==ck||a==ak||a==uk}var Su=Kn["__core-js_shared__"],Mp=function(){var e=/[^.]+$/.exec(Su&&Su.keys&&Su.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function hk(e){return!!Mp&&Mp in e}var fk=Function.prototype,dk=fk.toString;function is(e){if(e!=null){try{return dk.call(e)}catch{}try{return e+""}catch{}}return""}var pk=/[\\^$.*+?()[\]{}|]/g,vk=/^\[object .+?Constructor\]$/,gk=Function.prototype,_k=Object.prototype,mk=gk.toString,yk=_k.hasOwnProperty,bk=RegExp("^"+mk.call(yk).replace(pk,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Sk(e){if(!ns(e)||hk(e))return!1;var a=xg(e)?bk:vk;return a.test(is(e))}function Ck(e,a){return e==null?void 0:e[a]}function ss(e,a){var c=Ck(e,a);return Sk(c)?c:void 0}var Wu=ss(Kn,"WeakMap"),Pp=Object.create,wk=function(){function e(){}return function(a){if(!ns(a))return{};if(Pp)return Pp(a);e.prototype=a;var c=new e;return e.prototype=void 0,c}}();function xk(e,a){var c=-1,b=e.length;for(a||(a=Array(b));++c<b;)a[c]=e[c];return a}var Bp=function(){try{var e=ss(Object,"defineProperty");return e({},"",{}),e}catch{}}();function Ek(e,a){for(var c=-1,b=e==null?0:e.length;++c<b&&a(e[c],c,e)!==!1;);return e}var Ak=9007199254740991,Tk=/^(?:0|[1-9]\d*)$/;function _h(e,a){var c=typeof e;return a=a??Ak,!!a&&(c=="number"||c!="symbol"&&Tk.test(e))&&e>-1&&e%1==0&&e<a}function mh(e,a,c){a=="__proto__"&&Bp?Bp(e,a,{configurable:!0,enumerable:!0,value:c,writable:!0}):e[a]=c}function kl(e,a){return e===a||e!==e&&a!==a}var Lk=Object.prototype,Ok=Lk.hasOwnProperty;function Eg(e,a,c){var b=e[a];(!(Ok.call(e,a)&&kl(b,c))||c===void 0&&!(a in e))&&mh(e,a,c)}function Dl(e,a,c,b){var S=!c;c||(c={});for(var x=-1,l=a.length;++x<l;){var t=a[x],n=b?b(c[t],e[t],t,c,e):void 0;n===void 0&&(n=e[t]),S?mh(c,t,n):Eg(c,t,n)}return c}var Rk=9007199254740991;function yh(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Rk}function Il(e){return e!=null&&yh(e.length)&&!xg(e)}function kk(e,a,c){if(!ns(c))return!1;var b=typeof a;return(b=="number"?Il(c)&&_h(a,c.length):b=="string"&&a in c)?kl(c[a],e):!1}var Dk=Object.prototype;function bh(e){var a=e&&e.constructor,c=typeof a=="function"&&a.prototype||Dk;return e===c}function Ik(e,a){for(var c=-1,b=Array(e);++c<e;)b[c]=a(c);return b}var Mk="[object Arguments]";function $p(e){return ki(e)&&Ks(e)==Mk}var Ag=Object.prototype,Pk=Ag.hasOwnProperty,Bk=Ag.propertyIsEnumerable,Tg=$p(function(){return arguments}())?$p:function(e){return ki(e)&&Pk.call(e,"callee")&&!Bk.call(e,"callee")};function $k(){return!1}var Lg=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Fp=Lg&&typeof module=="object"&&module&&!module.nodeType&&module,Fk=Fp&&Fp.exports===Lg,jp=Fk?Kn.Buffer:void 0,jk=jp?jp.isBuffer:void 0,dl=jk||$k,Nk="[object Arguments]",Hk="[object Array]",Uk="[object Boolean]",Wk="[object Date]",zk="[object Error]",Gk="[object Function]",Vk="[object Map]",Kk="[object Number]",Yk="[object Object]",Xk="[object RegExp]",Jk="[object Set]",Qk="[object String]",qk="[object WeakMap]",Zk="[object ArrayBuffer]",eD="[object DataView]",tD="[object Float32Array]",rD="[object Float64Array]",nD="[object Int8Array]",iD="[object Int16Array]",sD="[object Int32Array]",oD="[object Uint8Array]",aD="[object Uint8ClampedArray]",lD="[object Uint16Array]",cD="[object Uint32Array]",Gt={};Gt[tD]=Gt[rD]=Gt[nD]=Gt[iD]=Gt[sD]=Gt[oD]=Gt[aD]=Gt[lD]=Gt[cD]=!0;Gt[Nk]=Gt[Hk]=Gt[Zk]=Gt[Uk]=Gt[eD]=Gt[Wk]=Gt[zk]=Gt[Gk]=Gt[Vk]=Gt[Kk]=Gt[Yk]=Gt[Xk]=Gt[Jk]=Gt[Qk]=Gt[qk]=!1;function uD(e){return ki(e)&&yh(e.length)&&!!Gt[Ks(e)]}function Sh(e){return function(a){return e(a)}}var Og=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ko=Og&&typeof module=="object"&&module&&!module.nodeType&&module,hD=ko&&ko.exports===Og,Cu=hD&&Sg.process,Gs=function(){try{var e=ko&&ko.require&&ko.require("util").types;return e||Cu&&Cu.binding&&Cu.binding("util")}catch{}}(),Np=Gs&&Gs.isTypedArray,Rg=Np?Sh(Np):uD,fD=Object.prototype,dD=fD.hasOwnProperty;function kg(e,a){var c=yn(e),b=!c&&Tg(e),S=!c&&!b&&dl(e),x=!c&&!b&&!S&&Rg(e),l=c||b||S||x,t=l?Ik(e.length,String):[],n=t.length;for(var i in e)(a||dD.call(e,i))&&!(l&&(i=="length"||S&&(i=="offset"||i=="parent")||x&&(i=="buffer"||i=="byteLength"||i=="byteOffset")||_h(i,n)))&&t.push(i);return t}function Dg(e,a){return function(c){return e(a(c))}}var pD=Dg(Object.keys,Object),vD=Object.prototype,gD=vD.hasOwnProperty;function _D(e){if(!bh(e))return pD(e);var a=[];for(var c in Object(e))gD.call(e,c)&&c!="constructor"&&a.push(c);return a}function Go(e){return Il(e)?kg(e):_D(e)}function mD(e){var a=[];if(e!=null)for(var c in Object(e))a.push(c);return a}var yD=Object.prototype,bD=yD.hasOwnProperty;function SD(e){if(!ns(e))return mD(e);var a=bh(e),c=[];for(var b in e)b=="constructor"&&(a||!bD.call(e,b))||c.push(b);return c}function Ch(e){return Il(e)?kg(e,!0):SD(e)}var CD=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,wD=/^\w*$/;function wh(e,a){if(yn(e))return!1;var c=typeof e;return c=="number"||c=="symbol"||c=="boolean"||e==null||gh(e)?!0:wD.test(e)||!CD.test(e)||a!=null&&e in Object(a)}var No=ss(Object,"create");function xD(){this.__data__=No?No(null):{},this.size=0}function ED(e){var a=this.has(e)&&delete this.__data__[e];return this.size-=a?1:0,a}var AD="__lodash_hash_undefined__",TD=Object.prototype,LD=TD.hasOwnProperty;function OD(e){var a=this.__data__;if(No){var c=a[e];return c===AD?void 0:c}return LD.call(a,e)?a[e]:void 0}var RD=Object.prototype,kD=RD.hasOwnProperty;function DD(e){var a=this.__data__;return No?a[e]!==void 0:kD.call(a,e)}var ID="__lodash_hash_undefined__";function MD(e,a){var c=this.__data__;return this.size+=this.has(e)?0:1,c[e]=No&&a===void 0?ID:a,this}function ts(e){var a=-1,c=e==null?0:e.length;for(this.clear();++a<c;){var b=e[a];this.set(b[0],b[1])}}ts.prototype.clear=xD;ts.prototype.delete=ED;ts.prototype.get=OD;ts.prototype.has=DD;ts.prototype.set=MD;function PD(){this.__data__=[],this.size=0}function Ml(e,a){for(var c=e.length;c--;)if(kl(e[c][0],a))return c;return-1}var BD=Array.prototype,$D=BD.splice;function FD(e){var a=this.__data__,c=Ml(a,e);if(c<0)return!1;var b=a.length-1;return c==b?a.pop():$D.call(a,c,1),--this.size,!0}function jD(e){var a=this.__data__,c=Ml(a,e);return c<0?void 0:a[c][1]}function ND(e){return Ml(this.__data__,e)>-1}function HD(e,a){var c=this.__data__,b=Ml(c,e);return b<0?(++this.size,c.push([e,a])):c[b][1]=a,this}function ui(e){var a=-1,c=e==null?0:e.length;for(this.clear();++a<c;){var b=e[a];this.set(b[0],b[1])}}ui.prototype.clear=PD;ui.prototype.delete=FD;ui.prototype.get=jD;ui.prototype.has=ND;ui.prototype.set=HD;var Ho=ss(Kn,"Map");function UD(){this.size=0,this.__data__={hash:new ts,map:new(Ho||ui),string:new ts}}function WD(e){var a=typeof e;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?e!=="__proto__":e===null}function Pl(e,a){var c=e.__data__;return WD(a)?c[typeof a=="string"?"string":"hash"]:c.map}function zD(e){var a=Pl(this,e).delete(e);return this.size-=a?1:0,a}function GD(e){return Pl(this,e).get(e)}function VD(e){return Pl(this,e).has(e)}function KD(e,a){var c=Pl(this,e),b=c.size;return c.set(e,a),this.size+=c.size==b?0:1,this}function hi(e){var a=-1,c=e==null?0:e.length;for(this.clear();++a<c;){var b=e[a];this.set(b[0],b[1])}}hi.prototype.clear=UD;hi.prototype.delete=zD;hi.prototype.get=GD;hi.prototype.has=VD;hi.prototype.set=KD;var YD="Expected a function";function xh(e,a){if(typeof e!="function"||a!=null&&typeof a!="function")throw new TypeError(YD);var c=function(){var b=arguments,S=a?a.apply(this,b):b[0],x=c.cache;if(x.has(S))return x.get(S);var l=e.apply(this,b);return c.cache=x.set(S,l)||x,l};return c.cache=new(xh.Cache||hi),c}xh.Cache=hi;var XD=500;function JD(e){var a=xh(e,function(b){return c.size===XD&&c.clear(),b}),c=a.cache;return a}var QD=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qD=/\\(\\)?/g,ZD=JD(function(e){var a=[];return e.charCodeAt(0)===46&&a.push(""),e.replace(QD,function(c,b,S,x){a.push(S?x.replace(qD,"$1"):b||c)}),a});function eI(e){return e==null?"":wg(e)}function Ig(e,a){return yn(e)?e:wh(e,a)?[e]:ZD(eI(e))}var tI=1/0;function Bl(e){if(typeof e=="string"||gh(e))return e;var a=e+"";return a=="0"&&1/e==-tI?"-0":a}function Mg(e,a){a=Ig(a,e);for(var c=0,b=a.length;e!=null&&c<b;)e=e[Bl(a[c++])];return c&&c==b?e:void 0}function rI(e,a,c){var b=e==null?void 0:Mg(e,a);return b===void 0?c:b}function Pg(e,a){for(var c=-1,b=a.length,S=e.length;++c<b;)e[S+c]=a[c];return e}var nI=Dg(Object.getPrototypeOf,Object);const Bg=nI;function iI(){this.__data__=new ui,this.size=0}function sI(e){var a=this.__data__,c=a.delete(e);return this.size=a.size,c}function oI(e){return this.__data__.get(e)}function aI(e){return this.__data__.has(e)}var lI=200;function cI(e,a){var c=this.__data__;if(c instanceof ui){var b=c.__data__;if(!Ho||b.length<lI-1)return b.push([e,a]),this.size=++c.size,this;c=this.__data__=new hi(b)}return c.set(e,a),this.size=c.size,this}function Un(e){var a=this.__data__=new ui(e);this.size=a.size}Un.prototype.clear=iI;Un.prototype.delete=sI;Un.prototype.get=oI;Un.prototype.has=aI;Un.prototype.set=cI;function uI(e,a){return e&&Dl(a,Go(a),e)}function hI(e,a){return e&&Dl(a,Ch(a),e)}var $g=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Hp=$g&&typeof module=="object"&&module&&!module.nodeType&&module,fI=Hp&&Hp.exports===$g,Up=fI?Kn.Buffer:void 0,Wp=Up?Up.allocUnsafe:void 0;function dI(e,a){if(a)return e.slice();var c=e.length,b=Wp?Wp(c):new e.constructor(c);return e.copy(b),b}function pI(e,a){for(var c=-1,b=e==null?0:e.length,S=0,x=[];++c<b;){var l=e[c];a(l,c,e)&&(x[S++]=l)}return x}function Fg(){return[]}var vI=Object.prototype,gI=vI.propertyIsEnumerable,zp=Object.getOwnPropertySymbols,Eh=zp?function(e){return e==null?[]:(e=Object(e),pI(zp(e),function(a){return gI.call(e,a)}))}:Fg;function _I(e,a){return Dl(e,Eh(e),a)}var mI=Object.getOwnPropertySymbols,jg=mI?function(e){for(var a=[];e;)Pg(a,Eh(e)),e=Bg(e);return a}:Fg;function yI(e,a){return Dl(e,jg(e),a)}function Ng(e,a,c){var b=a(e);return yn(e)?b:Pg(b,c(e))}function zu(e){return Ng(e,Go,Eh)}function bI(e){return Ng(e,Ch,jg)}var Gu=ss(Kn,"DataView"),Vu=ss(Kn,"Promise"),Ku=ss(Kn,"Set"),Gp="[object Map]",SI="[object Object]",Vp="[object Promise]",Kp="[object Set]",Yp="[object WeakMap]",Xp="[object DataView]",CI=is(Gu),wI=is(Ho),xI=is(Vu),EI=is(Ku),AI=is(Wu),Yi=Ks;(Gu&&Yi(new Gu(new ArrayBuffer(1)))!=Xp||Ho&&Yi(new Ho)!=Gp||Vu&&Yi(Vu.resolve())!=Vp||Ku&&Yi(new Ku)!=Kp||Wu&&Yi(new Wu)!=Yp)&&(Yi=function(e){var a=Ks(e),c=a==SI?e.constructor:void 0,b=c?is(c):"";if(b)switch(b){case CI:return Xp;case wI:return Gp;case xI:return Vp;case EI:return Kp;case AI:return Yp}return a});const Uo=Yi;var TI=Object.prototype,LI=TI.hasOwnProperty;function OI(e){var a=e.length,c=new e.constructor(a);return a&&typeof e[0]=="string"&&LI.call(e,"index")&&(c.index=e.index,c.input=e.input),c}var pl=Kn.Uint8Array;function Ah(e){var a=new e.constructor(e.byteLength);return new pl(a).set(new pl(e)),a}function RI(e,a){var c=a?Ah(e.buffer):e.buffer;return new e.constructor(c,e.byteOffset,e.byteLength)}var kI=/\w*$/;function DI(e){var a=new e.constructor(e.source,kI.exec(e));return a.lastIndex=e.lastIndex,a}var Jp=Gn?Gn.prototype:void 0,Qp=Jp?Jp.valueOf:void 0;function II(e){return Qp?Object(Qp.call(e)):{}}function MI(e,a){var c=a?Ah(e.buffer):e.buffer;return new e.constructor(c,e.byteOffset,e.length)}var PI="[object Boolean]",BI="[object Date]",$I="[object Map]",FI="[object Number]",jI="[object RegExp]",NI="[object Set]",HI="[object String]",UI="[object Symbol]",WI="[object ArrayBuffer]",zI="[object DataView]",GI="[object Float32Array]",VI="[object Float64Array]",KI="[object Int8Array]",YI="[object Int16Array]",XI="[object Int32Array]",JI="[object Uint8Array]",QI="[object Uint8ClampedArray]",qI="[object Uint16Array]",ZI="[object Uint32Array]";function e3(e,a,c){var b=e.constructor;switch(a){case WI:return Ah(e);case PI:case BI:return new b(+e);case zI:return RI(e,c);case GI:case VI:case KI:case YI:case XI:case JI:case QI:case qI:case ZI:return MI(e,c);case $I:return new b;case FI:case HI:return new b(e);case jI:return DI(e);case NI:return new b;case UI:return II(e)}}function t3(e){return typeof e.constructor=="function"&&!bh(e)?wk(Bg(e)):{}}var r3="[object Map]";function n3(e){return ki(e)&&Uo(e)==r3}var qp=Gs&&Gs.isMap,i3=qp?Sh(qp):n3,s3="[object Set]";function o3(e){return ki(e)&&Uo(e)==s3}var Zp=Gs&&Gs.isSet,a3=Zp?Sh(Zp):o3,l3=1,c3=2,u3=4,Hg="[object Arguments]",h3="[object Array]",f3="[object Boolean]",d3="[object Date]",p3="[object Error]",Ug="[object Function]",v3="[object GeneratorFunction]",g3="[object Map]",_3="[object Number]",Wg="[object Object]",m3="[object RegExp]",y3="[object Set]",b3="[object String]",S3="[object Symbol]",C3="[object WeakMap]",w3="[object ArrayBuffer]",x3="[object DataView]",E3="[object Float32Array]",A3="[object Float64Array]",T3="[object Int8Array]",L3="[object Int16Array]",O3="[object Int32Array]",R3="[object Uint8Array]",k3="[object Uint8ClampedArray]",D3="[object Uint16Array]",I3="[object Uint32Array]",Wt={};Wt[Hg]=Wt[h3]=Wt[w3]=Wt[x3]=Wt[f3]=Wt[d3]=Wt[E3]=Wt[A3]=Wt[T3]=Wt[L3]=Wt[O3]=Wt[g3]=Wt[_3]=Wt[Wg]=Wt[m3]=Wt[y3]=Wt[b3]=Wt[S3]=Wt[R3]=Wt[k3]=Wt[D3]=Wt[I3]=!0;Wt[p3]=Wt[Ug]=Wt[C3]=!1;function nl(e,a,c,b,S,x){var l,t=a&l3,n=a&c3,i=a&u3;if(c&&(l=S?c(e,b,S,x):c(e)),l!==void 0)return l;if(!ns(e))return e;var h=yn(e);if(h){if(l=OI(e),!t)return xk(e,l)}else{var o=Uo(e),u=o==Ug||o==v3;if(dl(e))return dI(e,t);if(o==Wg||o==Hg||u&&!S){if(l=n||u?{}:t3(e),!t)return n?yI(e,hI(l,e)):_I(e,uI(l,e))}else{if(!Wt[o])return S?e:{};l=e3(e,o,t)}}x||(x=new Un);var g=x.get(e);if(g)return g;x.set(e,l),a3(e)?e.forEach(function(r){l.add(nl(r,a,c,r,e,x))}):i3(e)&&e.forEach(function(r,f){l.set(f,nl(r,a,c,f,e,x))});var _=i?n?bI:zu:n?Ch:Go,m=h?void 0:_(e);return Ek(m||e,function(r,f){m&&(f=r,r=e[f]),Eg(l,f,nl(r,a,c,f,e,x))}),l}var M3=1,P3=4;function B3(e){return nl(e,M3|P3)}var $3="__lodash_hash_undefined__";function F3(e){return this.__data__.set(e,$3),this}function j3(e){return this.__data__.has(e)}function vl(e){var a=-1,c=e==null?0:e.length;for(this.__data__=new hi;++a<c;)this.add(e[a])}vl.prototype.add=vl.prototype.push=F3;vl.prototype.has=j3;function zg(e,a){for(var c=-1,b=e==null?0:e.length;++c<b;)if(a(e[c],c,e))return!0;return!1}function N3(e,a){return e.has(a)}var H3=1,U3=2;function Gg(e,a,c,b,S,x){var l=c&H3,t=e.length,n=a.length;if(t!=n&&!(l&&n>t))return!1;var i=x.get(e),h=x.get(a);if(i&&h)return i==a&&h==e;var o=-1,u=!0,g=c&U3?new vl:void 0;for(x.set(e,a),x.set(a,e);++o<t;){var _=e[o],m=a[o];if(b)var r=l?b(m,_,o,a,e,x):b(_,m,o,e,a,x);if(r!==void 0){if(r)continue;u=!1;break}if(g){if(!zg(a,function(f,p){if(!N3(g,p)&&(_===f||S(_,f,c,b,x)))return g.push(p)})){u=!1;break}}else if(!(_===m||S(_,m,c,b,x))){u=!1;break}}return x.delete(e),x.delete(a),u}function W3(e){var a=-1,c=Array(e.size);return e.forEach(function(b,S){c[++a]=[S,b]}),c}function z3(e){var a=-1,c=Array(e.size);return e.forEach(function(b){c[++a]=b}),c}var G3=1,V3=2,K3="[object Boolean]",Y3="[object Date]",X3="[object Error]",J3="[object Map]",Q3="[object Number]",q3="[object RegExp]",Z3="[object Set]",eM="[object String]",tM="[object Symbol]",rM="[object ArrayBuffer]",nM="[object DataView]",ev=Gn?Gn.prototype:void 0,wu=ev?ev.valueOf:void 0;function iM(e,a,c,b,S,x,l){switch(c){case nM:if(e.byteLength!=a.byteLength||e.byteOffset!=a.byteOffset)return!1;e=e.buffer,a=a.buffer;case rM:return!(e.byteLength!=a.byteLength||!x(new pl(e),new pl(a)));case K3:case Y3:case Q3:return kl(+e,+a);case X3:return e.name==a.name&&e.message==a.message;case q3:case eM:return e==a+"";case J3:var t=W3;case Z3:var n=b&G3;if(t||(t=z3),e.size!=a.size&&!n)return!1;var i=l.get(e);if(i)return i==a;b|=V3,l.set(e,a);var h=Gg(t(e),t(a),b,S,x,l);return l.delete(e),h;case tM:if(wu)return wu.call(e)==wu.call(a)}return!1}var sM=1,oM=Object.prototype,aM=oM.hasOwnProperty;function lM(e,a,c,b,S,x){var l=c&sM,t=zu(e),n=t.length,i=zu(a),h=i.length;if(n!=h&&!l)return!1;for(var o=n;o--;){var u=t[o];if(!(l?u in a:aM.call(a,u)))return!1}var g=x.get(e),_=x.get(a);if(g&&_)return g==a&&_==e;var m=!0;x.set(e,a),x.set(a,e);for(var r=l;++o<n;){u=t[o];var f=e[u],p=a[u];if(b)var v=l?b(p,f,u,a,e,x):b(f,p,u,e,a,x);if(!(v===void 0?f===p||S(f,p,c,b,x):v)){m=!1;break}r||(r=u=="constructor")}if(m&&!r){var d=e.constructor,C=a.constructor;d!=C&&"constructor"in e&&"constructor"in a&&!(typeof d=="function"&&d instanceof d&&typeof C=="function"&&C instanceof C)&&(m=!1)}return x.delete(e),x.delete(a),m}var cM=1,tv="[object Arguments]",rv="[object Array]",Ka="[object Object]",uM=Object.prototype,nv=uM.hasOwnProperty;function hM(e,a,c,b,S,x){var l=yn(e),t=yn(a),n=l?rv:Uo(e),i=t?rv:Uo(a);n=n==tv?Ka:n,i=i==tv?Ka:i;var h=n==Ka,o=i==Ka,u=n==i;if(u&&dl(e)){if(!dl(a))return!1;l=!0,h=!1}if(u&&!h)return x||(x=new Un),l||Rg(e)?Gg(e,a,c,b,S,x):iM(e,a,n,c,b,S,x);if(!(c&cM)){var g=h&&nv.call(e,"__wrapped__"),_=o&&nv.call(a,"__wrapped__");if(g||_){var m=g?e.value():e,r=_?a.value():a;return x||(x=new Un),S(m,r,c,b,x)}}return u?(x||(x=new Un),lM(e,a,c,b,S,x)):!1}function Th(e,a,c,b,S){return e===a?!0:e==null||a==null||!ki(e)&&!ki(a)?e!==e&&a!==a:hM(e,a,c,b,Th,S)}var fM=1,dM=2;function pM(e,a,c,b){var S=c.length,x=S,l=!b;if(e==null)return!x;for(e=Object(e);S--;){var t=c[S];if(l&&t[2]?t[1]!==e[t[0]]:!(t[0]in e))return!1}for(;++S<x;){t=c[S];var n=t[0],i=e[n],h=t[1];if(l&&t[2]){if(i===void 0&&!(n in e))return!1}else{var o=new Un;if(b)var u=b(i,h,n,e,a,o);if(!(u===void 0?Th(h,i,fM|dM,b,o):u))return!1}}return!0}function Vg(e){return e===e&&!ns(e)}function vM(e){for(var a=Go(e),c=a.length;c--;){var b=a[c],S=e[b];a[c]=[b,S,Vg(S)]}return a}function Kg(e,a){return function(c){return c==null?!1:c[e]===a&&(a!==void 0||e in Object(c))}}function gM(e){var a=vM(e);return a.length==1&&a[0][2]?Kg(a[0][0],a[0][1]):function(c){return c===e||pM(c,e,a)}}function _M(e,a){return e!=null&&a in Object(e)}function mM(e,a,c){a=Ig(a,e);for(var b=-1,S=a.length,x=!1;++b<S;){var l=Bl(a[b]);if(!(x=e!=null&&c(e,l)))break;e=e[l]}return x||++b!=S?x:(S=e==null?0:e.length,!!S&&yh(S)&&_h(l,S)&&(yn(e)||Tg(e)))}function yM(e,a){return e!=null&&mM(e,a,_M)}var bM=1,SM=2;function CM(e,a){return wh(e)&&Vg(a)?Kg(Bl(e),a):function(c){var b=rI(c,e);return b===void 0&&b===a?yM(c,e):Th(a,b,bM|SM)}}function wM(e){return function(a){return a==null?void 0:a[e]}}function xM(e){return function(a){return Mg(a,e)}}function EM(e){return wh(e)?wM(Bl(e)):xM(e)}function Yg(e){return typeof e=="function"?e:e==null?ok:typeof e=="object"?yn(e)?CM(e[0],e[1]):gM(e):EM(e)}function AM(e,a,c,b){for(var S=-1,x=e==null?0:e.length;++S<x;){var l=e[S];a(b,l,c(l),e)}return b}function TM(e){return function(a,c,b){for(var S=-1,x=Object(a),l=b(a),t=l.length;t--;){var n=l[e?t:++S];if(c(x[n],n,x)===!1)break}return a}}var LM=TM();const OM=LM;function RM(e,a){return e&&OM(e,a,Go)}function kM(e,a){return function(c,b){if(c==null)return c;if(!Il(c))return e(c,b);for(var S=c.length,x=a?S:-1,l=Object(c);(a?x--:++x<S)&&b(l[x],x,l)!==!1;);return c}}var Xg=kM(RM);function DM(e,a,c,b){return Xg(e,function(S,x,l){a(b,S,c(S),l)}),b}function IM(e,a){return function(c,b){var S=yn(c)?AM:DM,x=a?a():{};return S(c,e,Yg(b),x)}}var MM=Object.prototype,PM=MM.hasOwnProperty,BM=IM(function(e,a,c){PM.call(e,c)?e[c].push(a):mh(e,c,[a])});function $M(e,a){var c;return Xg(e,function(b,S,x){return c=a(b,S,x),!c}),!!c}function FM(e,a,c){var b=yn(e)?zg:$M;return c&&kk(e,a,c)&&(a=void 0),b(e,Yg(a))}const jM={components:{Spinner:li},props:{value:{default:()=>[],type:Array},asyncValue:{default:null,type:Function},headers:{default:()=>[],type:Array},defaultSortProperty:{default:"",type:String},defaultSortDirection:{default:"asc",type:String},showGroups:{default:!1,type:Boolean},height:{default:"",type:String},filterValue:{default:"",type:String},filterSchema:{default:()=>({}),type:Object},center:{default:!1,type:Boolean},develop:{default:!1,type:Boolean},noHeader:{default:!1,type:Boolean},noHover:{default:!1,type:Boolean},maxPerPage:{default:0,type:Number},totalRows:{default:0,type:Number},noBorder:{default:!1,type:Boolean},customGroupByValue:{default:null,type:Function},customGroupByLabel:{default:null,type:String},lazy:{default:!1,type:Boolean}},setup(e,a){const c=Le(),b=Le(!1),S=Le(0),x=Le([]),l=Le(!!e.asyncValue),t=At(()=>l.value?x.value:e.value),n=400,i=Le(!1),h=fl(()=>{S.value++},100),o=A=>{i.value=A.target.scrollTop!==0;const E=A.target.offsetHeight+A.target.scrollTop>=A.target.scrollHeight-n;e.lazy&&E&&h()},u=Le(""),g=Le("asc"),_=A=>{u.value!==A.id?g.value="asc":g.value=g.value==="asc"?"desc":"asc",u.value=A.id},m=At(()=>{const A=L=>(L.sortByAsc=u.value===L.id&&g.value==="asc",L.sortByDesc=u.value===L.id&&g.value==="desc",L);if(e.headers&&e.headers.length)return e.headers.map(L=>A(typeof L=="string"?{label:L,id:L}:L));const E={};return t.value.map(L=>{L&&Object.keys(L).forEach(D=>E[D]={label:D,id:D})}),Object.values(E).map(A)});er(()=>{var A;u.value=e.defaultSortProperty||((A=m.value[0])==null?void 0:A.id),g.value=e.defaultSortDirection||"asc"});const r=At(()=>{const A=m.value.filter(k=>k.id===u.value).pop(),E=k=>A&&A.customSortValue?A.customSortValue(k[u.value]):k[u.value],L=m.value.reduce((k,H)=>(k[H.id]=H,k),{}),D=k=>{const H=B3(k);return m.value.forEach(({id:z})=>{const X=H[z];L[z]&&L[z].customValue?H[z]=L[z].customValue(X,H):H[z]=X}),H},R=k=>e.customGroupByValue?e.customGroupByValue(k[u.value]):L[u.value]&&L[u.value].customGroupByValue?L[u.value].customGroupByValue(k[u.value]):typeof k[u.value]=="string"?k[u.value].toString().toUpperCase().substr(0,1):k[u.value],I=k=>{const H=g.value==="asc"?bo(Object.keys(k)).asc():bo(Object.keys(k)).desc(),z=[];return H.forEach(X=>{const te=e.customGroupByLabel?k[X][0][e.customGroupByLabel]:X;z.push({tableLetter:!0,label:te},...k[X])}),{type:"groupBy",rows:z}},P=k=>Object.keys(k).map(H=>typeof k[H]=="string"?e.filterValue?k[H]:k[H].toUpperCase().includes(e.filterValue.toUpperCase()):typeof k[H]=="number"?e.filterValue?k[H].toString():k[H].toString().includes(e.filterValue):!1).some(H=>H),$=g.value==="asc"?bo(t.value).asc(E).map(D).filter(P):bo(t.value).desc(E).map(D).filter(P),F=S.value*e.maxPerPage+e.maxPerPage,U=e.lazy?0:S.value*e.maxPerPage,Y=e.maxPerPage&&!l.value?$.slice(U,F):$;return e.showGroups?I(BM(Y,R)):Y}),f=eh([]),p=At(()=>{var A;return((A=r.value)==null?void 0:A.type)==="groupBy"}),v=At(()=>{var D,R,I,P;if(l.value)return Math.ceil(e.totalRows/e.maxPerPage);const A=(D=t.value)==null?void 0:D.length,E=p.value?(I=(R=r.value)==null?void 0:R.rows)==null?void 0:I.length:(P=r.value)==null?void 0:P.length,L=Math.ceil(A/E);return Number.isNaN(L)?0:L}),d=A=>(/[0-9]{2}\/[0-9]{2}\/[0-9]{4}/.test(e.filterValue)?A=jn(e.filterValue,"DD/MM/YYYY").format("YYYY-MM-DD"):/[0-9]{2}\/[0-9]{4}/.test(e.filterValue)&&(A=jn(e.filterValue,"MM/YYYY").format("YYYY-MM")),A),C=async()=>{if(!e.asyncValue)return;b.value=!0;let A={};if(e.filterValue!=""&&e.filterSchema){const L=[".\\$L$",".\\$u$",".\\$d$",".\\$x$",".\\$y$",".\\$M$",".\\$D$",".\\$W$",".\\$H$",".\\$m$",".\\$s$",".\\$ms$"],D=new RegExp(L.join("|"));A.$or=Object.keys(KR.dot(e.filterSchema)).map(R=>R.replace(D,"")).filter((R,I,P)=>P.indexOf(R)==I).map(R=>{let I=e.filterValue;return I=d(I),{[R]:{$regex:I,$options:"i"}}})}const E=await e.asyncValue({offset:e.lazy?0:S.value*e.maxPerPage,maxPerPage:e.lazy?S.value*e.maxPerPage+e.maxPerPage:e.maxPerPage,sort:{[u.value]:g.value==="asc"?1:-1},sortProperty:u.value,filter:A}).finally(()=>b.value=!1);if(!Array.isArray(E))throw new Error("Async table return should be an array");x.value=E},w=At(()=>[e.asyncValue,e.filterValue,S.value,g.value,u.value]);return vn(()=>w.value,C),er(C),{tableWrapperRef:c,loading:b,offset:S,nbTotalPagination:v,computedHeaders:m,computedList:r,scroll:o,isScrolling:i,changeSort:_,openRows:f,isGroupByTable:p,noElements:At(()=>{var A,E,L;return p.value?!((E=(A=r.value)==null?void 0:A.rows)!=null&&E.length)&&!e.filterValue:!((L=r.value)!=null&&L.length)&&!e.filterValue}),noElementsFilter:At(()=>{var A,E,L;return p.value?!((E=(A=r.value)==null?void 0:A.rows)!=null&&E.length)&&e.filterValue:!((L=r.value)!=null&&L.length)&&e.filterValue}),previousPage(){S.value!==0&&(S.value--,c.value.scrollTop=0)},nextPage(){S.value++,c.value.scrollTop=0},click(A,E,L){e.develop?f.includes(A)?f.splice(f.indexOf(A),1):f.push(A):(a.emit("row-click",{row:A}),a.emit("td-click",{row:A,header:E,value:L}))}}}},Lh=e=>(Vt("data-v-0f2f6f88"),e=e(),Kt(),e),NM={class:"table-root"},HM=Lh(()=>W("caption",null,"Table",-1)),UM={key:0},WM=["id"],zM={class:"header"},GM=["onClick"],VM={key:1,class:"spinner"},KM={key:2},YM=["colspan"],XM={key:3},JM=["colspan"],QM={key:4},qM=["onClick"],ZM={key:0,class:"develop-row"},eP=["colspan"],tP={key:5},rP=["onClick"],nP={key:6},iP={key:0,class:"letter"},sP={key:1},oP=["onClick"],aP={key:0,class:"pagination"},lP=Lh(()=>W("i",{class:"fas fa-chevron-left"},null,-1)),cP=[lP],uP=Lh(()=>W("i",{class:"fas fa-chevron-right"},null,-1)),hP=[uP];function fP(e,a,c,b,S,x){var t,n,i;const l=br("spinner");return re(),oe("div",NM,[W("div",{class:St(["table-wrapper",{scroll:b.isScrolling,center:c.center,noBorder:c.noBorder,noHover:c.noHover}]),ref:"tableWrapperRef",onScroll:a[0]||(a[0]=(...h)=>b.scroll&&b.scroll(...h)),style:Br({maxHeight:c.height})},[W("table",{class:St({"table-group-by":!Array.isArray(b.computedList)&&b.computedList.type==="groupBy"})},[HM,c.noHeader?He("",!0):(re(),oe("thead",UM,[W("tr",null,[(re(!0),oe(it,null,pt(b.computedHeaders,h=>(re(),oe("th",{key:"th-"+h.id,id:h.id,style:Br({width:h.width?h.width:""})},[W("div",zM,[h.label&&!h.disableSort?(re(),oe("div",{key:0,class:"sort-container",onClick:o=>b.changeSort(h)},[W("i",{class:St(["fas fa-sort-up",{active:h.sortByAsc}]),"aria-hidden":"true"},null,2),W("i",{class:St(["fas fa-sort-down",{active:h.sortByDesc}]),"aria-hidden":"true"},null,2)],8,GM)):He("",!0),Ue(" "+De(h.label),1)]),Wr(e.$slots,"header-"+h.id,{},void 0,!0)],12,WM))),128))])])),b.loading?(re(),oe("div",VM,[at(l)])):b.noElements?(re(),oe("tbody",KM,[W("tr",null,[W("td",{colspan:b.computedHeaders.length},[Wr(e.$slots,"fallback",{},()=>[Ue("Aucun élément à afficher")],!0)],8,YM)])])):b.noElementsFilter?(re(),oe("tbody",XM,[W("tr",null,[W("td",{colspan:b.computedHeaders.length},[Wr(e.$slots,"fallbackFilter",{},()=>[Ue("Aucun élément à afficher pour ce filtre")],!0)],8,JM)])])):c.develop?(re(),oe("tbody",QM,[(re(!0),oe(it,null,pt(b.computedList,(h,o)=>(re(),oe(it,{key:"rows-"+o},[W("tr",null,[(re(!0),oe(it,null,pt(b.computedHeaders,(u,g)=>(re(),oe("td",{key:g+"-td-"+u.id,style:Br({width:u.width?u.width:""}),onClick:_=>b.click(h,u,h[u.id])},[Wr(e.$slots,u.id,{item:h[u.id],row:h},()=>[Ue(De(h[u.id]),1)],!0)],12,qM))),128))]),at(wl,{name:"develop-row"},{default:rt(()=>[b.openRows.includes(h)?(re(),oe("tr",ZM,[W("td",{colspan:b.computedHeaders.length},[Wr(e.$slots,"develop",{row:h},void 0,!0)],8,eP)])):He("",!0)]),_:2},1024)],64))),128))])):Array.isArray(b.computedList)?(re(),oe("tbody",tP,[(re(!0),oe(it,null,pt(b.computedList,h=>(re(),oe("tr",{key:h},[(re(!0),oe(it,null,pt(b.computedHeaders,(o,u)=>(re(),oe("td",{key:u+"-td-"+o.id,style:Br({width:o.width?o.width:""}),onClick:g=>b.click(h,o,h[o.id])},[Wr(e.$slots,o.id,{item:h[o.id],row:h},()=>[Ue(De(h[o.id]),1)],!0)],12,rP))),128))]))),128))])):(re(),oe("tbody",nP,[(re(!0),oe(it,null,pt(b.computedList.rows,(h,o)=>(re(),oe(it,{key:"rows-"+o},[h.tableLetter?(re(),oe("tr",iP,[W("td",null,[W("div",null,De(h.label),1)])])):(re(),oe("tr",sP,[(re(!0),oe(it,null,pt(b.computedHeaders,(u,g)=>(re(),oe("td",{key:g+"-td-"+u.id,style:Br({width:u.width?u.width:""}),onClick:_=>b.click(h,u,h[u.id])},[Wr(e.$slots,u.id,{item:h[u.id],row:h},()=>[Ue(De(h[u.id]),1)],!0)],12,oP))),128))]))],64))),128))]))],2)],38),((t=b.computedList)!=null&&t.length||(i=(n=b.computedList)==null?void 0:n.rows)!=null&&i.length)&&b.nbTotalPagination&&b.nbTotalPagination!==1&&!c.lazy?(re(),oe("div",aP,[b.offset?(re(),oe("button",{key:0,onClick:a[1]||(a[1]=(...h)=>b.previousPage&&b.previousPage(...h))},cP)):He("",!0),W("button",null,De(b.offset+1)+" sur "+De(b.nbTotalPagination),1),b.offset+1<b.nbTotalPagination?(re(),oe("button",{key:1,onClick:a[2]||(a[2]=(...h)=>b.nextPage&&b.nextPage(...h))},hP)):He("",!0)])):He("",!0)])}const dP=Pt(jM,[["render",fP],["__scopeId","data-v-0f2f6f88"]]),Ys=e=>(Vt("data-v-d6aa8569"),e=e(),Kt(),e),pP={class:"header"},vP=Ys(()=>W("h2",null,"Github",-1)),gP={class:"actions"},_P={key:0,class:"container"},mP={key:0,class:"chooser"},yP={class:"avatars"},bP=["src","alt","title"],SP={class:"avatars"},CP=["src","alt","title"],wP={key:1,class:"content"},xP=Ys(()=>W("i",{class:"fas fa-chevron-left"},null,-1)),EP={class:"section"},AP=Ys(()=>W("h3",null,[W("i",{class:"fas fa-globe"}),Ue("Urls")],-1)),TP=["href"],LP=["href"],OP=["href"],RP={class:"section"},kP=Ys(()=>W("h3",null,[W("i",{class:"fas fa-users"}),Ue("Assignees")],-1)),DP={class:"avatars"},IP=["href"],MP=["src"],PP={class:"section"},BP=Ys(()=>W("h3",null,[W("i",{class:"fas fa-users"}),Ue("Reviewers")],-1)),$P={class:"avatars"},FP=["href"],jP=["src"],NP={key:1,class:"container"},HP=Ys(()=>W("h3",null,"Not ready",-1)),UP={__name:"Index",props:{service:{default:null,required:!0,type:Rn}},setup(e){const a=e,c=Le(""),b=Le(!1),S=Le(!1),x=Le(!1),l=Le(""),t=Le([]),n=Le(null);er(async()=>{await u()});async function i(){const{data:m}=await We.get(`/github/service/${a.service.label}/ready`);return!!m}async function h(){const{data:m}=await We.get(`/github/service/${a.service.label}/whoami`);return m.loggedAs}async function o(){const{data:m}=await We.get(`/github/service/${a.service.label}/pull-requests`);return m}async function u(){try{if(x.value=await i(),!x.value)return;l.value=await h(),t.value=await o()}catch(m){Dt.next("error","Something not works"),console.error(m)}}const g=At(()=>{let m=t.value;return b.value&&(m=m.filter(r=>r.requested_reviewers.find(f=>f.login===l.value))),S.value&&(m=m.filter(r=>r.assignees.find(f=>f.login===l.value))),m});async function _(){await We.post(`/github/service/${a.service.label}/apikey`,{apikey:c.value}).catch(m=>{var r;Dt.next("error",((r=m==null?void 0:m.response)==null?void 0:r.data)||(m==null?void 0:m.message)||m)}),c.value="",await u()}return(m,r)=>e.service?(re(),jt(ar,{class:"configs-root",key:e.service.label},{default:rt(()=>[W("div",pP,[vP,W("div",gP,[W("div",null,[Rt(W("input",{type:"text","onUpdate:modelValue":r[0]||(r[0]=f=>c.value=f),onKeypress:gn(_,["enter"]),placeholder:"Change your github token here..."},null,544),[[or,c.value]]),W("button",{onClick:_},"Validate")])])]),x.value?(re(),oe("div",_P,[W("div",null," Logged as: "+De(l.value),1),n.value?He("",!0):(re(),oe("div",mP,[W("div",null,[Rt(W("input",{type:"checkbox","onUpdate:modelValue":r[1]||(r[1]=f=>b.value=f)},null,512),[[Nn,b.value]]),Ue(" Display only to review ")]),W("div",null,[Rt(W("input",{type:"checkbox","onUpdate:modelValue":r[2]||(r[2]=f=>S.value=f)},null,512),[[Nn,S.value]]),Ue(" Display only owned ")]),at(dP,{headers:[{id:"state",label:"State",width:"70px"},{id:"title",label:"Title"},{id:"assignees",label:"Owner",width:"100px"},{id:"requested_reviewers",label:"Reviewers",width:"100px"}],value:g.value,onRowClick:r[3]||(r[3]=f=>n.value=f.row)},{assignees:rt(({item:f})=>[W("div",yP,[(re(!0),oe(it,null,pt(f,p=>(re(),oe("img",{class:"avatar",src:p.avatar_url,alt:p.login,title:p.login},null,8,bP))),256))])]),requested_reviewers:rt(({item:f})=>[W("div",SP,[(re(!0),oe(it,null,pt(f,p=>(re(),oe("img",{class:"avatar",src:p.avatar_url,alt:p.login,title:p.login},null,8,CP))),256))])]),_:1},8,["value"])])),n.value?(re(),oe("div",wP,[W("div",{onClick:r[4]||(r[4]=f=>n.value=null)},[xP,Ue(" Return ")]),W("h2",null,De(n.value.title),1),W("div",EP,[AP,W("ul",null,[W("li",null,[W("a",{href:n.value.html_url},"Home url",8,TP)]),W("li",null,[W("a",{href:n.value.diff_url},"Diff url",8,LP)]),W("li",null,[W("a",{href:n.value.comments_url},"Comment url",8,OP)])])]),W("div",RP,[kP,W("ul",null,[(re(!0),oe(it,null,pt(n.value.assignees,f=>(re(),oe("li",DP,[W("a",{href:f.html_url},[W("img",{class:"avatar",src:f.avatar_url,alt:""},null,8,MP),Ue(De(f.login),1)],8,IP)]))),256))])]),W("div",PP,[BP,W("ul",null,[(re(!0),oe(it,null,pt(n.value.requested_reviewers,f=>(re(),oe("li",$P,[W("a",{href:f.html_url},[W("img",{class:"avatar",src:f.avatar_url,alt:""},null,8,jP),Ue(De(f.login),1)],8,FP)]))),256))])])])):He("",!0)])):(re(),oe("div",NP,[HP,W("div",null,[Rt(W("input",{type:"text","onUpdate:modelValue":r[5]||(r[5]=f=>c.value=f),onKeypress:gn(_,["enter"]),placeholder:"Type your github token here..."},null,544),[[or,c.value]]),W("button",{onClick:_},"Validate")])]))]),_:1})):He("",!0)}},WP=Pt(UP,[["__scopeId","data-v-d6aa8569"]]);var gl={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */gl.exports;(function(e,a){(function(){var c,b="4.17.21",S=200,x="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",t="Invalid `variable` option passed into `_.template`",n="__lodash_hash_undefined__",i=500,h="__lodash_placeholder__",o=1,u=2,g=4,_=1,m=2,r=1,f=2,p=4,v=8,d=16,C=32,w=64,A=128,E=256,L=512,D=30,R="...",I=800,P=16,$=1,F=2,U=3,Y=1/0,k=9007199254740991,H=17976931348623157e292,z=NaN,X=4294967295,te=X-1,J=X>>>1,V=[["ary",A],["bind",r],["bindKey",f],["curry",v],["curryRight",d],["flip",L],["partial",C],["partialRight",w],["rearg",E]],se="[object Arguments]",be="[object Array]",B="[object AsyncFunction]",j="[object Boolean]",N="[object Date]",Q="[object DOMException]",ce="[object Error]",ue="[object Function]",pe="[object GeneratorFunction]",Te="[object Map]",ve="[object Number]",Ce="[object Null]",xe="[object Object]",qe="[object Promise]",lt="[object Proxy]",Ve="[object RegExp]",tt="[object Set]",Be="[object String]",Qe="[object Symbol]",Fe="[object Undefined]",Ge="[object WeakMap]",ot="[object WeakSet]",Ye="[object ArrayBuffer]",Xe="[object DataView]",_e="[object Float32Array]",le="[object Float64Array]",me="[object Int8Array]",fe="[object Int16Array]",Re="[object Int32Array]",q="[object Uint8Array]",ne="[object Uint8ClampedArray]",de="[object Uint16Array]",we="[object Uint32Array]",Ee=/\b__p \+= '';/g,Ie=/\b(__p \+=) '' \+/g,je=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ne=/&(?:amp|lt|gt|quot|#39);/g,et=/[&<>"']/g,dt=RegExp(Ne.source),tr=RegExp(et.source),hr=/<%-([\s\S]+?)%>/g,mr=/<%([\s\S]+?)%>/g,Yn=/<%=([\s\S]+?)%>/g,di=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,pi=/^\w*$/,Fl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,os=/[\\^$.*+?()[\]{}|]/g,vi=RegExp(os.source),as=/^\s+/,jl=/\s/,Nl=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Vr=/\{\n\/\* \[wrapped with (.+)\] \*/,fr=/,? & /,Hl=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ls=/[()=,{}\[\]\/\s]/,Mn=/\\(\\)?/g,Ul=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,cs=/\w*$/,Wl=/^[-+]0x[0-9a-f]+$/i,zl=/^0b[01]+$/i,Gl=/^\[object .+?Constructor\]$/,Vl=/^0o[0-7]+$/i,Kl=/^(?:0|[1-9]\d*)$/,Yl=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,us=/($^)/,Xl=/['\n\r\u2028\u2029\\]/g,hs="\\ud800-\\udfff",Jl="\\u0300-\\u036f",Ql="\\ufe20-\\ufe2f",ql="\\u20d0-\\u20ff",Xo=Jl+Ql+ql,Jo="\\u2700-\\u27bf",Qo="a-z\\xdf-\\xf6\\xf8-\\xff",Zl="\\xac\\xb1\\xd7\\xf7",ec="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",tc="\\u2000-\\u206f",rc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Kr="A-Z\\xc0-\\xd6\\xd8-\\xde",fs="\\ufe0e\\ufe0f",Xs=Zl+ec+tc+rc,ds="['’]",nc="["+hs+"]",gi="["+Xs+"]",ps="["+Xo+"]",qo="\\d+",Zo="["+Jo+"]",ea="["+Qo+"]",ta="[^"+hs+Xs+qo+Jo+Qo+Kr+"]",O="\\ud83c[\\udffb-\\udfff]",G="(?:"+ps+"|"+O+")",ie="[^"+hs+"]",ge="(?:\\ud83c[\\udde6-\\uddff]){2}",ke="[\\ud800-\\udbff][\\udc00-\\udfff]",ze="["+Kr+"]",yt="\\u200d",It="(?:"+ea+"|"+ta+")",pr="(?:"+ze+"|"+ta+")",lr="(?:"+ds+"(?:d|ll|m|re|s|t|ve))?",Ph="(?:"+ds+"(?:D|LL|M|RE|S|T|VE))?",Bh=G+"?",$h="["+fs+"]?",c_="(?:"+yt+"(?:"+[ie,ge,ke].join("|")+")"+$h+Bh+")*",u_="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",h_="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Fh=$h+Bh+c_,f_="(?:"+[Zo,ge,ke].join("|")+")"+Fh,d_="(?:"+[ie+ps+"?",ps,ge,ke,nc].join("|")+")",p_=RegExp(ds,"g"),v_=RegExp(ps,"g"),ic=RegExp(O+"(?="+O+")|"+d_+Fh,"g"),g_=RegExp([ze+"?"+ea+"+"+lr+"(?="+[gi,ze,"$"].join("|")+")",pr+"+"+Ph+"(?="+[gi,ze+It,"$"].join("|")+")",ze+"?"+It+"+"+lr,ze+"+"+Ph,h_,u_,qo,f_].join("|"),"g"),__=RegExp("["+yt+hs+Xo+fs+"]"),m_=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,y_=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],b_=-1,zt={};zt[_e]=zt[le]=zt[me]=zt[fe]=zt[Re]=zt[q]=zt[ne]=zt[de]=zt[we]=!0,zt[se]=zt[be]=zt[Ye]=zt[j]=zt[Xe]=zt[N]=zt[ce]=zt[ue]=zt[Te]=zt[ve]=zt[xe]=zt[Ve]=zt[tt]=zt[Be]=zt[Ge]=!1;var Ht={};Ht[se]=Ht[be]=Ht[Ye]=Ht[Xe]=Ht[j]=Ht[N]=Ht[_e]=Ht[le]=Ht[me]=Ht[fe]=Ht[Re]=Ht[Te]=Ht[ve]=Ht[xe]=Ht[Ve]=Ht[tt]=Ht[Be]=Ht[Qe]=Ht[q]=Ht[ne]=Ht[de]=Ht[we]=!0,Ht[ce]=Ht[ue]=Ht[Ge]=!1;var S_={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},C_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},w_={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},x_={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},E_=parseFloat,A_=parseInt,jh=typeof Ar=="object"&&Ar&&Ar.Object===Object&&Ar,T_=typeof self=="object"&&self&&self.Object===Object&&self,Sr=jh||T_||Function("return this")(),sc=a&&!a.nodeType&&a,Bi=sc&&!0&&e&&!e.nodeType&&e,Nh=Bi&&Bi.exports===sc,oc=Nh&&jh.process,nn=function(){try{var ye=Bi&&Bi.require&&Bi.require("util").types;return ye||oc&&oc.binding&&oc.binding("util")}catch{}}(),Hh=nn&&nn.isArrayBuffer,Uh=nn&&nn.isDate,Wh=nn&&nn.isMap,zh=nn&&nn.isRegExp,Gh=nn&&nn.isSet,Vh=nn&&nn.isTypedArray;function Yr(ye,Oe,Ae){switch(Ae.length){case 0:return ye.call(Oe);case 1:return ye.call(Oe,Ae[0]);case 2:return ye.call(Oe,Ae[0],Ae[1]);case 3:return ye.call(Oe,Ae[0],Ae[1],Ae[2])}return ye.apply(Oe,Ae)}function L_(ye,Oe,Ae,Ze){for(var vt=-1,Mt=ye==null?0:ye.length;++vt<Mt;){var vr=ye[vt];Oe(Ze,vr,Ae(vr),ye)}return Ze}function sn(ye,Oe){for(var Ae=-1,Ze=ye==null?0:ye.length;++Ae<Ze&&Oe(ye[Ae],Ae,ye)!==!1;);return ye}function O_(ye,Oe){for(var Ae=ye==null?0:ye.length;Ae--&&Oe(ye[Ae],Ae,ye)!==!1;);return ye}function Kh(ye,Oe){for(var Ae=-1,Ze=ye==null?0:ye.length;++Ae<Ze;)if(!Oe(ye[Ae],Ae,ye))return!1;return!0}function _i(ye,Oe){for(var Ae=-1,Ze=ye==null?0:ye.length,vt=0,Mt=[];++Ae<Ze;){var vr=ye[Ae];Oe(vr,Ae,ye)&&(Mt[vt++]=vr)}return Mt}function ra(ye,Oe){var Ae=ye==null?0:ye.length;return!!Ae&&vs(ye,Oe,0)>-1}function ac(ye,Oe,Ae){for(var Ze=-1,vt=ye==null?0:ye.length;++Ze<vt;)if(Ae(Oe,ye[Ze]))return!0;return!1}function Xt(ye,Oe){for(var Ae=-1,Ze=ye==null?0:ye.length,vt=Array(Ze);++Ae<Ze;)vt[Ae]=Oe(ye[Ae],Ae,ye);return vt}function mi(ye,Oe){for(var Ae=-1,Ze=Oe.length,vt=ye.length;++Ae<Ze;)ye[vt+Ae]=Oe[Ae];return ye}function lc(ye,Oe,Ae,Ze){var vt=-1,Mt=ye==null?0:ye.length;for(Ze&&Mt&&(Ae=ye[++vt]);++vt<Mt;)Ae=Oe(Ae,ye[vt],vt,ye);return Ae}function R_(ye,Oe,Ae,Ze){var vt=ye==null?0:ye.length;for(Ze&&vt&&(Ae=ye[--vt]);vt--;)Ae=Oe(Ae,ye[vt],vt,ye);return Ae}function cc(ye,Oe){for(var Ae=-1,Ze=ye==null?0:ye.length;++Ae<Ze;)if(Oe(ye[Ae],Ae,ye))return!0;return!1}var k_=uc("length");function D_(ye){return ye.split("")}function I_(ye){return ye.match(Hl)||[]}function Yh(ye,Oe,Ae){var Ze;return Ae(ye,function(vt,Mt,vr){if(Oe(vt,Mt,vr))return Ze=Mt,!1}),Ze}function na(ye,Oe,Ae,Ze){for(var vt=ye.length,Mt=Ae+(Ze?1:-1);Ze?Mt--:++Mt<vt;)if(Oe(ye[Mt],Mt,ye))return Mt;return-1}function vs(ye,Oe,Ae){return Oe===Oe?G_(ye,Oe,Ae):na(ye,Xh,Ae)}function M_(ye,Oe,Ae,Ze){for(var vt=Ae-1,Mt=ye.length;++vt<Mt;)if(Ze(ye[vt],Oe))return vt;return-1}function Xh(ye){return ye!==ye}function Jh(ye,Oe){var Ae=ye==null?0:ye.length;return Ae?fc(ye,Oe)/Ae:z}function uc(ye){return function(Oe){return Oe==null?c:Oe[ye]}}function hc(ye){return function(Oe){return ye==null?c:ye[Oe]}}function Qh(ye,Oe,Ae,Ze,vt){return vt(ye,function(Mt,vr,Nt){Ae=Ze?(Ze=!1,Mt):Oe(Ae,Mt,vr,Nt)}),Ae}function P_(ye,Oe){var Ae=ye.length;for(ye.sort(Oe);Ae--;)ye[Ae]=ye[Ae].value;return ye}function fc(ye,Oe){for(var Ae,Ze=-1,vt=ye.length;++Ze<vt;){var Mt=Oe(ye[Ze]);Mt!==c&&(Ae=Ae===c?Mt:Ae+Mt)}return Ae}function dc(ye,Oe){for(var Ae=-1,Ze=Array(ye);++Ae<ye;)Ze[Ae]=Oe(Ae);return Ze}function B_(ye,Oe){return Xt(Oe,function(Ae){return[Ae,ye[Ae]]})}function qh(ye){return ye&&ye.slice(0,rf(ye)+1).replace(as,"")}function Xr(ye){return function(Oe){return ye(Oe)}}function pc(ye,Oe){return Xt(Oe,function(Ae){return ye[Ae]})}function Js(ye,Oe){return ye.has(Oe)}function Zh(ye,Oe){for(var Ae=-1,Ze=ye.length;++Ae<Ze&&vs(Oe,ye[Ae],0)>-1;);return Ae}function ef(ye,Oe){for(var Ae=ye.length;Ae--&&vs(Oe,ye[Ae],0)>-1;);return Ae}function $_(ye,Oe){for(var Ae=ye.length,Ze=0;Ae--;)ye[Ae]===Oe&&++Ze;return Ze}var F_=hc(S_),j_=hc(C_);function N_(ye){return"\\"+x_[ye]}function H_(ye,Oe){return ye==null?c:ye[Oe]}function gs(ye){return __.test(ye)}function U_(ye){return m_.test(ye)}function W_(ye){for(var Oe,Ae=[];!(Oe=ye.next()).done;)Ae.push(Oe.value);return Ae}function vc(ye){var Oe=-1,Ae=Array(ye.size);return ye.forEach(function(Ze,vt){Ae[++Oe]=[vt,Ze]}),Ae}function tf(ye,Oe){return function(Ae){return ye(Oe(Ae))}}function yi(ye,Oe){for(var Ae=-1,Ze=ye.length,vt=0,Mt=[];++Ae<Ze;){var vr=ye[Ae];(vr===Oe||vr===h)&&(ye[Ae]=h,Mt[vt++]=Ae)}return Mt}function ia(ye){var Oe=-1,Ae=Array(ye.size);return ye.forEach(function(Ze){Ae[++Oe]=Ze}),Ae}function z_(ye){var Oe=-1,Ae=Array(ye.size);return ye.forEach(function(Ze){Ae[++Oe]=[Ze,Ze]}),Ae}function G_(ye,Oe,Ae){for(var Ze=Ae-1,vt=ye.length;++Ze<vt;)if(ye[Ze]===Oe)return Ze;return-1}function V_(ye,Oe,Ae){for(var Ze=Ae+1;Ze--;)if(ye[Ze]===Oe)return Ze;return Ze}function _s(ye){return gs(ye)?Y_(ye):k_(ye)}function Cn(ye){return gs(ye)?X_(ye):D_(ye)}function rf(ye){for(var Oe=ye.length;Oe--&&jl.test(ye.charAt(Oe)););return Oe}var K_=hc(w_);function Y_(ye){for(var Oe=ic.lastIndex=0;ic.test(ye);)++Oe;return Oe}function X_(ye){return ye.match(ic)||[]}function J_(ye){return ye.match(g_)||[]}var Q_=function ye(Oe){Oe=Oe==null?Sr:ms.defaults(Sr.Object(),Oe,ms.pick(Sr,y_));var Ae=Oe.Array,Ze=Oe.Date,vt=Oe.Error,Mt=Oe.Function,vr=Oe.Math,Nt=Oe.Object,gc=Oe.RegExp,q_=Oe.String,on=Oe.TypeError,sa=Ae.prototype,Z_=Mt.prototype,ys=Nt.prototype,oa=Oe["__core-js_shared__"],aa=Z_.toString,$t=ys.hasOwnProperty,em=0,nf=function(){var s=/[^.]+$/.exec(oa&&oa.keys&&oa.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}(),la=ys.toString,tm=aa.call(Nt),rm=Sr._,nm=gc("^"+aa.call($t).replace(os,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ca=Nh?Oe.Buffer:c,bi=Oe.Symbol,ua=Oe.Uint8Array,sf=ca?ca.allocUnsafe:c,ha=tf(Nt.getPrototypeOf,Nt),of=Nt.create,af=ys.propertyIsEnumerable,fa=sa.splice,lf=bi?bi.isConcatSpreadable:c,Qs=bi?bi.iterator:c,$i=bi?bi.toStringTag:c,da=function(){try{var s=Ui(Nt,"defineProperty");return s({},"",{}),s}catch{}}(),im=Oe.clearTimeout!==Sr.clearTimeout&&Oe.clearTimeout,sm=Ze&&Ze.now!==Sr.Date.now&&Ze.now,om=Oe.setTimeout!==Sr.setTimeout&&Oe.setTimeout,pa=vr.ceil,va=vr.floor,_c=Nt.getOwnPropertySymbols,am=ca?ca.isBuffer:c,cf=Oe.isFinite,lm=sa.join,cm=tf(Nt.keys,Nt),gr=vr.max,Tr=vr.min,um=Ze.now,hm=Oe.parseInt,uf=vr.random,fm=sa.reverse,mc=Ui(Oe,"DataView"),qs=Ui(Oe,"Map"),yc=Ui(Oe,"Promise"),bs=Ui(Oe,"Set"),Zs=Ui(Oe,"WeakMap"),eo=Ui(Nt,"create"),ga=Zs&&new Zs,Ss={},dm=Wi(mc),pm=Wi(qs),vm=Wi(yc),gm=Wi(bs),_m=Wi(Zs),_a=bi?bi.prototype:c,to=_a?_a.valueOf:c,hf=_a?_a.toString:c;function Z(s){if(rr(s)&&!_t(s)&&!(s instanceof Tt)){if(s instanceof an)return s;if($t.call(s,"__wrapped__"))return fd(s)}return new an(s)}var Cs=function(){function s(){}return function(y){if(!qt(y))return{};if(of)return of(y);s.prototype=y;var T=new s;return s.prototype=c,T}}();function ma(){}function an(s,y){this.__wrapped__=s,this.__actions__=[],this.__chain__=!!y,this.__index__=0,this.__values__=c}Z.templateSettings={escape:hr,evaluate:mr,interpolate:Yn,variable:"",imports:{_:Z}},Z.prototype=ma.prototype,Z.prototype.constructor=Z,an.prototype=Cs(ma.prototype),an.prototype.constructor=an;function Tt(s){this.__wrapped__=s,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=X,this.__views__=[]}function mm(){var s=new Tt(this.__wrapped__);return s.__actions__=$r(this.__actions__),s.__dir__=this.__dir__,s.__filtered__=this.__filtered__,s.__iteratees__=$r(this.__iteratees__),s.__takeCount__=this.__takeCount__,s.__views__=$r(this.__views__),s}function ym(){if(this.__filtered__){var s=new Tt(this);s.__dir__=-1,s.__filtered__=!0}else s=this.clone(),s.__dir__*=-1;return s}function bm(){var s=this.__wrapped__.value(),y=this.__dir__,T=_t(s),M=y<0,K=T?s.length:0,ee=D0(0,K,this.__views__),ae=ee.start,he=ee.end,Se=he-ae,Me=M?he:ae-1,Pe=this.__iteratees__,$e=Pe.length,Je=0,st=Tr(Se,this.__takeCount__);if(!T||!M&&K==Se&&st==Se)return Pf(s,this.__actions__);var ut=[];e:for(;Se--&&Je<st;){Me+=y;for(var Ct=-1,ht=s[Me];++Ct<$e;){var Et=Pe[Ct],Ot=Et.iteratee,qr=Et.type,Mr=Ot(ht);if(qr==F)ht=Mr;else if(!Mr){if(qr==$)continue e;break e}}ut[Je++]=ht}return ut}Tt.prototype=Cs(ma.prototype),Tt.prototype.constructor=Tt;function Fi(s){var y=-1,T=s==null?0:s.length;for(this.clear();++y<T;){var M=s[y];this.set(M[0],M[1])}}function Sm(){this.__data__=eo?eo(null):{},this.size=0}function Cm(s){var y=this.has(s)&&delete this.__data__[s];return this.size-=y?1:0,y}function wm(s){var y=this.__data__;if(eo){var T=y[s];return T===n?c:T}return $t.call(y,s)?y[s]:c}function xm(s){var y=this.__data__;return eo?y[s]!==c:$t.call(y,s)}function Em(s,y){var T=this.__data__;return this.size+=this.has(s)?0:1,T[s]=eo&&y===c?n:y,this}Fi.prototype.clear=Sm,Fi.prototype.delete=Cm,Fi.prototype.get=wm,Fi.prototype.has=xm,Fi.prototype.set=Em;function Xn(s){var y=-1,T=s==null?0:s.length;for(this.clear();++y<T;){var M=s[y];this.set(M[0],M[1])}}function Am(){this.__data__=[],this.size=0}function Tm(s){var y=this.__data__,T=ya(y,s);if(T<0)return!1;var M=y.length-1;return T==M?y.pop():fa.call(y,T,1),--this.size,!0}function Lm(s){var y=this.__data__,T=ya(y,s);return T<0?c:y[T][1]}function Om(s){return ya(this.__data__,s)>-1}function Rm(s,y){var T=this.__data__,M=ya(T,s);return M<0?(++this.size,T.push([s,y])):T[M][1]=y,this}Xn.prototype.clear=Am,Xn.prototype.delete=Tm,Xn.prototype.get=Lm,Xn.prototype.has=Om,Xn.prototype.set=Rm;function Jn(s){var y=-1,T=s==null?0:s.length;for(this.clear();++y<T;){var M=s[y];this.set(M[0],M[1])}}function km(){this.size=0,this.__data__={hash:new Fi,map:new(qs||Xn),string:new Fi}}function Dm(s){var y=ka(this,s).delete(s);return this.size-=y?1:0,y}function Im(s){return ka(this,s).get(s)}function Mm(s){return ka(this,s).has(s)}function Pm(s,y){var T=ka(this,s),M=T.size;return T.set(s,y),this.size+=T.size==M?0:1,this}Jn.prototype.clear=km,Jn.prototype.delete=Dm,Jn.prototype.get=Im,Jn.prototype.has=Mm,Jn.prototype.set=Pm;function ji(s){var y=-1,T=s==null?0:s.length;for(this.__data__=new Jn;++y<T;)this.add(s[y])}function Bm(s){return this.__data__.set(s,n),this}function $m(s){return this.__data__.has(s)}ji.prototype.add=ji.prototype.push=Bm,ji.prototype.has=$m;function wn(s){var y=this.__data__=new Xn(s);this.size=y.size}function Fm(){this.__data__=new Xn,this.size=0}function jm(s){var y=this.__data__,T=y.delete(s);return this.size=y.size,T}function Nm(s){return this.__data__.get(s)}function Hm(s){return this.__data__.has(s)}function Um(s,y){var T=this.__data__;if(T instanceof Xn){var M=T.__data__;if(!qs||M.length<S-1)return M.push([s,y]),this.size=++T.size,this;T=this.__data__=new Jn(M)}return T.set(s,y),this.size=T.size,this}wn.prototype.clear=Fm,wn.prototype.delete=jm,wn.prototype.get=Nm,wn.prototype.has=Hm,wn.prototype.set=Um;function ff(s,y){var T=_t(s),M=!T&&zi(s),K=!T&&!M&&Ei(s),ee=!T&&!M&&!K&&As(s),ae=T||M||K||ee,he=ae?dc(s.length,q_):[],Se=he.length;for(var Me in s)(y||$t.call(s,Me))&&!(ae&&(Me=="length"||K&&(Me=="offset"||Me=="parent")||ee&&(Me=="buffer"||Me=="byteLength"||Me=="byteOffset")||ei(Me,Se)))&&he.push(Me);return he}function df(s){var y=s.length;return y?s[Rc(0,y-1)]:c}function Wm(s,y){return Da($r(s),Ni(y,0,s.length))}function zm(s){return Da($r(s))}function bc(s,y,T){(T!==c&&!xn(s[y],T)||T===c&&!(y in s))&&Qn(s,y,T)}function ro(s,y,T){var M=s[y];(!($t.call(s,y)&&xn(M,T))||T===c&&!(y in s))&&Qn(s,y,T)}function ya(s,y){for(var T=s.length;T--;)if(xn(s[T][0],y))return T;return-1}function Gm(s,y,T,M){return Si(s,function(K,ee,ae){y(M,K,T(K),ae)}),M}function pf(s,y){return s&&Bn(y,yr(y),s)}function Vm(s,y){return s&&Bn(y,jr(y),s)}function Qn(s,y,T){y=="__proto__"&&da?da(s,y,{configurable:!0,enumerable:!0,value:T,writable:!0}):s[y]=T}function Sc(s,y){for(var T=-1,M=y.length,K=Ae(M),ee=s==null;++T<M;)K[T]=ee?c:tu(s,y[T]);return K}function Ni(s,y,T){return s===s&&(T!==c&&(s=s<=T?s:T),y!==c&&(s=s>=y?s:y)),s}function ln(s,y,T,M,K,ee){var ae,he=y&o,Se=y&u,Me=y&g;if(T&&(ae=K?T(s,M,K,ee):T(s)),ae!==c)return ae;if(!qt(s))return s;var Pe=_t(s);if(Pe){if(ae=M0(s),!he)return $r(s,ae)}else{var $e=Lr(s),Je=$e==ue||$e==pe;if(Ei(s))return Ff(s,he);if($e==xe||$e==se||Je&&!K){if(ae=Se||Je?{}:nd(s),!he)return Se?w0(s,Vm(ae,s)):C0(s,pf(ae,s))}else{if(!Ht[$e])return K?s:{};ae=P0(s,$e,he)}}ee||(ee=new wn);var st=ee.get(s);if(st)return st;ee.set(s,ae),Dd(s)?s.forEach(function(ht){ae.add(ln(ht,y,T,ht,s,ee))}):Rd(s)&&s.forEach(function(ht,Et){ae.set(Et,ln(ht,y,T,Et,s,ee))});var ut=Me?Se?Hc:Nc:Se?jr:yr,Ct=Pe?c:ut(s);return sn(Ct||s,function(ht,Et){Ct&&(Et=ht,ht=s[Et]),ro(ae,Et,ln(ht,y,T,Et,s,ee))}),ae}function Km(s){var y=yr(s);return function(T){return vf(T,s,y)}}function vf(s,y,T){var M=T.length;if(s==null)return!M;for(s=Nt(s);M--;){var K=T[M],ee=y[K],ae=s[K];if(ae===c&&!(K in s)||!ee(ae))return!1}return!0}function gf(s,y,T){if(typeof s!="function")throw new on(l);return co(function(){s.apply(c,T)},y)}function no(s,y,T,M){var K=-1,ee=ra,ae=!0,he=s.length,Se=[],Me=y.length;if(!he)return Se;T&&(y=Xt(y,Xr(T))),M?(ee=ac,ae=!1):y.length>=S&&(ee=Js,ae=!1,y=new ji(y));e:for(;++K<he;){var Pe=s[K],$e=T==null?Pe:T(Pe);if(Pe=M||Pe!==0?Pe:0,ae&&$e===$e){for(var Je=Me;Je--;)if(y[Je]===$e)continue e;Se.push(Pe)}else ee(y,$e,M)||Se.push(Pe)}return Se}var Si=Wf(Pn),_f=Wf(wc,!0);function Ym(s,y){var T=!0;return Si(s,function(M,K,ee){return T=!!y(M,K,ee),T}),T}function ba(s,y,T){for(var M=-1,K=s.length;++M<K;){var ee=s[M],ae=y(ee);if(ae!=null&&(he===c?ae===ae&&!Qr(ae):T(ae,he)))var he=ae,Se=ee}return Se}function Xm(s,y,T,M){var K=s.length;for(T=bt(T),T<0&&(T=-T>K?0:K+T),M=M===c||M>K?K:bt(M),M<0&&(M+=K),M=T>M?0:Md(M);T<M;)s[T++]=y;return s}function mf(s,y){var T=[];return Si(s,function(M,K,ee){y(M,K,ee)&&T.push(M)}),T}function Cr(s,y,T,M,K){var ee=-1,ae=s.length;for(T||(T=$0),K||(K=[]);++ee<ae;){var he=s[ee];y>0&&T(he)?y>1?Cr(he,y-1,T,M,K):mi(K,he):M||(K[K.length]=he)}return K}var Cc=zf(),yf=zf(!0);function Pn(s,y){return s&&Cc(s,y,yr)}function wc(s,y){return s&&yf(s,y,yr)}function Sa(s,y){return _i(y,function(T){return ti(s[T])})}function Hi(s,y){y=wi(y,s);for(var T=0,M=y.length;s!=null&&T<M;)s=s[$n(y[T++])];return T&&T==M?s:c}function bf(s,y,T){var M=y(s);return _t(s)?M:mi(M,T(s))}function Dr(s){return s==null?s===c?Fe:Ce:$i&&$i in Nt(s)?k0(s):z0(s)}function xc(s,y){return s>y}function Jm(s,y){return s!=null&&$t.call(s,y)}function Qm(s,y){return s!=null&&y in Nt(s)}function qm(s,y,T){return s>=Tr(y,T)&&s<gr(y,T)}function Ec(s,y,T){for(var M=T?ac:ra,K=s[0].length,ee=s.length,ae=ee,he=Ae(ee),Se=1/0,Me=[];ae--;){var Pe=s[ae];ae&&y&&(Pe=Xt(Pe,Xr(y))),Se=Tr(Pe.length,Se),he[ae]=!T&&(y||K>=120&&Pe.length>=120)?new ji(ae&&Pe):c}Pe=s[0];var $e=-1,Je=he[0];e:for(;++$e<K&&Me.length<Se;){var st=Pe[$e],ut=y?y(st):st;if(st=T||st!==0?st:0,!(Je?Js(Je,ut):M(Me,ut,T))){for(ae=ee;--ae;){var Ct=he[ae];if(!(Ct?Js(Ct,ut):M(s[ae],ut,T)))continue e}Je&&Je.push(ut),Me.push(st)}}return Me}function Zm(s,y,T,M){return Pn(s,function(K,ee,ae){y(M,T(K),ee,ae)}),M}function io(s,y,T){y=wi(y,s),s=ad(s,y);var M=s==null?s:s[$n(un(y))];return M==null?c:Yr(M,s,T)}function Sf(s){return rr(s)&&Dr(s)==se}function e0(s){return rr(s)&&Dr(s)==Ye}function t0(s){return rr(s)&&Dr(s)==N}function so(s,y,T,M,K){return s===y?!0:s==null||y==null||!rr(s)&&!rr(y)?s!==s&&y!==y:r0(s,y,T,M,so,K)}function r0(s,y,T,M,K,ee){var ae=_t(s),he=_t(y),Se=ae?be:Lr(s),Me=he?be:Lr(y);Se=Se==se?xe:Se,Me=Me==se?xe:Me;var Pe=Se==xe,$e=Me==xe,Je=Se==Me;if(Je&&Ei(s)){if(!Ei(y))return!1;ae=!0,Pe=!1}if(Je&&!Pe)return ee||(ee=new wn),ae||As(s)?ed(s,y,T,M,K,ee):O0(s,y,Se,T,M,K,ee);if(!(T&_)){var st=Pe&&$t.call(s,"__wrapped__"),ut=$e&&$t.call(y,"__wrapped__");if(st||ut){var Ct=st?s.value():s,ht=ut?y.value():y;return ee||(ee=new wn),K(Ct,ht,T,M,ee)}}return Je?(ee||(ee=new wn),R0(s,y,T,M,K,ee)):!1}function n0(s){return rr(s)&&Lr(s)==Te}function Ac(s,y,T,M){var K=T.length,ee=K,ae=!M;if(s==null)return!ee;for(s=Nt(s);K--;){var he=T[K];if(ae&&he[2]?he[1]!==s[he[0]]:!(he[0]in s))return!1}for(;++K<ee;){he=T[K];var Se=he[0],Me=s[Se],Pe=he[1];if(ae&&he[2]){if(Me===c&&!(Se in s))return!1}else{var $e=new wn;if(M)var Je=M(Me,Pe,Se,s,y,$e);if(!(Je===c?so(Pe,Me,_|m,M,$e):Je))return!1}}return!0}function Cf(s){if(!qt(s)||j0(s))return!1;var y=ti(s)?nm:Gl;return y.test(Wi(s))}function i0(s){return rr(s)&&Dr(s)==Ve}function s0(s){return rr(s)&&Lr(s)==tt}function o0(s){return rr(s)&&Fa(s.length)&&!!zt[Dr(s)]}function wf(s){return typeof s=="function"?s:s==null?Nr:typeof s=="object"?_t(s)?Af(s[0],s[1]):Ef(s):Gd(s)}function Tc(s){if(!lo(s))return cm(s);var y=[];for(var T in Nt(s))$t.call(s,T)&&T!="constructor"&&y.push(T);return y}function a0(s){if(!qt(s))return W0(s);var y=lo(s),T=[];for(var M in s)M=="constructor"&&(y||!$t.call(s,M))||T.push(M);return T}function Lc(s,y){return s<y}function xf(s,y){var T=-1,M=Fr(s)?Ae(s.length):[];return Si(s,function(K,ee,ae){M[++T]=y(K,ee,ae)}),M}function Ef(s){var y=Wc(s);return y.length==1&&y[0][2]?sd(y[0][0],y[0][1]):function(T){return T===s||Ac(T,s,y)}}function Af(s,y){return Gc(s)&&id(y)?sd($n(s),y):function(T){var M=tu(T,s);return M===c&&M===y?ru(T,s):so(y,M,_|m)}}function Ca(s,y,T,M,K){s!==y&&Cc(y,function(ee,ae){if(K||(K=new wn),qt(ee))l0(s,y,ae,T,Ca,M,K);else{var he=M?M(Kc(s,ae),ee,ae+"",s,y,K):c;he===c&&(he=ee),bc(s,ae,he)}},jr)}function l0(s,y,T,M,K,ee,ae){var he=Kc(s,T),Se=Kc(y,T),Me=ae.get(Se);if(Me){bc(s,T,Me);return}var Pe=ee?ee(he,Se,T+"",s,y,ae):c,$e=Pe===c;if($e){var Je=_t(Se),st=!Je&&Ei(Se),ut=!Je&&!st&&As(Se);Pe=Se,Je||st||ut?_t(he)?Pe=he:cr(he)?Pe=$r(he):st?($e=!1,Pe=Ff(Se,!0)):ut?($e=!1,Pe=jf(Se,!0)):Pe=[]:uo(Se)||zi(Se)?(Pe=he,zi(he)?Pe=Pd(he):(!qt(he)||ti(he))&&(Pe=nd(Se))):$e=!1}$e&&(ae.set(Se,Pe),K(Pe,Se,M,ee,ae),ae.delete(Se)),bc(s,T,Pe)}function Tf(s,y){var T=s.length;if(T)return y+=y<0?T:0,ei(y,T)?s[y]:c}function Lf(s,y,T){y.length?y=Xt(y,function(ee){return _t(ee)?function(ae){return Hi(ae,ee.length===1?ee[0]:ee)}:ee}):y=[Nr];var M=-1;y=Xt(y,Xr(ct()));var K=xf(s,function(ee,ae,he){var Se=Xt(y,function(Me){return Me(ee)});return{criteria:Se,index:++M,value:ee}});return P_(K,function(ee,ae){return S0(ee,ae,T)})}function c0(s,y){return Of(s,y,function(T,M){return ru(s,M)})}function Of(s,y,T){for(var M=-1,K=y.length,ee={};++M<K;){var ae=y[M],he=Hi(s,ae);T(he,ae)&&oo(ee,wi(ae,s),he)}return ee}function u0(s){return function(y){return Hi(y,s)}}function Oc(s,y,T,M){var K=M?M_:vs,ee=-1,ae=y.length,he=s;for(s===y&&(y=$r(y)),T&&(he=Xt(s,Xr(T)));++ee<ae;)for(var Se=0,Me=y[ee],Pe=T?T(Me):Me;(Se=K(he,Pe,Se,M))>-1;)he!==s&&fa.call(he,Se,1),fa.call(s,Se,1);return s}function Rf(s,y){for(var T=s?y.length:0,M=T-1;T--;){var K=y[T];if(T==M||K!==ee){var ee=K;ei(K)?fa.call(s,K,1):Ic(s,K)}}return s}function Rc(s,y){return s+va(uf()*(y-s+1))}function h0(s,y,T,M){for(var K=-1,ee=gr(pa((y-s)/(T||1)),0),ae=Ae(ee);ee--;)ae[M?ee:++K]=s,s+=T;return ae}function kc(s,y){var T="";if(!s||y<1||y>k)return T;do y%2&&(T+=s),y=va(y/2),y&&(s+=s);while(y);return T}function wt(s,y){return Yc(od(s,y,Nr),s+"")}function f0(s){return df(Ts(s))}function d0(s,y){var T=Ts(s);return Da(T,Ni(y,0,T.length))}function oo(s,y,T,M){if(!qt(s))return s;y=wi(y,s);for(var K=-1,ee=y.length,ae=ee-1,he=s;he!=null&&++K<ee;){var Se=$n(y[K]),Me=T;if(Se==="__proto__"||Se==="constructor"||Se==="prototype")return s;if(K!=ae){var Pe=he[Se];Me=M?M(Pe,Se,he):c,Me===c&&(Me=qt(Pe)?Pe:ei(y[K+1])?[]:{})}ro(he,Se,Me),he=he[Se]}return s}var kf=ga?function(s,y){return ga.set(s,y),s}:Nr,p0=da?function(s,y){return da(s,"toString",{configurable:!0,enumerable:!1,value:iu(y),writable:!0})}:Nr;function v0(s){return Da(Ts(s))}function cn(s,y,T){var M=-1,K=s.length;y<0&&(y=-y>K?0:K+y),T=T>K?K:T,T<0&&(T+=K),K=y>T?0:T-y>>>0,y>>>=0;for(var ee=Ae(K);++M<K;)ee[M]=s[M+y];return ee}function g0(s,y){var T;return Si(s,function(M,K,ee){return T=y(M,K,ee),!T}),!!T}function wa(s,y,T){var M=0,K=s==null?M:s.length;if(typeof y=="number"&&y===y&&K<=J){for(;M<K;){var ee=M+K>>>1,ae=s[ee];ae!==null&&!Qr(ae)&&(T?ae<=y:ae<y)?M=ee+1:K=ee}return K}return Dc(s,y,Nr,T)}function Dc(s,y,T,M){var K=0,ee=s==null?0:s.length;if(ee===0)return 0;y=T(y);for(var ae=y!==y,he=y===null,Se=Qr(y),Me=y===c;K<ee;){var Pe=va((K+ee)/2),$e=T(s[Pe]),Je=$e!==c,st=$e===null,ut=$e===$e,Ct=Qr($e);if(ae)var ht=M||ut;else Me?ht=ut&&(M||Je):he?ht=ut&&Je&&(M||!st):Se?ht=ut&&Je&&!st&&(M||!Ct):st||Ct?ht=!1:ht=M?$e<=y:$e<y;ht?K=Pe+1:ee=Pe}return Tr(ee,te)}function Df(s,y){for(var T=-1,M=s.length,K=0,ee=[];++T<M;){var ae=s[T],he=y?y(ae):ae;if(!T||!xn(he,Se)){var Se=he;ee[K++]=ae===0?0:ae}}return ee}function If(s){return typeof s=="number"?s:Qr(s)?z:+s}function Jr(s){if(typeof s=="string")return s;if(_t(s))return Xt(s,Jr)+"";if(Qr(s))return hf?hf.call(s):"";var y=s+"";return y=="0"&&1/s==-Y?"-0":y}function Ci(s,y,T){var M=-1,K=ra,ee=s.length,ae=!0,he=[],Se=he;if(T)ae=!1,K=ac;else if(ee>=S){var Me=y?null:T0(s);if(Me)return ia(Me);ae=!1,K=Js,Se=new ji}else Se=y?[]:he;e:for(;++M<ee;){var Pe=s[M],$e=y?y(Pe):Pe;if(Pe=T||Pe!==0?Pe:0,ae&&$e===$e){for(var Je=Se.length;Je--;)if(Se[Je]===$e)continue e;y&&Se.push($e),he.push(Pe)}else K(Se,$e,T)||(Se!==he&&Se.push($e),he.push(Pe))}return he}function Ic(s,y){return y=wi(y,s),s=ad(s,y),s==null||delete s[$n(un(y))]}function Mf(s,y,T,M){return oo(s,y,T(Hi(s,y)),M)}function xa(s,y,T,M){for(var K=s.length,ee=M?K:-1;(M?ee--:++ee<K)&&y(s[ee],ee,s););return T?cn(s,M?0:ee,M?ee+1:K):cn(s,M?ee+1:0,M?K:ee)}function Pf(s,y){var T=s;return T instanceof Tt&&(T=T.value()),lc(y,function(M,K){return K.func.apply(K.thisArg,mi([M],K.args))},T)}function Mc(s,y,T){var M=s.length;if(M<2)return M?Ci(s[0]):[];for(var K=-1,ee=Ae(M);++K<M;)for(var ae=s[K],he=-1;++he<M;)he!=K&&(ee[K]=no(ee[K]||ae,s[he],y,T));return Ci(Cr(ee,1),y,T)}function Bf(s,y,T){for(var M=-1,K=s.length,ee=y.length,ae={};++M<K;){var he=M<ee?y[M]:c;T(ae,s[M],he)}return ae}function Pc(s){return cr(s)?s:[]}function Bc(s){return typeof s=="function"?s:Nr}function wi(s,y){return _t(s)?s:Gc(s,y)?[s]:hd(Bt(s))}var _0=wt;function xi(s,y,T){var M=s.length;return T=T===c?M:T,!y&&T>=M?s:cn(s,y,T)}var $f=im||function(s){return Sr.clearTimeout(s)};function Ff(s,y){if(y)return s.slice();var T=s.length,M=sf?sf(T):new s.constructor(T);return s.copy(M),M}function $c(s){var y=new s.constructor(s.byteLength);return new ua(y).set(new ua(s)),y}function m0(s,y){var T=y?$c(s.buffer):s.buffer;return new s.constructor(T,s.byteOffset,s.byteLength)}function y0(s){var y=new s.constructor(s.source,cs.exec(s));return y.lastIndex=s.lastIndex,y}function b0(s){return to?Nt(to.call(s)):{}}function jf(s,y){var T=y?$c(s.buffer):s.buffer;return new s.constructor(T,s.byteOffset,s.length)}function Nf(s,y){if(s!==y){var T=s!==c,M=s===null,K=s===s,ee=Qr(s),ae=y!==c,he=y===null,Se=y===y,Me=Qr(y);if(!he&&!Me&&!ee&&s>y||ee&&ae&&Se&&!he&&!Me||M&&ae&&Se||!T&&Se||!K)return 1;if(!M&&!ee&&!Me&&s<y||Me&&T&&K&&!M&&!ee||he&&T&&K||!ae&&K||!Se)return-1}return 0}function S0(s,y,T){for(var M=-1,K=s.criteria,ee=y.criteria,ae=K.length,he=T.length;++M<ae;){var Se=Nf(K[M],ee[M]);if(Se){if(M>=he)return Se;var Me=T[M];return Se*(Me=="desc"?-1:1)}}return s.index-y.index}function Hf(s,y,T,M){for(var K=-1,ee=s.length,ae=T.length,he=-1,Se=y.length,Me=gr(ee-ae,0),Pe=Ae(Se+Me),$e=!M;++he<Se;)Pe[he]=y[he];for(;++K<ae;)($e||K<ee)&&(Pe[T[K]]=s[K]);for(;Me--;)Pe[he++]=s[K++];return Pe}function Uf(s,y,T,M){for(var K=-1,ee=s.length,ae=-1,he=T.length,Se=-1,Me=y.length,Pe=gr(ee-he,0),$e=Ae(Pe+Me),Je=!M;++K<Pe;)$e[K]=s[K];for(var st=K;++Se<Me;)$e[st+Se]=y[Se];for(;++ae<he;)(Je||K<ee)&&($e[st+T[ae]]=s[K++]);return $e}function $r(s,y){var T=-1,M=s.length;for(y||(y=Ae(M));++T<M;)y[T]=s[T];return y}function Bn(s,y,T,M){var K=!T;T||(T={});for(var ee=-1,ae=y.length;++ee<ae;){var he=y[ee],Se=M?M(T[he],s[he],he,T,s):c;Se===c&&(Se=s[he]),K?Qn(T,he,Se):ro(T,he,Se)}return T}function C0(s,y){return Bn(s,zc(s),y)}function w0(s,y){return Bn(s,td(s),y)}function Ea(s,y){return function(T,M){var K=_t(T)?L_:Gm,ee=y?y():{};return K(T,s,ct(M,2),ee)}}function ws(s){return wt(function(y,T){var M=-1,K=T.length,ee=K>1?T[K-1]:c,ae=K>2?T[2]:c;for(ee=s.length>3&&typeof ee=="function"?(K--,ee):c,ae&&Ir(T[0],T[1],ae)&&(ee=K<3?c:ee,K=1),y=Nt(y);++M<K;){var he=T[M];he&&s(y,he,M,ee)}return y})}function Wf(s,y){return function(T,M){if(T==null)return T;if(!Fr(T))return s(T,M);for(var K=T.length,ee=y?K:-1,ae=Nt(T);(y?ee--:++ee<K)&&M(ae[ee],ee,ae)!==!1;);return T}}function zf(s){return function(y,T,M){for(var K=-1,ee=Nt(y),ae=M(y),he=ae.length;he--;){var Se=ae[s?he:++K];if(T(ee[Se],Se,ee)===!1)break}return y}}function x0(s,y,T){var M=y&r,K=ao(s);function ee(){var ae=this&&this!==Sr&&this instanceof ee?K:s;return ae.apply(M?T:this,arguments)}return ee}function Gf(s){return function(y){y=Bt(y);var T=gs(y)?Cn(y):c,M=T?T[0]:y.charAt(0),K=T?xi(T,1).join(""):y.slice(1);return M[s]()+K}}function xs(s){return function(y){return lc(Wd(Ud(y).replace(p_,"")),s,"")}}function ao(s){return function(){var y=arguments;switch(y.length){case 0:return new s;case 1:return new s(y[0]);case 2:return new s(y[0],y[1]);case 3:return new s(y[0],y[1],y[2]);case 4:return new s(y[0],y[1],y[2],y[3]);case 5:return new s(y[0],y[1],y[2],y[3],y[4]);case 6:return new s(y[0],y[1],y[2],y[3],y[4],y[5]);case 7:return new s(y[0],y[1],y[2],y[3],y[4],y[5],y[6])}var T=Cs(s.prototype),M=s.apply(T,y);return qt(M)?M:T}}function E0(s,y,T){var M=ao(s);function K(){for(var ee=arguments.length,ae=Ae(ee),he=ee,Se=Es(K);he--;)ae[he]=arguments[he];var Me=ee<3&&ae[0]!==Se&&ae[ee-1]!==Se?[]:yi(ae,Se);if(ee-=Me.length,ee<T)return Jf(s,y,Aa,K.placeholder,c,ae,Me,c,c,T-ee);var Pe=this&&this!==Sr&&this instanceof K?M:s;return Yr(Pe,this,ae)}return K}function Vf(s){return function(y,T,M){var K=Nt(y);if(!Fr(y)){var ee=ct(T,3);y=yr(y),T=function(he){return ee(K[he],he,K)}}var ae=s(y,T,M);return ae>-1?K[ee?y[ae]:ae]:c}}function Kf(s){return Zn(function(y){var T=y.length,M=T,K=an.prototype.thru;for(s&&y.reverse();M--;){var ee=y[M];if(typeof ee!="function")throw new on(l);if(K&&!ae&&Ra(ee)=="wrapper")var ae=new an([],!0)}for(M=ae?M:T;++M<T;){ee=y[M];var he=Ra(ee),Se=he=="wrapper"?Uc(ee):c;Se&&Vc(Se[0])&&Se[1]==(A|v|C|E)&&!Se[4].length&&Se[9]==1?ae=ae[Ra(Se[0])].apply(ae,Se[3]):ae=ee.length==1&&Vc(ee)?ae[he]():ae.thru(ee)}return function(){var Me=arguments,Pe=Me[0];if(ae&&Me.length==1&&_t(Pe))return ae.plant(Pe).value();for(var $e=0,Je=T?y[$e].apply(this,Me):Pe;++$e<T;)Je=y[$e].call(this,Je);return Je}})}function Aa(s,y,T,M,K,ee,ae,he,Se,Me){var Pe=y&A,$e=y&r,Je=y&f,st=y&(v|d),ut=y&L,Ct=Je?c:ao(s);function ht(){for(var Et=arguments.length,Ot=Ae(Et),qr=Et;qr--;)Ot[qr]=arguments[qr];if(st)var Mr=Es(ht),Zr=$_(Ot,Mr);if(M&&(Ot=Hf(Ot,M,K,st)),ee&&(Ot=Uf(Ot,ee,ae,st)),Et-=Zr,st&&Et<Me){var ur=yi(Ot,Mr);return Jf(s,y,Aa,ht.placeholder,T,Ot,ur,he,Se,Me-Et)}var En=$e?T:this,ni=Je?En[s]:s;return Et=Ot.length,he?Ot=G0(Ot,he):ut&&Et>1&&Ot.reverse(),Pe&&Se<Et&&(Ot.length=Se),this&&this!==Sr&&this instanceof ht&&(ni=Ct||ao(ni)),ni.apply(En,Ot)}return ht}function Yf(s,y){return function(T,M){return Zm(T,s,y(M),{})}}function Ta(s,y){return function(T,M){var K;if(T===c&&M===c)return y;if(T!==c&&(K=T),M!==c){if(K===c)return M;typeof T=="string"||typeof M=="string"?(T=Jr(T),M=Jr(M)):(T=If(T),M=If(M)),K=s(T,M)}return K}}function Fc(s){return Zn(function(y){return y=Xt(y,Xr(ct())),wt(function(T){var M=this;return s(y,function(K){return Yr(K,M,T)})})})}function La(s,y){y=y===c?" ":Jr(y);var T=y.length;if(T<2)return T?kc(y,s):y;var M=kc(y,pa(s/_s(y)));return gs(y)?xi(Cn(M),0,s).join(""):M.slice(0,s)}function A0(s,y,T,M){var K=y&r,ee=ao(s);function ae(){for(var he=-1,Se=arguments.length,Me=-1,Pe=M.length,$e=Ae(Pe+Se),Je=this&&this!==Sr&&this instanceof ae?ee:s;++Me<Pe;)$e[Me]=M[Me];for(;Se--;)$e[Me++]=arguments[++he];return Yr(Je,K?T:this,$e)}return ae}function Xf(s){return function(y,T,M){return M&&typeof M!="number"&&Ir(y,T,M)&&(T=M=c),y=ri(y),T===c?(T=y,y=0):T=ri(T),M=M===c?y<T?1:-1:ri(M),h0(y,T,M,s)}}function Oa(s){return function(y,T){return typeof y=="string"&&typeof T=="string"||(y=hn(y),T=hn(T)),s(y,T)}}function Jf(s,y,T,M,K,ee,ae,he,Se,Me){var Pe=y&v,$e=Pe?ae:c,Je=Pe?c:ae,st=Pe?ee:c,ut=Pe?c:ee;y|=Pe?C:w,y&=~(Pe?w:C),y&p||(y&=~(r|f));var Ct=[s,y,K,st,$e,ut,Je,he,Se,Me],ht=T.apply(c,Ct);return Vc(s)&&ld(ht,Ct),ht.placeholder=M,cd(ht,s,y)}function jc(s){var y=vr[s];return function(T,M){if(T=hn(T),M=M==null?0:Tr(bt(M),292),M&&cf(T)){var K=(Bt(T)+"e").split("e"),ee=y(K[0]+"e"+(+K[1]+M));return K=(Bt(ee)+"e").split("e"),+(K[0]+"e"+(+K[1]-M))}return y(T)}}var T0=bs&&1/ia(new bs([,-0]))[1]==Y?function(s){return new bs(s)}:au;function Qf(s){return function(y){var T=Lr(y);return T==Te?vc(y):T==tt?z_(y):B_(y,s(y))}}function qn(s,y,T,M,K,ee,ae,he){var Se=y&f;if(!Se&&typeof s!="function")throw new on(l);var Me=M?M.length:0;if(Me||(y&=~(C|w),M=K=c),ae=ae===c?ae:gr(bt(ae),0),he=he===c?he:bt(he),Me-=K?K.length:0,y&w){var Pe=M,$e=K;M=K=c}var Je=Se?c:Uc(s),st=[s,y,T,M,K,Pe,$e,ee,ae,he];if(Je&&U0(st,Je),s=st[0],y=st[1],T=st[2],M=st[3],K=st[4],he=st[9]=st[9]===c?Se?0:s.length:gr(st[9]-Me,0),!he&&y&(v|d)&&(y&=~(v|d)),!y||y==r)var ut=x0(s,y,T);else y==v||y==d?ut=E0(s,y,he):(y==C||y==(r|C))&&!K.length?ut=A0(s,y,T,M):ut=Aa.apply(c,st);var Ct=Je?kf:ld;return cd(Ct(ut,st),s,y)}function qf(s,y,T,M){return s===c||xn(s,ys[T])&&!$t.call(M,T)?y:s}function Zf(s,y,T,M,K,ee){return qt(s)&&qt(y)&&(ee.set(y,s),Ca(s,y,c,Zf,ee),ee.delete(y)),s}function L0(s){return uo(s)?c:s}function ed(s,y,T,M,K,ee){var ae=T&_,he=s.length,Se=y.length;if(he!=Se&&!(ae&&Se>he))return!1;var Me=ee.get(s),Pe=ee.get(y);if(Me&&Pe)return Me==y&&Pe==s;var $e=-1,Je=!0,st=T&m?new ji:c;for(ee.set(s,y),ee.set(y,s);++$e<he;){var ut=s[$e],Ct=y[$e];if(M)var ht=ae?M(Ct,ut,$e,y,s,ee):M(ut,Ct,$e,s,y,ee);if(ht!==c){if(ht)continue;Je=!1;break}if(st){if(!cc(y,function(Et,Ot){if(!Js(st,Ot)&&(ut===Et||K(ut,Et,T,M,ee)))return st.push(Ot)})){Je=!1;break}}else if(!(ut===Ct||K(ut,Ct,T,M,ee))){Je=!1;break}}return ee.delete(s),ee.delete(y),Je}function O0(s,y,T,M,K,ee,ae){switch(T){case Xe:if(s.byteLength!=y.byteLength||s.byteOffset!=y.byteOffset)return!1;s=s.buffer,y=y.buffer;case Ye:return!(s.byteLength!=y.byteLength||!ee(new ua(s),new ua(y)));case j:case N:case ve:return xn(+s,+y);case ce:return s.name==y.name&&s.message==y.message;case Ve:case Be:return s==y+"";case Te:var he=vc;case tt:var Se=M&_;if(he||(he=ia),s.size!=y.size&&!Se)return!1;var Me=ae.get(s);if(Me)return Me==y;M|=m,ae.set(s,y);var Pe=ed(he(s),he(y),M,K,ee,ae);return ae.delete(s),Pe;case Qe:if(to)return to.call(s)==to.call(y)}return!1}function R0(s,y,T,M,K,ee){var ae=T&_,he=Nc(s),Se=he.length,Me=Nc(y),Pe=Me.length;if(Se!=Pe&&!ae)return!1;for(var $e=Se;$e--;){var Je=he[$e];if(!(ae?Je in y:$t.call(y,Je)))return!1}var st=ee.get(s),ut=ee.get(y);if(st&&ut)return st==y&&ut==s;var Ct=!0;ee.set(s,y),ee.set(y,s);for(var ht=ae;++$e<Se;){Je=he[$e];var Et=s[Je],Ot=y[Je];if(M)var qr=ae?M(Ot,Et,Je,y,s,ee):M(Et,Ot,Je,s,y,ee);if(!(qr===c?Et===Ot||K(Et,Ot,T,M,ee):qr)){Ct=!1;break}ht||(ht=Je=="constructor")}if(Ct&&!ht){var Mr=s.constructor,Zr=y.constructor;Mr!=Zr&&"constructor"in s&&"constructor"in y&&!(typeof Mr=="function"&&Mr instanceof Mr&&typeof Zr=="function"&&Zr instanceof Zr)&&(Ct=!1)}return ee.delete(s),ee.delete(y),Ct}function Zn(s){return Yc(od(s,c,vd),s+"")}function Nc(s){return bf(s,yr,zc)}function Hc(s){return bf(s,jr,td)}var Uc=ga?function(s){return ga.get(s)}:au;function Ra(s){for(var y=s.name+"",T=Ss[y],M=$t.call(Ss,y)?T.length:0;M--;){var K=T[M],ee=K.func;if(ee==null||ee==s)return K.name}return y}function Es(s){var y=$t.call(Z,"placeholder")?Z:s;return y.placeholder}function ct(){var s=Z.iteratee||su;return s=s===su?wf:s,arguments.length?s(arguments[0],arguments[1]):s}function ka(s,y){var T=s.__data__;return F0(y)?T[typeof y=="string"?"string":"hash"]:T.map}function Wc(s){for(var y=yr(s),T=y.length;T--;){var M=y[T],K=s[M];y[T]=[M,K,id(K)]}return y}function Ui(s,y){var T=H_(s,y);return Cf(T)?T:c}function k0(s){var y=$t.call(s,$i),T=s[$i];try{s[$i]=c;var M=!0}catch{}var K=la.call(s);return M&&(y?s[$i]=T:delete s[$i]),K}var zc=_c?function(s){return s==null?[]:(s=Nt(s),_i(_c(s),function(y){return af.call(s,y)}))}:lu,td=_c?function(s){for(var y=[];s;)mi(y,zc(s)),s=ha(s);return y}:lu,Lr=Dr;(mc&&Lr(new mc(new ArrayBuffer(1)))!=Xe||qs&&Lr(new qs)!=Te||yc&&Lr(yc.resolve())!=qe||bs&&Lr(new bs)!=tt||Zs&&Lr(new Zs)!=Ge)&&(Lr=function(s){var y=Dr(s),T=y==xe?s.constructor:c,M=T?Wi(T):"";if(M)switch(M){case dm:return Xe;case pm:return Te;case vm:return qe;case gm:return tt;case _m:return Ge}return y});function D0(s,y,T){for(var M=-1,K=T.length;++M<K;){var ee=T[M],ae=ee.size;switch(ee.type){case"drop":s+=ae;break;case"dropRight":y-=ae;break;case"take":y=Tr(y,s+ae);break;case"takeRight":s=gr(s,y-ae);break}}return{start:s,end:y}}function I0(s){var y=s.match(Vr);return y?y[1].split(fr):[]}function rd(s,y,T){y=wi(y,s);for(var M=-1,K=y.length,ee=!1;++M<K;){var ae=$n(y[M]);if(!(ee=s!=null&&T(s,ae)))break;s=s[ae]}return ee||++M!=K?ee:(K=s==null?0:s.length,!!K&&Fa(K)&&ei(ae,K)&&(_t(s)||zi(s)))}function M0(s){var y=s.length,T=new s.constructor(y);return y&&typeof s[0]=="string"&&$t.call(s,"index")&&(T.index=s.index,T.input=s.input),T}function nd(s){return typeof s.constructor=="function"&&!lo(s)?Cs(ha(s)):{}}function P0(s,y,T){var M=s.constructor;switch(y){case Ye:return $c(s);case j:case N:return new M(+s);case Xe:return m0(s,T);case _e:case le:case me:case fe:case Re:case q:case ne:case de:case we:return jf(s,T);case Te:return new M;case ve:case Be:return new M(s);case Ve:return y0(s);case tt:return new M;case Qe:return b0(s)}}function B0(s,y){var T=y.length;if(!T)return s;var M=T-1;return y[M]=(T>1?"& ":"")+y[M],y=y.join(T>2?", ":" "),s.replace(Nl,`{
/* [wrapped with `+y+`] */
`)}function $0(s){return _t(s)||zi(s)||!!(lf&&s&&s[lf])}function ei(s,y){var T=typeof s;return y=y??k,!!y&&(T=="number"||T!="symbol"&&Kl.test(s))&&s>-1&&s%1==0&&s<y}function Ir(s,y,T){if(!qt(T))return!1;var M=typeof y;return(M=="number"?Fr(T)&&ei(y,T.length):M=="string"&&y in T)?xn(T[y],s):!1}function Gc(s,y){if(_t(s))return!1;var T=typeof s;return T=="number"||T=="symbol"||T=="boolean"||s==null||Qr(s)?!0:pi.test(s)||!di.test(s)||y!=null&&s in Nt(y)}function F0(s){var y=typeof s;return y=="string"||y=="number"||y=="symbol"||y=="boolean"?s!=="__proto__":s===null}function Vc(s){var y=Ra(s),T=Z[y];if(typeof T!="function"||!(y in Tt.prototype))return!1;if(s===T)return!0;var M=Uc(T);return!!M&&s===M[0]}function j0(s){return!!nf&&nf in s}var N0=oa?ti:cu;function lo(s){var y=s&&s.constructor,T=typeof y=="function"&&y.prototype||ys;return s===T}function id(s){return s===s&&!qt(s)}function sd(s,y){return function(T){return T==null?!1:T[s]===y&&(y!==c||s in Nt(T))}}function H0(s){var y=Ba(s,function(M){return T.size===i&&T.clear(),M}),T=y.cache;return y}function U0(s,y){var T=s[1],M=y[1],K=T|M,ee=K<(r|f|A),ae=M==A&&T==v||M==A&&T==E&&s[7].length<=y[8]||M==(A|E)&&y[7].length<=y[8]&&T==v;if(!(ee||ae))return s;M&r&&(s[2]=y[2],K|=T&r?0:p);var he=y[3];if(he){var Se=s[3];s[3]=Se?Hf(Se,he,y[4]):he,s[4]=Se?yi(s[3],h):y[4]}return he=y[5],he&&(Se=s[5],s[5]=Se?Uf(Se,he,y[6]):he,s[6]=Se?yi(s[5],h):y[6]),he=y[7],he&&(s[7]=he),M&A&&(s[8]=s[8]==null?y[8]:Tr(s[8],y[8])),s[9]==null&&(s[9]=y[9]),s[0]=y[0],s[1]=K,s}function W0(s){var y=[];if(s!=null)for(var T in Nt(s))y.push(T);return y}function z0(s){return la.call(s)}function od(s,y,T){return y=gr(y===c?s.length-1:y,0),function(){for(var M=arguments,K=-1,ee=gr(M.length-y,0),ae=Ae(ee);++K<ee;)ae[K]=M[y+K];K=-1;for(var he=Ae(y+1);++K<y;)he[K]=M[K];return he[y]=T(ae),Yr(s,this,he)}}function ad(s,y){return y.length<2?s:Hi(s,cn(y,0,-1))}function G0(s,y){for(var T=s.length,M=Tr(y.length,T),K=$r(s);M--;){var ee=y[M];s[M]=ei(ee,T)?K[ee]:c}return s}function Kc(s,y){if(!(y==="constructor"&&typeof s[y]=="function")&&y!="__proto__")return s[y]}var ld=ud(kf),co=om||function(s,y){return Sr.setTimeout(s,y)},Yc=ud(p0);function cd(s,y,T){var M=y+"";return Yc(s,B0(M,V0(I0(M),T)))}function ud(s){var y=0,T=0;return function(){var M=um(),K=P-(M-T);if(T=M,K>0){if(++y>=I)return arguments[0]}else y=0;return s.apply(c,arguments)}}function Da(s,y){var T=-1,M=s.length,K=M-1;for(y=y===c?M:y;++T<y;){var ee=Rc(T,K),ae=s[ee];s[ee]=s[T],s[T]=ae}return s.length=y,s}var hd=H0(function(s){var y=[];return s.charCodeAt(0)===46&&y.push(""),s.replace(Fl,function(T,M,K,ee){y.push(K?ee.replace(Mn,"$1"):M||T)}),y});function $n(s){if(typeof s=="string"||Qr(s))return s;var y=s+"";return y=="0"&&1/s==-Y?"-0":y}function Wi(s){if(s!=null){try{return aa.call(s)}catch{}try{return s+""}catch{}}return""}function V0(s,y){return sn(V,function(T){var M="_."+T[0];y&T[1]&&!ra(s,M)&&s.push(M)}),s.sort()}function fd(s){if(s instanceof Tt)return s.clone();var y=new an(s.__wrapped__,s.__chain__);return y.__actions__=$r(s.__actions__),y.__index__=s.__index__,y.__values__=s.__values__,y}function K0(s,y,T){(T?Ir(s,y,T):y===c)?y=1:y=gr(bt(y),0);var M=s==null?0:s.length;if(!M||y<1)return[];for(var K=0,ee=0,ae=Ae(pa(M/y));K<M;)ae[ee++]=cn(s,K,K+=y);return ae}function Y0(s){for(var y=-1,T=s==null?0:s.length,M=0,K=[];++y<T;){var ee=s[y];ee&&(K[M++]=ee)}return K}function X0(){var s=arguments.length;if(!s)return[];for(var y=Ae(s-1),T=arguments[0],M=s;M--;)y[M-1]=arguments[M];return mi(_t(T)?$r(T):[T],Cr(y,1))}var J0=wt(function(s,y){return cr(s)?no(s,Cr(y,1,cr,!0)):[]}),Q0=wt(function(s,y){var T=un(y);return cr(T)&&(T=c),cr(s)?no(s,Cr(y,1,cr,!0),ct(T,2)):[]}),q0=wt(function(s,y){var T=un(y);return cr(T)&&(T=c),cr(s)?no(s,Cr(y,1,cr,!0),c,T):[]});function Z0(s,y,T){var M=s==null?0:s.length;return M?(y=T||y===c?1:bt(y),cn(s,y<0?0:y,M)):[]}function ey(s,y,T){var M=s==null?0:s.length;return M?(y=T||y===c?1:bt(y),y=M-y,cn(s,0,y<0?0:y)):[]}function ty(s,y){return s&&s.length?xa(s,ct(y,3),!0,!0):[]}function ry(s,y){return s&&s.length?xa(s,ct(y,3),!0):[]}function ny(s,y,T,M){var K=s==null?0:s.length;return K?(T&&typeof T!="number"&&Ir(s,y,T)&&(T=0,M=K),Xm(s,y,T,M)):[]}function dd(s,y,T){var M=s==null?0:s.length;if(!M)return-1;var K=T==null?0:bt(T);return K<0&&(K=gr(M+K,0)),na(s,ct(y,3),K)}function pd(s,y,T){var M=s==null?0:s.length;if(!M)return-1;var K=M-1;return T!==c&&(K=bt(T),K=T<0?gr(M+K,0):Tr(K,M-1)),na(s,ct(y,3),K,!0)}function vd(s){var y=s==null?0:s.length;return y?Cr(s,1):[]}function iy(s){var y=s==null?0:s.length;return y?Cr(s,Y):[]}function sy(s,y){var T=s==null?0:s.length;return T?(y=y===c?1:bt(y),Cr(s,y)):[]}function oy(s){for(var y=-1,T=s==null?0:s.length,M={};++y<T;){var K=s[y];M[K[0]]=K[1]}return M}function gd(s){return s&&s.length?s[0]:c}function ay(s,y,T){var M=s==null?0:s.length;if(!M)return-1;var K=T==null?0:bt(T);return K<0&&(K=gr(M+K,0)),vs(s,y,K)}function ly(s){var y=s==null?0:s.length;return y?cn(s,0,-1):[]}var cy=wt(function(s){var y=Xt(s,Pc);return y.length&&y[0]===s[0]?Ec(y):[]}),uy=wt(function(s){var y=un(s),T=Xt(s,Pc);return y===un(T)?y=c:T.pop(),T.length&&T[0]===s[0]?Ec(T,ct(y,2)):[]}),hy=wt(function(s){var y=un(s),T=Xt(s,Pc);return y=typeof y=="function"?y:c,y&&T.pop(),T.length&&T[0]===s[0]?Ec(T,c,y):[]});function fy(s,y){return s==null?"":lm.call(s,y)}function un(s){var y=s==null?0:s.length;return y?s[y-1]:c}function dy(s,y,T){var M=s==null?0:s.length;if(!M)return-1;var K=M;return T!==c&&(K=bt(T),K=K<0?gr(M+K,0):Tr(K,M-1)),y===y?V_(s,y,K):na(s,Xh,K,!0)}function py(s,y){return s&&s.length?Tf(s,bt(y)):c}var vy=wt(_d);function _d(s,y){return s&&s.length&&y&&y.length?Oc(s,y):s}function gy(s,y,T){return s&&s.length&&y&&y.length?Oc(s,y,ct(T,2)):s}function _y(s,y,T){return s&&s.length&&y&&y.length?Oc(s,y,c,T):s}var my=Zn(function(s,y){var T=s==null?0:s.length,M=Sc(s,y);return Rf(s,Xt(y,function(K){return ei(K,T)?+K:K}).sort(Nf)),M});function yy(s,y){var T=[];if(!(s&&s.length))return T;var M=-1,K=[],ee=s.length;for(y=ct(y,3);++M<ee;){var ae=s[M];y(ae,M,s)&&(T.push(ae),K.push(M))}return Rf(s,K),T}function Xc(s){return s==null?s:fm.call(s)}function by(s,y,T){var M=s==null?0:s.length;return M?(T&&typeof T!="number"&&Ir(s,y,T)?(y=0,T=M):(y=y==null?0:bt(y),T=T===c?M:bt(T)),cn(s,y,T)):[]}function Sy(s,y){return wa(s,y)}function Cy(s,y,T){return Dc(s,y,ct(T,2))}function wy(s,y){var T=s==null?0:s.length;if(T){var M=wa(s,y);if(M<T&&xn(s[M],y))return M}return-1}function xy(s,y){return wa(s,y,!0)}function Ey(s,y,T){return Dc(s,y,ct(T,2),!0)}function Ay(s,y){var T=s==null?0:s.length;if(T){var M=wa(s,y,!0)-1;if(xn(s[M],y))return M}return-1}function Ty(s){return s&&s.length?Df(s):[]}function Ly(s,y){return s&&s.length?Df(s,ct(y,2)):[]}function Oy(s){var y=s==null?0:s.length;return y?cn(s,1,y):[]}function Ry(s,y,T){return s&&s.length?(y=T||y===c?1:bt(y),cn(s,0,y<0?0:y)):[]}function ky(s,y,T){var M=s==null?0:s.length;return M?(y=T||y===c?1:bt(y),y=M-y,cn(s,y<0?0:y,M)):[]}function Dy(s,y){return s&&s.length?xa(s,ct(y,3),!1,!0):[]}function Iy(s,y){return s&&s.length?xa(s,ct(y,3)):[]}var My=wt(function(s){return Ci(Cr(s,1,cr,!0))}),Py=wt(function(s){var y=un(s);return cr(y)&&(y=c),Ci(Cr(s,1,cr,!0),ct(y,2))}),By=wt(function(s){var y=un(s);return y=typeof y=="function"?y:c,Ci(Cr(s,1,cr,!0),c,y)});function $y(s){return s&&s.length?Ci(s):[]}function Fy(s,y){return s&&s.length?Ci(s,ct(y,2)):[]}function jy(s,y){return y=typeof y=="function"?y:c,s&&s.length?Ci(s,c,y):[]}function Jc(s){if(!(s&&s.length))return[];var y=0;return s=_i(s,function(T){if(cr(T))return y=gr(T.length,y),!0}),dc(y,function(T){return Xt(s,uc(T))})}function md(s,y){if(!(s&&s.length))return[];var T=Jc(s);return y==null?T:Xt(T,function(M){return Yr(y,c,M)})}var Ny=wt(function(s,y){return cr(s)?no(s,y):[]}),Hy=wt(function(s){return Mc(_i(s,cr))}),Uy=wt(function(s){var y=un(s);return cr(y)&&(y=c),Mc(_i(s,cr),ct(y,2))}),Wy=wt(function(s){var y=un(s);return y=typeof y=="function"?y:c,Mc(_i(s,cr),c,y)}),zy=wt(Jc);function Gy(s,y){return Bf(s||[],y||[],ro)}function Vy(s,y){return Bf(s||[],y||[],oo)}var Ky=wt(function(s){var y=s.length,T=y>1?s[y-1]:c;return T=typeof T=="function"?(s.pop(),T):c,md(s,T)});function yd(s){var y=Z(s);return y.__chain__=!0,y}function Yy(s,y){return y(s),s}function Ia(s,y){return y(s)}var Xy=Zn(function(s){var y=s.length,T=y?s[0]:0,M=this.__wrapped__,K=function(ee){return Sc(ee,s)};return y>1||this.__actions__.length||!(M instanceof Tt)||!ei(T)?this.thru(K):(M=M.slice(T,+T+(y?1:0)),M.__actions__.push({func:Ia,args:[K],thisArg:c}),new an(M,this.__chain__).thru(function(ee){return y&&!ee.length&&ee.push(c),ee}))});function Jy(){return yd(this)}function Qy(){return new an(this.value(),this.__chain__)}function qy(){this.__values__===c&&(this.__values__=Id(this.value()));var s=this.__index__>=this.__values__.length,y=s?c:this.__values__[this.__index__++];return{done:s,value:y}}function Zy(){return this}function e1(s){for(var y,T=this;T instanceof ma;){var M=fd(T);M.__index__=0,M.__values__=c,y?K.__wrapped__=M:y=M;var K=M;T=T.__wrapped__}return K.__wrapped__=s,y}function t1(){var s=this.__wrapped__;if(s instanceof Tt){var y=s;return this.__actions__.length&&(y=new Tt(this)),y=y.reverse(),y.__actions__.push({func:Ia,args:[Xc],thisArg:c}),new an(y,this.__chain__)}return this.thru(Xc)}function r1(){return Pf(this.__wrapped__,this.__actions__)}var n1=Ea(function(s,y,T){$t.call(s,T)?++s[T]:Qn(s,T,1)});function i1(s,y,T){var M=_t(s)?Kh:Ym;return T&&Ir(s,y,T)&&(y=c),M(s,ct(y,3))}function s1(s,y){var T=_t(s)?_i:mf;return T(s,ct(y,3))}var o1=Vf(dd),a1=Vf(pd);function l1(s,y){return Cr(Ma(s,y),1)}function c1(s,y){return Cr(Ma(s,y),Y)}function u1(s,y,T){return T=T===c?1:bt(T),Cr(Ma(s,y),T)}function bd(s,y){var T=_t(s)?sn:Si;return T(s,ct(y,3))}function Sd(s,y){var T=_t(s)?O_:_f;return T(s,ct(y,3))}var h1=Ea(function(s,y,T){$t.call(s,T)?s[T].push(y):Qn(s,T,[y])});function f1(s,y,T,M){s=Fr(s)?s:Ts(s),T=T&&!M?bt(T):0;var K=s.length;return T<0&&(T=gr(K+T,0)),ja(s)?T<=K&&s.indexOf(y,T)>-1:!!K&&vs(s,y,T)>-1}var d1=wt(function(s,y,T){var M=-1,K=typeof y=="function",ee=Fr(s)?Ae(s.length):[];return Si(s,function(ae){ee[++M]=K?Yr(y,ae,T):io(ae,y,T)}),ee}),p1=Ea(function(s,y,T){Qn(s,T,y)});function Ma(s,y){var T=_t(s)?Xt:xf;return T(s,ct(y,3))}function v1(s,y,T,M){return s==null?[]:(_t(y)||(y=y==null?[]:[y]),T=M?c:T,_t(T)||(T=T==null?[]:[T]),Lf(s,y,T))}var g1=Ea(function(s,y,T){s[T?0:1].push(y)},function(){return[[],[]]});function _1(s,y,T){var M=_t(s)?lc:Qh,K=arguments.length<3;return M(s,ct(y,4),T,K,Si)}function m1(s,y,T){var M=_t(s)?R_:Qh,K=arguments.length<3;return M(s,ct(y,4),T,K,_f)}function y1(s,y){var T=_t(s)?_i:mf;return T(s,$a(ct(y,3)))}function b1(s){var y=_t(s)?df:f0;return y(s)}function S1(s,y,T){(T?Ir(s,y,T):y===c)?y=1:y=bt(y);var M=_t(s)?Wm:d0;return M(s,y)}function C1(s){var y=_t(s)?zm:v0;return y(s)}function w1(s){if(s==null)return 0;if(Fr(s))return ja(s)?_s(s):s.length;var y=Lr(s);return y==Te||y==tt?s.size:Tc(s).length}function x1(s,y,T){var M=_t(s)?cc:g0;return T&&Ir(s,y,T)&&(y=c),M(s,ct(y,3))}var E1=wt(function(s,y){if(s==null)return[];var T=y.length;return T>1&&Ir(s,y[0],y[1])?y=[]:T>2&&Ir(y[0],y[1],y[2])&&(y=[y[0]]),Lf(s,Cr(y,1),[])}),Pa=sm||function(){return Sr.Date.now()};function A1(s,y){if(typeof y!="function")throw new on(l);return s=bt(s),function(){if(--s<1)return y.apply(this,arguments)}}function Cd(s,y,T){return y=T?c:y,y=s&&y==null?s.length:y,qn(s,A,c,c,c,c,y)}function wd(s,y){var T;if(typeof y!="function")throw new on(l);return s=bt(s),function(){return--s>0&&(T=y.apply(this,arguments)),s<=1&&(y=c),T}}var Qc=wt(function(s,y,T){var M=r;if(T.length){var K=yi(T,Es(Qc));M|=C}return qn(s,M,y,T,K)}),xd=wt(function(s,y,T){var M=r|f;if(T.length){var K=yi(T,Es(xd));M|=C}return qn(y,M,s,T,K)});function Ed(s,y,T){y=T?c:y;var M=qn(s,v,c,c,c,c,c,y);return M.placeholder=Ed.placeholder,M}function Ad(s,y,T){y=T?c:y;var M=qn(s,d,c,c,c,c,c,y);return M.placeholder=Ad.placeholder,M}function Td(s,y,T){var M,K,ee,ae,he,Se,Me=0,Pe=!1,$e=!1,Je=!0;if(typeof s!="function")throw new on(l);y=hn(y)||0,qt(T)&&(Pe=!!T.leading,$e="maxWait"in T,ee=$e?gr(hn(T.maxWait)||0,y):ee,Je="trailing"in T?!!T.trailing:Je);function st(ur){var En=M,ni=K;return M=K=c,Me=ur,ae=s.apply(ni,En),ae}function ut(ur){return Me=ur,he=co(Et,y),Pe?st(ur):ae}function Ct(ur){var En=ur-Se,ni=ur-Me,Vd=y-En;return $e?Tr(Vd,ee-ni):Vd}function ht(ur){var En=ur-Se,ni=ur-Me;return Se===c||En>=y||En<0||$e&&ni>=ee}function Et(){var ur=Pa();if(ht(ur))return Ot(ur);he=co(Et,Ct(ur))}function Ot(ur){return he=c,Je&&M?st(ur):(M=K=c,ae)}function qr(){he!==c&&$f(he),Me=0,M=Se=K=he=c}function Mr(){return he===c?ae:Ot(Pa())}function Zr(){var ur=Pa(),En=ht(ur);if(M=arguments,K=this,Se=ur,En){if(he===c)return ut(Se);if($e)return $f(he),he=co(Et,y),st(Se)}return he===c&&(he=co(Et,y)),ae}return Zr.cancel=qr,Zr.flush=Mr,Zr}var T1=wt(function(s,y){return gf(s,1,y)}),L1=wt(function(s,y,T){return gf(s,hn(y)||0,T)});function O1(s){return qn(s,L)}function Ba(s,y){if(typeof s!="function"||y!=null&&typeof y!="function")throw new on(l);var T=function(){var M=arguments,K=y?y.apply(this,M):M[0],ee=T.cache;if(ee.has(K))return ee.get(K);var ae=s.apply(this,M);return T.cache=ee.set(K,ae)||ee,ae};return T.cache=new(Ba.Cache||Jn),T}Ba.Cache=Jn;function $a(s){if(typeof s!="function")throw new on(l);return function(){var y=arguments;switch(y.length){case 0:return!s.call(this);case 1:return!s.call(this,y[0]);case 2:return!s.call(this,y[0],y[1]);case 3:return!s.call(this,y[0],y[1],y[2])}return!s.apply(this,y)}}function R1(s){return wd(2,s)}var k1=_0(function(s,y){y=y.length==1&&_t(y[0])?Xt(y[0],Xr(ct())):Xt(Cr(y,1),Xr(ct()));var T=y.length;return wt(function(M){for(var K=-1,ee=Tr(M.length,T);++K<ee;)M[K]=y[K].call(this,M[K]);return Yr(s,this,M)})}),qc=wt(function(s,y){var T=yi(y,Es(qc));return qn(s,C,c,y,T)}),Ld=wt(function(s,y){var T=yi(y,Es(Ld));return qn(s,w,c,y,T)}),D1=Zn(function(s,y){return qn(s,E,c,c,c,y)});function I1(s,y){if(typeof s!="function")throw new on(l);return y=y===c?y:bt(y),wt(s,y)}function M1(s,y){if(typeof s!="function")throw new on(l);return y=y==null?0:gr(bt(y),0),wt(function(T){var M=T[y],K=xi(T,0,y);return M&&mi(K,M),Yr(s,this,K)})}function P1(s,y,T){var M=!0,K=!0;if(typeof s!="function")throw new on(l);return qt(T)&&(M="leading"in T?!!T.leading:M,K="trailing"in T?!!T.trailing:K),Td(s,y,{leading:M,maxWait:y,trailing:K})}function B1(s){return Cd(s,1)}function $1(s,y){return qc(Bc(y),s)}function F1(){if(!arguments.length)return[];var s=arguments[0];return _t(s)?s:[s]}function j1(s){return ln(s,g)}function N1(s,y){return y=typeof y=="function"?y:c,ln(s,g,y)}function H1(s){return ln(s,o|g)}function U1(s,y){return y=typeof y=="function"?y:c,ln(s,o|g,y)}function W1(s,y){return y==null||vf(s,y,yr(y))}function xn(s,y){return s===y||s!==s&&y!==y}var z1=Oa(xc),G1=Oa(function(s,y){return s>=y}),zi=Sf(function(){return arguments}())?Sf:function(s){return rr(s)&&$t.call(s,"callee")&&!af.call(s,"callee")},_t=Ae.isArray,V1=Hh?Xr(Hh):e0;function Fr(s){return s!=null&&Fa(s.length)&&!ti(s)}function cr(s){return rr(s)&&Fr(s)}function K1(s){return s===!0||s===!1||rr(s)&&Dr(s)==j}var Ei=am||cu,Y1=Uh?Xr(Uh):t0;function X1(s){return rr(s)&&s.nodeType===1&&!uo(s)}function J1(s){if(s==null)return!0;if(Fr(s)&&(_t(s)||typeof s=="string"||typeof s.splice=="function"||Ei(s)||As(s)||zi(s)))return!s.length;var y=Lr(s);if(y==Te||y==tt)return!s.size;if(lo(s))return!Tc(s).length;for(var T in s)if($t.call(s,T))return!1;return!0}function Q1(s,y){return so(s,y)}function q1(s,y,T){T=typeof T=="function"?T:c;var M=T?T(s,y):c;return M===c?so(s,y,c,T):!!M}function Zc(s){if(!rr(s))return!1;var y=Dr(s);return y==ce||y==Q||typeof s.message=="string"&&typeof s.name=="string"&&!uo(s)}function Z1(s){return typeof s=="number"&&cf(s)}function ti(s){if(!qt(s))return!1;var y=Dr(s);return y==ue||y==pe||y==B||y==lt}function Od(s){return typeof s=="number"&&s==bt(s)}function Fa(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=k}function qt(s){var y=typeof s;return s!=null&&(y=="object"||y=="function")}function rr(s){return s!=null&&typeof s=="object"}var Rd=Wh?Xr(Wh):n0;function eb(s,y){return s===y||Ac(s,y,Wc(y))}function tb(s,y,T){return T=typeof T=="function"?T:c,Ac(s,y,Wc(y),T)}function rb(s){return kd(s)&&s!=+s}function nb(s){if(N0(s))throw new vt(x);return Cf(s)}function ib(s){return s===null}function sb(s){return s==null}function kd(s){return typeof s=="number"||rr(s)&&Dr(s)==ve}function uo(s){if(!rr(s)||Dr(s)!=xe)return!1;var y=ha(s);if(y===null)return!0;var T=$t.call(y,"constructor")&&y.constructor;return typeof T=="function"&&T instanceof T&&aa.call(T)==tm}var eu=zh?Xr(zh):i0;function ob(s){return Od(s)&&s>=-k&&s<=k}var Dd=Gh?Xr(Gh):s0;function ja(s){return typeof s=="string"||!_t(s)&&rr(s)&&Dr(s)==Be}function Qr(s){return typeof s=="symbol"||rr(s)&&Dr(s)==Qe}var As=Vh?Xr(Vh):o0;function ab(s){return s===c}function lb(s){return rr(s)&&Lr(s)==Ge}function cb(s){return rr(s)&&Dr(s)==ot}var ub=Oa(Lc),hb=Oa(function(s,y){return s<=y});function Id(s){if(!s)return[];if(Fr(s))return ja(s)?Cn(s):$r(s);if(Qs&&s[Qs])return W_(s[Qs]());var y=Lr(s),T=y==Te?vc:y==tt?ia:Ts;return T(s)}function ri(s){if(!s)return s===0?s:0;if(s=hn(s),s===Y||s===-Y){var y=s<0?-1:1;return y*H}return s===s?s:0}function bt(s){var y=ri(s),T=y%1;return y===y?T?y-T:y:0}function Md(s){return s?Ni(bt(s),0,X):0}function hn(s){if(typeof s=="number")return s;if(Qr(s))return z;if(qt(s)){var y=typeof s.valueOf=="function"?s.valueOf():s;s=qt(y)?y+"":y}if(typeof s!="string")return s===0?s:+s;s=qh(s);var T=zl.test(s);return T||Vl.test(s)?A_(s.slice(2),T?2:8):Wl.test(s)?z:+s}function Pd(s){return Bn(s,jr(s))}function fb(s){return s?Ni(bt(s),-k,k):s===0?s:0}function Bt(s){return s==null?"":Jr(s)}var db=ws(function(s,y){if(lo(y)||Fr(y)){Bn(y,yr(y),s);return}for(var T in y)$t.call(y,T)&&ro(s,T,y[T])}),Bd=ws(function(s,y){Bn(y,jr(y),s)}),Na=ws(function(s,y,T,M){Bn(y,jr(y),s,M)}),pb=ws(function(s,y,T,M){Bn(y,yr(y),s,M)}),vb=Zn(Sc);function gb(s,y){var T=Cs(s);return y==null?T:pf(T,y)}var _b=wt(function(s,y){s=Nt(s);var T=-1,M=y.length,K=M>2?y[2]:c;for(K&&Ir(y[0],y[1],K)&&(M=1);++T<M;)for(var ee=y[T],ae=jr(ee),he=-1,Se=ae.length;++he<Se;){var Me=ae[he],Pe=s[Me];(Pe===c||xn(Pe,ys[Me])&&!$t.call(s,Me))&&(s[Me]=ee[Me])}return s}),mb=wt(function(s){return s.push(c,Zf),Yr($d,c,s)});function yb(s,y){return Yh(s,ct(y,3),Pn)}function bb(s,y){return Yh(s,ct(y,3),wc)}function Sb(s,y){return s==null?s:Cc(s,ct(y,3),jr)}function Cb(s,y){return s==null?s:yf(s,ct(y,3),jr)}function wb(s,y){return s&&Pn(s,ct(y,3))}function xb(s,y){return s&&wc(s,ct(y,3))}function Eb(s){return s==null?[]:Sa(s,yr(s))}function Ab(s){return s==null?[]:Sa(s,jr(s))}function tu(s,y,T){var M=s==null?c:Hi(s,y);return M===c?T:M}function Tb(s,y){return s!=null&&rd(s,y,Jm)}function ru(s,y){return s!=null&&rd(s,y,Qm)}var Lb=Yf(function(s,y,T){y!=null&&typeof y.toString!="function"&&(y=la.call(y)),s[y]=T},iu(Nr)),Ob=Yf(function(s,y,T){y!=null&&typeof y.toString!="function"&&(y=la.call(y)),$t.call(s,y)?s[y].push(T):s[y]=[T]},ct),Rb=wt(io);function yr(s){return Fr(s)?ff(s):Tc(s)}function jr(s){return Fr(s)?ff(s,!0):a0(s)}function kb(s,y){var T={};return y=ct(y,3),Pn(s,function(M,K,ee){Qn(T,y(M,K,ee),M)}),T}function Db(s,y){var T={};return y=ct(y,3),Pn(s,function(M,K,ee){Qn(T,K,y(M,K,ee))}),T}var Ib=ws(function(s,y,T){Ca(s,y,T)}),$d=ws(function(s,y,T,M){Ca(s,y,T,M)}),Mb=Zn(function(s,y){var T={};if(s==null)return T;var M=!1;y=Xt(y,function(ee){return ee=wi(ee,s),M||(M=ee.length>1),ee}),Bn(s,Hc(s),T),M&&(T=ln(T,o|u|g,L0));for(var K=y.length;K--;)Ic(T,y[K]);return T});function Pb(s,y){return Fd(s,$a(ct(y)))}var Bb=Zn(function(s,y){return s==null?{}:c0(s,y)});function Fd(s,y){if(s==null)return{};var T=Xt(Hc(s),function(M){return[M]});return y=ct(y),Of(s,T,function(M,K){return y(M,K[0])})}function $b(s,y,T){y=wi(y,s);var M=-1,K=y.length;for(K||(K=1,s=c);++M<K;){var ee=s==null?c:s[$n(y[M])];ee===c&&(M=K,ee=T),s=ti(ee)?ee.call(s):ee}return s}function Fb(s,y,T){return s==null?s:oo(s,y,T)}function jb(s,y,T,M){return M=typeof M=="function"?M:c,s==null?s:oo(s,y,T,M)}var jd=Qf(yr),Nd=Qf(jr);function Nb(s,y,T){var M=_t(s),K=M||Ei(s)||As(s);if(y=ct(y,4),T==null){var ee=s&&s.constructor;K?T=M?new ee:[]:qt(s)?T=ti(ee)?Cs(ha(s)):{}:T={}}return(K?sn:Pn)(s,function(ae,he,Se){return y(T,ae,he,Se)}),T}function Hb(s,y){return s==null?!0:Ic(s,y)}function Ub(s,y,T){return s==null?s:Mf(s,y,Bc(T))}function Wb(s,y,T,M){return M=typeof M=="function"?M:c,s==null?s:Mf(s,y,Bc(T),M)}function Ts(s){return s==null?[]:pc(s,yr(s))}function zb(s){return s==null?[]:pc(s,jr(s))}function Gb(s,y,T){return T===c&&(T=y,y=c),T!==c&&(T=hn(T),T=T===T?T:0),y!==c&&(y=hn(y),y=y===y?y:0),Ni(hn(s),y,T)}function Vb(s,y,T){return y=ri(y),T===c?(T=y,y=0):T=ri(T),s=hn(s),qm(s,y,T)}function Kb(s,y,T){if(T&&typeof T!="boolean"&&Ir(s,y,T)&&(y=T=c),T===c&&(typeof y=="boolean"?(T=y,y=c):typeof s=="boolean"&&(T=s,s=c)),s===c&&y===c?(s=0,y=1):(s=ri(s),y===c?(y=s,s=0):y=ri(y)),s>y){var M=s;s=y,y=M}if(T||s%1||y%1){var K=uf();return Tr(s+K*(y-s+E_("1e-"+((K+"").length-1))),y)}return Rc(s,y)}var Yb=xs(function(s,y,T){return y=y.toLowerCase(),s+(T?Hd(y):y)});function Hd(s){return nu(Bt(s).toLowerCase())}function Ud(s){return s=Bt(s),s&&s.replace(Yl,F_).replace(v_,"")}function Xb(s,y,T){s=Bt(s),y=Jr(y);var M=s.length;T=T===c?M:Ni(bt(T),0,M);var K=T;return T-=y.length,T>=0&&s.slice(T,K)==y}function Jb(s){return s=Bt(s),s&&tr.test(s)?s.replace(et,j_):s}function Qb(s){return s=Bt(s),s&&vi.test(s)?s.replace(os,"\\$&"):s}var qb=xs(function(s,y,T){return s+(T?"-":"")+y.toLowerCase()}),Zb=xs(function(s,y,T){return s+(T?" ":"")+y.toLowerCase()}),eS=Gf("toLowerCase");function tS(s,y,T){s=Bt(s),y=bt(y);var M=y?_s(s):0;if(!y||M>=y)return s;var K=(y-M)/2;return La(va(K),T)+s+La(pa(K),T)}function rS(s,y,T){s=Bt(s),y=bt(y);var M=y?_s(s):0;return y&&M<y?s+La(y-M,T):s}function nS(s,y,T){s=Bt(s),y=bt(y);var M=y?_s(s):0;return y&&M<y?La(y-M,T)+s:s}function iS(s,y,T){return T||y==null?y=0:y&&(y=+y),hm(Bt(s).replace(as,""),y||0)}function sS(s,y,T){return(T?Ir(s,y,T):y===c)?y=1:y=bt(y),kc(Bt(s),y)}function oS(){var s=arguments,y=Bt(s[0]);return s.length<3?y:y.replace(s[1],s[2])}var aS=xs(function(s,y,T){return s+(T?"_":"")+y.toLowerCase()});function lS(s,y,T){return T&&typeof T!="number"&&Ir(s,y,T)&&(y=T=c),T=T===c?X:T>>>0,T?(s=Bt(s),s&&(typeof y=="string"||y!=null&&!eu(y))&&(y=Jr(y),!y&&gs(s))?xi(Cn(s),0,T):s.split(y,T)):[]}var cS=xs(function(s,y,T){return s+(T?" ":"")+nu(y)});function uS(s,y,T){return s=Bt(s),T=T==null?0:Ni(bt(T),0,s.length),y=Jr(y),s.slice(T,T+y.length)==y}function hS(s,y,T){var M=Z.templateSettings;T&&Ir(s,y,T)&&(y=c),s=Bt(s),y=Na({},y,M,qf);var K=Na({},y.imports,M.imports,qf),ee=yr(K),ae=pc(K,ee),he,Se,Me=0,Pe=y.interpolate||us,$e="__p += '",Je=gc((y.escape||us).source+"|"+Pe.source+"|"+(Pe===Yn?Ul:us).source+"|"+(y.evaluate||us).source+"|$","g"),st="//# sourceURL="+($t.call(y,"sourceURL")?(y.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++b_+"]")+`
`;s.replace(Je,function(ht,Et,Ot,qr,Mr,Zr){return Ot||(Ot=qr),$e+=s.slice(Me,Zr).replace(Xl,N_),Et&&(he=!0,$e+=`' +
__e(`+Et+`) +
'`),Mr&&(Se=!0,$e+=`';
`+Mr+`;
__p += '`),Ot&&($e+=`' +
((__t = (`+Ot+`)) == null ? '' : __t) +
'`),Me=Zr+ht.length,ht}),$e+=`';
`;var ut=$t.call(y,"variable")&&y.variable;if(!ut)$e=`with (obj) {
`+$e+`
}
`;else if(ls.test(ut))throw new vt(t);$e=(Se?$e.replace(Ee,""):$e).replace(Ie,"$1").replace(je,"$1;"),$e="function("+(ut||"obj")+`) {
`+(ut?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(he?", __e = _.escape":"")+(Se?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+$e+`return __p
}`;var Ct=zd(function(){return Mt(ee,st+"return "+$e).apply(c,ae)});if(Ct.source=$e,Zc(Ct))throw Ct;return Ct}function fS(s){return Bt(s).toLowerCase()}function dS(s){return Bt(s).toUpperCase()}function pS(s,y,T){if(s=Bt(s),s&&(T||y===c))return qh(s);if(!s||!(y=Jr(y)))return s;var M=Cn(s),K=Cn(y),ee=Zh(M,K),ae=ef(M,K)+1;return xi(M,ee,ae).join("")}function vS(s,y,T){if(s=Bt(s),s&&(T||y===c))return s.slice(0,rf(s)+1);if(!s||!(y=Jr(y)))return s;var M=Cn(s),K=ef(M,Cn(y))+1;return xi(M,0,K).join("")}function gS(s,y,T){if(s=Bt(s),s&&(T||y===c))return s.replace(as,"");if(!s||!(y=Jr(y)))return s;var M=Cn(s),K=Zh(M,Cn(y));return xi(M,K).join("")}function _S(s,y){var T=D,M=R;if(qt(y)){var K="separator"in y?y.separator:K;T="length"in y?bt(y.length):T,M="omission"in y?Jr(y.omission):M}s=Bt(s);var ee=s.length;if(gs(s)){var ae=Cn(s);ee=ae.length}if(T>=ee)return s;var he=T-_s(M);if(he<1)return M;var Se=ae?xi(ae,0,he).join(""):s.slice(0,he);if(K===c)return Se+M;if(ae&&(he+=Se.length-he),eu(K)){if(s.slice(he).search(K)){var Me,Pe=Se;for(K.global||(K=gc(K.source,Bt(cs.exec(K))+"g")),K.lastIndex=0;Me=K.exec(Pe);)var $e=Me.index;Se=Se.slice(0,$e===c?he:$e)}}else if(s.indexOf(Jr(K),he)!=he){var Je=Se.lastIndexOf(K);Je>-1&&(Se=Se.slice(0,Je))}return Se+M}function mS(s){return s=Bt(s),s&&dt.test(s)?s.replace(Ne,K_):s}var yS=xs(function(s,y,T){return s+(T?" ":"")+y.toUpperCase()}),nu=Gf("toUpperCase");function Wd(s,y,T){return s=Bt(s),y=T?c:y,y===c?U_(s)?J_(s):I_(s):s.match(y)||[]}var zd=wt(function(s,y){try{return Yr(s,c,y)}catch(T){return Zc(T)?T:new vt(T)}}),bS=Zn(function(s,y){return sn(y,function(T){T=$n(T),Qn(s,T,Qc(s[T],s))}),s});function SS(s){var y=s==null?0:s.length,T=ct();return s=y?Xt(s,function(M){if(typeof M[1]!="function")throw new on(l);return[T(M[0]),M[1]]}):[],wt(function(M){for(var K=-1;++K<y;){var ee=s[K];if(Yr(ee[0],this,M))return Yr(ee[1],this,M)}})}function CS(s){return Km(ln(s,o))}function iu(s){return function(){return s}}function wS(s,y){return s==null||s!==s?y:s}var xS=Kf(),ES=Kf(!0);function Nr(s){return s}function su(s){return wf(typeof s=="function"?s:ln(s,o))}function AS(s){return Ef(ln(s,o))}function TS(s,y){return Af(s,ln(y,o))}var LS=wt(function(s,y){return function(T){return io(T,s,y)}}),OS=wt(function(s,y){return function(T){return io(s,T,y)}});function ou(s,y,T){var M=yr(y),K=Sa(y,M);T==null&&!(qt(y)&&(K.length||!M.length))&&(T=y,y=s,s=this,K=Sa(y,yr(y)));var ee=!(qt(T)&&"chain"in T)||!!T.chain,ae=ti(s);return sn(K,function(he){var Se=y[he];s[he]=Se,ae&&(s.prototype[he]=function(){var Me=this.__chain__;if(ee||Me){var Pe=s(this.__wrapped__),$e=Pe.__actions__=$r(this.__actions__);return $e.push({func:Se,args:arguments,thisArg:s}),Pe.__chain__=Me,Pe}return Se.apply(s,mi([this.value()],arguments))})}),s}function RS(){return Sr._===this&&(Sr._=rm),this}function au(){}function kS(s){return s=bt(s),wt(function(y){return Tf(y,s)})}var DS=Fc(Xt),IS=Fc(Kh),MS=Fc(cc);function Gd(s){return Gc(s)?uc($n(s)):u0(s)}function PS(s){return function(y){return s==null?c:Hi(s,y)}}var BS=Xf(),$S=Xf(!0);function lu(){return[]}function cu(){return!1}function FS(){return{}}function jS(){return""}function NS(){return!0}function HS(s,y){if(s=bt(s),s<1||s>k)return[];var T=X,M=Tr(s,X);y=ct(y),s-=X;for(var K=dc(M,y);++T<s;)y(T);return K}function US(s){return _t(s)?Xt(s,$n):Qr(s)?[s]:$r(hd(Bt(s)))}function WS(s){var y=++em;return Bt(s)+y}var zS=Ta(function(s,y){return s+y},0),GS=jc("ceil"),VS=Ta(function(s,y){return s/y},1),KS=jc("floor");function YS(s){return s&&s.length?ba(s,Nr,xc):c}function XS(s,y){return s&&s.length?ba(s,ct(y,2),xc):c}function JS(s){return Jh(s,Nr)}function QS(s,y){return Jh(s,ct(y,2))}function qS(s){return s&&s.length?ba(s,Nr,Lc):c}function ZS(s,y){return s&&s.length?ba(s,ct(y,2),Lc):c}var eC=Ta(function(s,y){return s*y},1),tC=jc("round"),rC=Ta(function(s,y){return s-y},0);function nC(s){return s&&s.length?fc(s,Nr):0}function iC(s,y){return s&&s.length?fc(s,ct(y,2)):0}return Z.after=A1,Z.ary=Cd,Z.assign=db,Z.assignIn=Bd,Z.assignInWith=Na,Z.assignWith=pb,Z.at=vb,Z.before=wd,Z.bind=Qc,Z.bindAll=bS,Z.bindKey=xd,Z.castArray=F1,Z.chain=yd,Z.chunk=K0,Z.compact=Y0,Z.concat=X0,Z.cond=SS,Z.conforms=CS,Z.constant=iu,Z.countBy=n1,Z.create=gb,Z.curry=Ed,Z.curryRight=Ad,Z.debounce=Td,Z.defaults=_b,Z.defaultsDeep=mb,Z.defer=T1,Z.delay=L1,Z.difference=J0,Z.differenceBy=Q0,Z.differenceWith=q0,Z.drop=Z0,Z.dropRight=ey,Z.dropRightWhile=ty,Z.dropWhile=ry,Z.fill=ny,Z.filter=s1,Z.flatMap=l1,Z.flatMapDeep=c1,Z.flatMapDepth=u1,Z.flatten=vd,Z.flattenDeep=iy,Z.flattenDepth=sy,Z.flip=O1,Z.flow=xS,Z.flowRight=ES,Z.fromPairs=oy,Z.functions=Eb,Z.functionsIn=Ab,Z.groupBy=h1,Z.initial=ly,Z.intersection=cy,Z.intersectionBy=uy,Z.intersectionWith=hy,Z.invert=Lb,Z.invertBy=Ob,Z.invokeMap=d1,Z.iteratee=su,Z.keyBy=p1,Z.keys=yr,Z.keysIn=jr,Z.map=Ma,Z.mapKeys=kb,Z.mapValues=Db,Z.matches=AS,Z.matchesProperty=TS,Z.memoize=Ba,Z.merge=Ib,Z.mergeWith=$d,Z.method=LS,Z.methodOf=OS,Z.mixin=ou,Z.negate=$a,Z.nthArg=kS,Z.omit=Mb,Z.omitBy=Pb,Z.once=R1,Z.orderBy=v1,Z.over=DS,Z.overArgs=k1,Z.overEvery=IS,Z.overSome=MS,Z.partial=qc,Z.partialRight=Ld,Z.partition=g1,Z.pick=Bb,Z.pickBy=Fd,Z.property=Gd,Z.propertyOf=PS,Z.pull=vy,Z.pullAll=_d,Z.pullAllBy=gy,Z.pullAllWith=_y,Z.pullAt=my,Z.range=BS,Z.rangeRight=$S,Z.rearg=D1,Z.reject=y1,Z.remove=yy,Z.rest=I1,Z.reverse=Xc,Z.sampleSize=S1,Z.set=Fb,Z.setWith=jb,Z.shuffle=C1,Z.slice=by,Z.sortBy=E1,Z.sortedUniq=Ty,Z.sortedUniqBy=Ly,Z.split=lS,Z.spread=M1,Z.tail=Oy,Z.take=Ry,Z.takeRight=ky,Z.takeRightWhile=Dy,Z.takeWhile=Iy,Z.tap=Yy,Z.throttle=P1,Z.thru=Ia,Z.toArray=Id,Z.toPairs=jd,Z.toPairsIn=Nd,Z.toPath=US,Z.toPlainObject=Pd,Z.transform=Nb,Z.unary=B1,Z.union=My,Z.unionBy=Py,Z.unionWith=By,Z.uniq=$y,Z.uniqBy=Fy,Z.uniqWith=jy,Z.unset=Hb,Z.unzip=Jc,Z.unzipWith=md,Z.update=Ub,Z.updateWith=Wb,Z.values=Ts,Z.valuesIn=zb,Z.without=Ny,Z.words=Wd,Z.wrap=$1,Z.xor=Hy,Z.xorBy=Uy,Z.xorWith=Wy,Z.zip=zy,Z.zipObject=Gy,Z.zipObjectDeep=Vy,Z.zipWith=Ky,Z.entries=jd,Z.entriesIn=Nd,Z.extend=Bd,Z.extendWith=Na,ou(Z,Z),Z.add=zS,Z.attempt=zd,Z.camelCase=Yb,Z.capitalize=Hd,Z.ceil=GS,Z.clamp=Gb,Z.clone=j1,Z.cloneDeep=H1,Z.cloneDeepWith=U1,Z.cloneWith=N1,Z.conformsTo=W1,Z.deburr=Ud,Z.defaultTo=wS,Z.divide=VS,Z.endsWith=Xb,Z.eq=xn,Z.escape=Jb,Z.escapeRegExp=Qb,Z.every=i1,Z.find=o1,Z.findIndex=dd,Z.findKey=yb,Z.findLast=a1,Z.findLastIndex=pd,Z.findLastKey=bb,Z.floor=KS,Z.forEach=bd,Z.forEachRight=Sd,Z.forIn=Sb,Z.forInRight=Cb,Z.forOwn=wb,Z.forOwnRight=xb,Z.get=tu,Z.gt=z1,Z.gte=G1,Z.has=Tb,Z.hasIn=ru,Z.head=gd,Z.identity=Nr,Z.includes=f1,Z.indexOf=ay,Z.inRange=Vb,Z.invoke=Rb,Z.isArguments=zi,Z.isArray=_t,Z.isArrayBuffer=V1,Z.isArrayLike=Fr,Z.isArrayLikeObject=cr,Z.isBoolean=K1,Z.isBuffer=Ei,Z.isDate=Y1,Z.isElement=X1,Z.isEmpty=J1,Z.isEqual=Q1,Z.isEqualWith=q1,Z.isError=Zc,Z.isFinite=Z1,Z.isFunction=ti,Z.isInteger=Od,Z.isLength=Fa,Z.isMap=Rd,Z.isMatch=eb,Z.isMatchWith=tb,Z.isNaN=rb,Z.isNative=nb,Z.isNil=sb,Z.isNull=ib,Z.isNumber=kd,Z.isObject=qt,Z.isObjectLike=rr,Z.isPlainObject=uo,Z.isRegExp=eu,Z.isSafeInteger=ob,Z.isSet=Dd,Z.isString=ja,Z.isSymbol=Qr,Z.isTypedArray=As,Z.isUndefined=ab,Z.isWeakMap=lb,Z.isWeakSet=cb,Z.join=fy,Z.kebabCase=qb,Z.last=un,Z.lastIndexOf=dy,Z.lowerCase=Zb,Z.lowerFirst=eS,Z.lt=ub,Z.lte=hb,Z.max=YS,Z.maxBy=XS,Z.mean=JS,Z.meanBy=QS,Z.min=qS,Z.minBy=ZS,Z.stubArray=lu,Z.stubFalse=cu,Z.stubObject=FS,Z.stubString=jS,Z.stubTrue=NS,Z.multiply=eC,Z.nth=py,Z.noConflict=RS,Z.noop=au,Z.now=Pa,Z.pad=tS,Z.padEnd=rS,Z.padStart=nS,Z.parseInt=iS,Z.random=Kb,Z.reduce=_1,Z.reduceRight=m1,Z.repeat=sS,Z.replace=oS,Z.result=$b,Z.round=tC,Z.runInContext=ye,Z.sample=b1,Z.size=w1,Z.snakeCase=aS,Z.some=x1,Z.sortedIndex=Sy,Z.sortedIndexBy=Cy,Z.sortedIndexOf=wy,Z.sortedLastIndex=xy,Z.sortedLastIndexBy=Ey,Z.sortedLastIndexOf=Ay,Z.startCase=cS,Z.startsWith=uS,Z.subtract=rC,Z.sum=nC,Z.sumBy=iC,Z.template=hS,Z.times=HS,Z.toFinite=ri,Z.toInteger=bt,Z.toLength=Md,Z.toLower=fS,Z.toNumber=hn,Z.toSafeInteger=fb,Z.toString=Bt,Z.toUpper=dS,Z.trim=pS,Z.trimEnd=vS,Z.trimStart=gS,Z.truncate=_S,Z.unescape=mS,Z.uniqueId=WS,Z.upperCase=yS,Z.upperFirst=nu,Z.each=bd,Z.eachRight=Sd,Z.first=gd,ou(Z,function(){var s={};return Pn(Z,function(y,T){$t.call(Z.prototype,T)||(s[T]=y)}),s}(),{chain:!1}),Z.VERSION=b,sn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(s){Z[s].placeholder=Z}),sn(["drop","take"],function(s,y){Tt.prototype[s]=function(T){T=T===c?1:gr(bt(T),0);var M=this.__filtered__&&!y?new Tt(this):this.clone();return M.__filtered__?M.__takeCount__=Tr(T,M.__takeCount__):M.__views__.push({size:Tr(T,X),type:s+(M.__dir__<0?"Right":"")}),M},Tt.prototype[s+"Right"]=function(T){return this.reverse()[s](T).reverse()}}),sn(["filter","map","takeWhile"],function(s,y){var T=y+1,M=T==$||T==U;Tt.prototype[s]=function(K){var ee=this.clone();return ee.__iteratees__.push({iteratee:ct(K,3),type:T}),ee.__filtered__=ee.__filtered__||M,ee}}),sn(["head","last"],function(s,y){var T="take"+(y?"Right":"");Tt.prototype[s]=function(){return this[T](1).value()[0]}}),sn(["initial","tail"],function(s,y){var T="drop"+(y?"":"Right");Tt.prototype[s]=function(){return this.__filtered__?new Tt(this):this[T](1)}}),Tt.prototype.compact=function(){return this.filter(Nr)},Tt.prototype.find=function(s){return this.filter(s).head()},Tt.prototype.findLast=function(s){return this.reverse().find(s)},Tt.prototype.invokeMap=wt(function(s,y){return typeof s=="function"?new Tt(this):this.map(function(T){return io(T,s,y)})}),Tt.prototype.reject=function(s){return this.filter($a(ct(s)))},Tt.prototype.slice=function(s,y){s=bt(s);var T=this;return T.__filtered__&&(s>0||y<0)?new Tt(T):(s<0?T=T.takeRight(-s):s&&(T=T.drop(s)),y!==c&&(y=bt(y),T=y<0?T.dropRight(-y):T.take(y-s)),T)},Tt.prototype.takeRightWhile=function(s){return this.reverse().takeWhile(s).reverse()},Tt.prototype.toArray=function(){return this.take(X)},Pn(Tt.prototype,function(s,y){var T=/^(?:filter|find|map|reject)|While$/.test(y),M=/^(?:head|last)$/.test(y),K=Z[M?"take"+(y=="last"?"Right":""):y],ee=M||/^find/.test(y);K&&(Z.prototype[y]=function(){var ae=this.__wrapped__,he=M?[1]:arguments,Se=ae instanceof Tt,Me=he[0],Pe=Se||_t(ae),$e=function(Et){var Ot=K.apply(Z,mi([Et],he));return M&&Je?Ot[0]:Ot};Pe&&T&&typeof Me=="function"&&Me.length!=1&&(Se=Pe=!1);var Je=this.__chain__,st=!!this.__actions__.length,ut=ee&&!Je,Ct=Se&&!st;if(!ee&&Pe){ae=Ct?ae:new Tt(this);var ht=s.apply(ae,he);return ht.__actions__.push({func:Ia,args:[$e],thisArg:c}),new an(ht,Je)}return ut&&Ct?s.apply(this,he):(ht=this.thru($e),ut?M?ht.value()[0]:ht.value():ht)})}),sn(["pop","push","shift","sort","splice","unshift"],function(s){var y=sa[s],T=/^(?:push|sort|unshift)$/.test(s)?"tap":"thru",M=/^(?:pop|shift)$/.test(s);Z.prototype[s]=function(){var K=arguments;if(M&&!this.__chain__){var ee=this.value();return y.apply(_t(ee)?ee:[],K)}return this[T](function(ae){return y.apply(_t(ae)?ae:[],K)})}}),Pn(Tt.prototype,function(s,y){var T=Z[y];if(T){var M=T.name+"";$t.call(Ss,M)||(Ss[M]=[]),Ss[M].push({name:y,func:T})}}),Ss[Aa(c,f).name]=[{name:"wrapper",func:c}],Tt.prototype.clone=mm,Tt.prototype.reverse=ym,Tt.prototype.value=bm,Z.prototype.at=Xy,Z.prototype.chain=Jy,Z.prototype.commit=Qy,Z.prototype.next=qy,Z.prototype.plant=e1,Z.prototype.reverse=t1,Z.prototype.toJSON=Z.prototype.valueOf=Z.prototype.value=r1,Z.prototype.first=Z.prototype.head,Qs&&(Z.prototype[Qs]=Zy),Z},ms=Q_();Bi?((Bi.exports=ms)._=ms,sc._=ms):Sr._=ms}).call(Ar)})(gl,gl.exports);var zP=gl.exports,Jg={exports:{}};/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function iv(e,a){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(e);a&&(b=b.filter(function(S){return Object.getOwnPropertyDescriptor(e,S).enumerable})),c.push.apply(c,b)}return c}function Vn(e){for(var a=1;a<arguments.length;a++){var c=arguments[a]!=null?arguments[a]:{};a%2?iv(Object(c),!0).forEach(function(b){GP(e,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):iv(Object(c)).forEach(function(b){Object.defineProperty(e,b,Object.getOwnPropertyDescriptor(c,b))})}return e}function il(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?il=function(a){return typeof a}:il=function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},il(e)}function GP(e,a,c){return a in e?Object.defineProperty(e,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):e[a]=c,e}function bn(){return bn=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var c=arguments[a];for(var b in c)Object.prototype.hasOwnProperty.call(c,b)&&(e[b]=c[b])}return e},bn.apply(this,arguments)}function VP(e,a){if(e==null)return{};var c={},b=Object.keys(e),S,x;for(x=0;x<b.length;x++)S=b[x],!(a.indexOf(S)>=0)&&(c[S]=e[S]);return c}function KP(e,a){if(e==null)return{};var c=VP(e,a),b,S;if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(e);for(S=0;S<x.length;S++)b=x[S],!(a.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(e,b)&&(c[b]=e[b])}return c}function YP(e){return XP(e)||JP(e)||QP(e)||qP()}function XP(e){if(Array.isArray(e))return Yu(e)}function JP(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QP(e,a){if(e){if(typeof e=="string")return Yu(e,a);var c=Object.prototype.toString.call(e).slice(8,-1);if(c==="Object"&&e.constructor&&(c=e.constructor.name),c==="Map"||c==="Set")return Array.from(e);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return Yu(e,a)}}function Yu(e,a){(a==null||a>e.length)&&(a=e.length);for(var c=0,b=new Array(a);c<a;c++)b[c]=e[c];return b}function qP(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ZP="1.14.0";function oi(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var fi=oi(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Vo=oi(/Edge/i),sv=oi(/firefox/i),Do=oi(/safari/i)&&!oi(/chrome/i)&&!oi(/android/i),Qg=oi(/iP(ad|od|hone)/i),e4=oi(/chrome/i)&&oi(/android/i),qg={capture:!1,passive:!1};function Lt(e,a,c){e.addEventListener(a,c,!fi&&qg)}function xt(e,a,c){e.removeEventListener(a,c,!fi&&qg)}function _l(e,a){if(a){if(a[0]===">"&&(a=a.substring(1)),e)try{if(e.matches)return e.matches(a);if(e.msMatchesSelector)return e.msMatchesSelector(a);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(a)}catch{return!1}return!1}}function t4(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function Ln(e,a,c,b){if(e){c=c||document;do{if(a!=null&&(a[0]===">"?e.parentNode===c&&_l(e,a):_l(e,a))||b&&e===c)return e;if(e===c)break}while(e=t4(e))}return null}var ov=/\s+/g;function Zt(e,a,c){if(e&&a)if(e.classList)e.classList[c?"add":"remove"](a);else{var b=(" "+e.className+" ").replace(ov," ").replace(" "+a+" "," ");e.className=(b+(c?" "+a:"")).replace(ov," ")}}function nt(e,a,c){var b=e&&e.style;if(b){if(c===void 0)return document.defaultView&&document.defaultView.getComputedStyle?c=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(c=e.currentStyle),a===void 0?c:c[a];!(a in b)&&a.indexOf("webkit")===-1&&(a="-webkit-"+a),b[a]=c+(typeof c=="string"?"":"px")}}function qi(e,a){var c="";if(typeof e=="string")c=e;else do{var b=nt(e,"transform");b&&b!=="none"&&(c=b+" "+c)}while(!a&&(e=e.parentNode));var S=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return S&&new S(c)}function Zg(e,a,c){if(e){var b=e.getElementsByTagName(a),S=0,x=b.length;if(c)for(;S<x;S++)c(b[S],S);return b}return[]}function Wn(){var e=document.scrollingElement;return e||document.documentElement}function Qt(e,a,c,b,S){if(!(!e.getBoundingClientRect&&e!==window)){var x,l,t,n,i,h,o;if(e!==window&&e.parentNode&&e!==Wn()?(x=e.getBoundingClientRect(),l=x.top,t=x.left,n=x.bottom,i=x.right,h=x.height,o=x.width):(l=0,t=0,n=window.innerHeight,i=window.innerWidth,h=window.innerHeight,o=window.innerWidth),(a||c)&&e!==window&&(S=S||e.parentNode,!fi))do if(S&&S.getBoundingClientRect&&(nt(S,"transform")!=="none"||c&&nt(S,"position")!=="static")){var u=S.getBoundingClientRect();l-=u.top+parseInt(nt(S,"border-top-width")),t-=u.left+parseInt(nt(S,"border-left-width")),n=l+x.height,i=t+x.width;break}while(S=S.parentNode);if(b&&e!==window){var g=qi(S||e),_=g&&g.a,m=g&&g.d;g&&(l/=m,t/=_,o/=_,h/=m,n=l+h,i=t+o)}return{top:l,left:t,bottom:n,right:i,width:o,height:h}}}function av(e,a,c){for(var b=Ri(e,!0),S=Qt(e)[a];b;){var x=Qt(b)[c],l=void 0;if(c==="top"||c==="left"?l=S>=x:l=S<=x,!l)return b;if(b===Wn())break;b=Ri(b,!1)}return!1}function Vs(e,a,c,b){for(var S=0,x=0,l=e.children;x<l.length;){if(l[x].style.display!=="none"&&l[x]!==ft.ghost&&(b||l[x]!==ft.dragged)&&Ln(l[x],c.draggable,e,!1)){if(S===a)return l[x];S++}x++}return null}function Oh(e,a){for(var c=e.lastElementChild;c&&(c===ft.ghost||nt(c,"display")==="none"||a&&!_l(c,a));)c=c.previousElementSibling;return c||null}function sr(e,a){var c=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==ft.clone&&(!a||_l(e,a))&&c++;return c}function lv(e){var a=0,c=0,b=Wn();if(e)do{var S=qi(e),x=S.a,l=S.d;a+=e.scrollLeft*x,c+=e.scrollTop*l}while(e!==b&&(e=e.parentNode));return[a,c]}function r4(e,a){for(var c in e)if(e.hasOwnProperty(c)){for(var b in a)if(a.hasOwnProperty(b)&&a[b]===e[c][b])return Number(c)}return-1}function Ri(e,a){if(!e||!e.getBoundingClientRect)return Wn();var c=e,b=!1;do if(c.clientWidth<c.scrollWidth||c.clientHeight<c.scrollHeight){var S=nt(c);if(c.clientWidth<c.scrollWidth&&(S.overflowX=="auto"||S.overflowX=="scroll")||c.clientHeight<c.scrollHeight&&(S.overflowY=="auto"||S.overflowY=="scroll")){if(!c.getBoundingClientRect||c===document.body)return Wn();if(b||a)return c;b=!0}}while(c=c.parentNode);return Wn()}function n4(e,a){if(e&&a)for(var c in a)a.hasOwnProperty(c)&&(e[c]=a[c]);return e}function xu(e,a){return Math.round(e.top)===Math.round(a.top)&&Math.round(e.left)===Math.round(a.left)&&Math.round(e.height)===Math.round(a.height)&&Math.round(e.width)===Math.round(a.width)}var Io;function e_(e,a){return function(){if(!Io){var c=arguments,b=this;c.length===1?e.call(b,c[0]):e.apply(b,c),Io=setTimeout(function(){Io=void 0},a)}}}function i4(){clearTimeout(Io),Io=void 0}function t_(e,a,c){e.scrollLeft+=a,e.scrollTop+=c}function Rh(e){var a=window.Polymer,c=window.jQuery||window.Zepto;return a&&a.dom?a.dom(e).cloneNode(!0):c?c(e).clone(!0)[0]:e.cloneNode(!0)}function cv(e,a){nt(e,"position","absolute"),nt(e,"top",a.top),nt(e,"left",a.left),nt(e,"width",a.width),nt(e,"height",a.height)}function Eu(e){nt(e,"position",""),nt(e,"top",""),nt(e,"left",""),nt(e,"width",""),nt(e,"height","")}var Rr="Sortable"+new Date().getTime();function s4(){var e=[],a;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var b=[].slice.call(this.el.children);b.forEach(function(S){if(!(nt(S,"display")==="none"||S===ft.ghost)){e.push({target:S,rect:Qt(S)});var x=Vn({},e[e.length-1].rect);if(S.thisAnimationDuration){var l=qi(S,!0);l&&(x.top-=l.f,x.left-=l.e)}S.fromRect=x}})}},addAnimationState:function(b){e.push(b)},removeAnimationState:function(b){e.splice(r4(e,{target:b}),1)},animateAll:function(b){var S=this;if(!this.options.animation){clearTimeout(a),typeof b=="function"&&b();return}var x=!1,l=0;e.forEach(function(t){var n=0,i=t.target,h=i.fromRect,o=Qt(i),u=i.prevFromRect,g=i.prevToRect,_=t.rect,m=qi(i,!0);m&&(o.top-=m.f,o.left-=m.e),i.toRect=o,i.thisAnimationDuration&&xu(u,o)&&!xu(h,o)&&(_.top-o.top)/(_.left-o.left)===(h.top-o.top)/(h.left-o.left)&&(n=a4(_,u,g,S.options)),xu(o,h)||(i.prevFromRect=h,i.prevToRect=o,n||(n=S.options.animation),S.animate(i,_,o,n)),n&&(x=!0,l=Math.max(l,n),clearTimeout(i.animationResetTimer),i.animationResetTimer=setTimeout(function(){i.animationTime=0,i.prevFromRect=null,i.fromRect=null,i.prevToRect=null,i.thisAnimationDuration=null},n),i.thisAnimationDuration=n)}),clearTimeout(a),x?a=setTimeout(function(){typeof b=="function"&&b()},l):typeof b=="function"&&b(),e=[]},animate:function(b,S,x,l){if(l){nt(b,"transition",""),nt(b,"transform","");var t=qi(this.el),n=t&&t.a,i=t&&t.d,h=(S.left-x.left)/(n||1),o=(S.top-x.top)/(i||1);b.animatingX=!!h,b.animatingY=!!o,nt(b,"transform","translate3d("+h+"px,"+o+"px,0)"),this.forRepaintDummy=o4(b),nt(b,"transition","transform "+l+"ms"+(this.options.easing?" "+this.options.easing:"")),nt(b,"transform","translate3d(0,0,0)"),typeof b.animated=="number"&&clearTimeout(b.animated),b.animated=setTimeout(function(){nt(b,"transition",""),nt(b,"transform",""),b.animated=!1,b.animatingX=!1,b.animatingY=!1},l)}}}}function o4(e){return e.offsetWidth}function a4(e,a,c,b){return Math.sqrt(Math.pow(a.top-e.top,2)+Math.pow(a.left-e.left,2))/Math.sqrt(Math.pow(a.top-c.top,2)+Math.pow(a.left-c.left,2))*b.animation}var Os=[],Au={initializeByDefault:!0},Ko={mount:function(a){for(var c in Au)Au.hasOwnProperty(c)&&!(c in a)&&(a[c]=Au[c]);Os.forEach(function(b){if(b.pluginName===a.pluginName)throw"Sortable: Cannot mount plugin ".concat(a.pluginName," more than once")}),Os.push(a)},pluginEvent:function(a,c,b){var S=this;this.eventCanceled=!1,b.cancel=function(){S.eventCanceled=!0};var x=a+"Global";Os.forEach(function(l){c[l.pluginName]&&(c[l.pluginName][x]&&c[l.pluginName][x](Vn({sortable:c},b)),c.options[l.pluginName]&&c[l.pluginName][a]&&c[l.pluginName][a](Vn({sortable:c},b)))})},initializePlugins:function(a,c,b,S){Os.forEach(function(t){var n=t.pluginName;if(!(!a.options[n]&&!t.initializeByDefault)){var i=new t(a,c,a.options);i.sortable=a,i.options=a.options,a[n]=i,bn(b,i.defaults)}});for(var x in a.options)if(a.options.hasOwnProperty(x)){var l=this.modifyOption(a,x,a.options[x]);typeof l<"u"&&(a.options[x]=l)}},getEventProperties:function(a,c){var b={};return Os.forEach(function(S){typeof S.eventProperties=="function"&&bn(b,S.eventProperties.call(c[S.pluginName],a))}),b},modifyOption:function(a,c,b){var S;return Os.forEach(function(x){a[x.pluginName]&&x.optionListeners&&typeof x.optionListeners[c]=="function"&&(S=x.optionListeners[c].call(a[x.pluginName],b))}),S}};function Co(e){var a=e.sortable,c=e.rootEl,b=e.name,S=e.targetEl,x=e.cloneEl,l=e.toEl,t=e.fromEl,n=e.oldIndex,i=e.newIndex,h=e.oldDraggableIndex,o=e.newDraggableIndex,u=e.originalEvent,g=e.putSortable,_=e.extraEventProperties;if(a=a||c&&c[Rr],!!a){var m,r=a.options,f="on"+b.charAt(0).toUpperCase()+b.substr(1);window.CustomEvent&&!fi&&!Vo?m=new CustomEvent(b,{bubbles:!0,cancelable:!0}):(m=document.createEvent("Event"),m.initEvent(b,!0,!0)),m.to=l||c,m.from=t||c,m.item=S||c,m.clone=x,m.oldIndex=n,m.newIndex=i,m.oldDraggableIndex=h,m.newDraggableIndex=o,m.originalEvent=u,m.pullMode=g?g.lastPutMode:void 0;var p=Vn(Vn({},_),Ko.getEventProperties(b,a));for(var v in p)m[v]=p[v];c&&c.dispatchEvent(m),r[f]&&r[f].call(a,m)}}var l4=["evt"],Hr=function(a,c){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},S=b.evt,x=KP(b,l4);Ko.pluginEvent.bind(ft)(a,c,Vn({dragEl:Ke,parentEl:nr,ghostEl:mt,rootEl:Jt,nextEl:Xi,lastDownEl:sl,cloneEl:ir,cloneHidden:Oi,dragStarted:wo,putSortable:xr,activeSortable:ft.active,originalEvent:S,oldIndex:Ps,oldDraggableIndex:Mo,newIndex:tn,newDraggableIndex:Li,hideGhostForTarget:s_,unhideGhostForTarget:o_,cloneNowHidden:function(){Oi=!0},cloneNowShown:function(){Oi=!1},dispatchSortableEvent:function(t){Pr({sortable:c,name:t,originalEvent:S})}},x))};function Pr(e){Co(Vn({putSortable:xr,cloneEl:ir,targetEl:Ke,rootEl:Jt,oldIndex:Ps,oldDraggableIndex:Mo,newIndex:tn,newDraggableIndex:Li},e))}var Ke,nr,mt,Jt,Xi,sl,ir,Oi,Ps,tn,Mo,Li,Ya,xr,Ms=!1,ml=!1,yl=[],Gi,An,Tu,Lu,uv,hv,wo,Rs,Po,Bo=!1,Xa=!1,ol,Or,Ou=[],Xu=!1,bl=[],$l=typeof document<"u",Ja=Qg,fv=Vo||fi?"cssFloat":"float",c4=$l&&!e4&&!Qg&&"draggable"in document.createElement("div"),r_=function(){if($l){if(fi)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),n_=function(a,c){var b=nt(a),S=parseInt(b.width)-parseInt(b.paddingLeft)-parseInt(b.paddingRight)-parseInt(b.borderLeftWidth)-parseInt(b.borderRightWidth),x=Vs(a,0,c),l=Vs(a,1,c),t=x&&nt(x),n=l&&nt(l),i=t&&parseInt(t.marginLeft)+parseInt(t.marginRight)+Qt(x).width,h=n&&parseInt(n.marginLeft)+parseInt(n.marginRight)+Qt(l).width;if(b.display==="flex")return b.flexDirection==="column"||b.flexDirection==="column-reverse"?"vertical":"horizontal";if(b.display==="grid")return b.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(x&&t.float&&t.float!=="none"){var o=t.float==="left"?"left":"right";return l&&(n.clear==="both"||n.clear===o)?"vertical":"horizontal"}return x&&(t.display==="block"||t.display==="flex"||t.display==="table"||t.display==="grid"||i>=S&&b[fv]==="none"||l&&b[fv]==="none"&&i+h>S)?"vertical":"horizontal"},u4=function(a,c,b){var S=b?a.left:a.top,x=b?a.right:a.bottom,l=b?a.width:a.height,t=b?c.left:c.top,n=b?c.right:c.bottom,i=b?c.width:c.height;return S===t||x===n||S+l/2===t+i/2},h4=function(a,c){var b;return yl.some(function(S){var x=S[Rr].options.emptyInsertThreshold;if(!(!x||Oh(S))){var l=Qt(S),t=a>=l.left-x&&a<=l.right+x,n=c>=l.top-x&&c<=l.bottom+x;if(t&&n)return b=S}}),b},i_=function(a){function c(x,l){return function(t,n,i,h){var o=t.options.group.name&&n.options.group.name&&t.options.group.name===n.options.group.name;if(x==null&&(l||o))return!0;if(x==null||x===!1)return!1;if(l&&x==="clone")return x;if(typeof x=="function")return c(x(t,n,i,h),l)(t,n,i,h);var u=(l?t:n).options.group.name;return x===!0||typeof x=="string"&&x===u||x.join&&x.indexOf(u)>-1}}var b={},S=a.group;(!S||il(S)!="object")&&(S={name:S}),b.name=S.name,b.checkPull=c(S.pull,!0),b.checkPut=c(S.put),b.revertClone=S.revertClone,a.group=b},s_=function(){!r_&&mt&&nt(mt,"display","none")},o_=function(){!r_&&mt&&nt(mt,"display","")};$l&&document.addEventListener("click",function(e){if(ml)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),ml=!1,!1},!0);var Vi=function(a){if(Ke){a=a.touches?a.touches[0]:a;var c=h4(a.clientX,a.clientY);if(c){var b={};for(var S in a)a.hasOwnProperty(S)&&(b[S]=a[S]);b.target=b.rootEl=c,b.preventDefault=void 0,b.stopPropagation=void 0,c[Rr]._onDragOver(b)}}},f4=function(a){Ke&&Ke.parentNode[Rr]._isOutsideThisEl(a.target)};function ft(e,a){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=a=bn({},a),e[Rr]=this;var c={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return n_(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(l,t){l.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:ft.supportPointer!==!1&&"PointerEvent"in window&&!Do,emptyInsertThreshold:5};Ko.initializePlugins(this,e,c);for(var b in c)!(b in a)&&(a[b]=c[b]);i_(a);for(var S in this)S.charAt(0)==="_"&&typeof this[S]=="function"&&(this[S]=this[S].bind(this));this.nativeDraggable=a.forceFallback?!1:c4,this.nativeDraggable&&(this.options.touchStartThreshold=1),a.supportPointer?Lt(e,"pointerdown",this._onTapStart):(Lt(e,"mousedown",this._onTapStart),Lt(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(Lt(e,"dragover",this),Lt(e,"dragenter",this)),yl.push(this.el),a.store&&a.store.get&&this.sort(a.store.get(this)||[]),bn(this,s4())}ft.prototype={constructor:ft,_isOutsideThisEl:function(a){!this.el.contains(a)&&a!==this.el&&(Rs=null)},_getDirection:function(a,c){return typeof this.options.direction=="function"?this.options.direction.call(this,a,c,Ke):this.options.direction},_onTapStart:function(a){if(a.cancelable){var c=this,b=this.el,S=this.options,x=S.preventOnFilter,l=a.type,t=a.touches&&a.touches[0]||a.pointerType&&a.pointerType==="touch"&&a,n=(t||a).target,i=a.target.shadowRoot&&(a.path&&a.path[0]||a.composedPath&&a.composedPath()[0])||n,h=S.filter;if(b4(b),!Ke&&!(/mousedown|pointerdown/.test(l)&&a.button!==0||S.disabled)&&!i.isContentEditable&&!(!this.nativeDraggable&&Do&&n&&n.tagName.toUpperCase()==="SELECT")&&(n=Ln(n,S.draggable,b,!1),!(n&&n.animated)&&sl!==n)){if(Ps=sr(n),Mo=sr(n,S.draggable),typeof h=="function"){if(h.call(this,a,n,this)){Pr({sortable:c,rootEl:i,name:"filter",targetEl:n,toEl:b,fromEl:b}),Hr("filter",c,{evt:a}),x&&a.cancelable&&a.preventDefault();return}}else if(h&&(h=h.split(",").some(function(o){if(o=Ln(i,o.trim(),b,!1),o)return Pr({sortable:c,rootEl:o,name:"filter",targetEl:n,fromEl:b,toEl:b}),Hr("filter",c,{evt:a}),!0}),h)){x&&a.cancelable&&a.preventDefault();return}S.handle&&!Ln(i,S.handle,b,!1)||this._prepareDragStart(a,t,n)}}},_prepareDragStart:function(a,c,b){var S=this,x=S.el,l=S.options,t=x.ownerDocument,n;if(b&&!Ke&&b.parentNode===x){var i=Qt(b);if(Jt=x,Ke=b,nr=Ke.parentNode,Xi=Ke.nextSibling,sl=b,Ya=l.group,ft.dragged=Ke,Gi={target:Ke,clientX:(c||a).clientX,clientY:(c||a).clientY},uv=Gi.clientX-i.left,hv=Gi.clientY-i.top,this._lastX=(c||a).clientX,this._lastY=(c||a).clientY,Ke.style["will-change"]="all",n=function(){if(Hr("delayEnded",S,{evt:a}),ft.eventCanceled){S._onDrop();return}S._disableDelayedDragEvents(),!sv&&S.nativeDraggable&&(Ke.draggable=!0),S._triggerDragStart(a,c),Pr({sortable:S,name:"choose",originalEvent:a}),Zt(Ke,l.chosenClass,!0)},l.ignore.split(",").forEach(function(h){Zg(Ke,h.trim(),Ru)}),Lt(t,"dragover",Vi),Lt(t,"mousemove",Vi),Lt(t,"touchmove",Vi),Lt(t,"mouseup",S._onDrop),Lt(t,"touchend",S._onDrop),Lt(t,"touchcancel",S._onDrop),sv&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Ke.draggable=!0),Hr("delayStart",this,{evt:a}),l.delay&&(!l.delayOnTouchOnly||c)&&(!this.nativeDraggable||!(Vo||fi))){if(ft.eventCanceled){this._onDrop();return}Lt(t,"mouseup",S._disableDelayedDrag),Lt(t,"touchend",S._disableDelayedDrag),Lt(t,"touchcancel",S._disableDelayedDrag),Lt(t,"mousemove",S._delayedDragTouchMoveHandler),Lt(t,"touchmove",S._delayedDragTouchMoveHandler),l.supportPointer&&Lt(t,"pointermove",S._delayedDragTouchMoveHandler),S._dragStartTimer=setTimeout(n,l.delay)}else n()}},_delayedDragTouchMoveHandler:function(a){var c=a.touches?a.touches[0]:a;Math.max(Math.abs(c.clientX-this._lastX),Math.abs(c.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Ke&&Ru(Ke),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var a=this.el.ownerDocument;xt(a,"mouseup",this._disableDelayedDrag),xt(a,"touchend",this._disableDelayedDrag),xt(a,"touchcancel",this._disableDelayedDrag),xt(a,"mousemove",this._delayedDragTouchMoveHandler),xt(a,"touchmove",this._delayedDragTouchMoveHandler),xt(a,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(a,c){c=c||a.pointerType=="touch"&&a,!this.nativeDraggable||c?this.options.supportPointer?Lt(document,"pointermove",this._onTouchMove):c?Lt(document,"touchmove",this._onTouchMove):Lt(document,"mousemove",this._onTouchMove):(Lt(Ke,"dragend",this),Lt(Jt,"dragstart",this._onDragStart));try{document.selection?al(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(a,c){if(Ms=!1,Jt&&Ke){Hr("dragStarted",this,{evt:c}),this.nativeDraggable&&Lt(document,"dragover",f4);var b=this.options;!a&&Zt(Ke,b.dragClass,!1),Zt(Ke,b.ghostClass,!0),ft.active=this,a&&this._appendGhost(),Pr({sortable:this,name:"start",originalEvent:c})}else this._nulling()},_emulateDragOver:function(){if(An){this._lastX=An.clientX,this._lastY=An.clientY,s_();for(var a=document.elementFromPoint(An.clientX,An.clientY),c=a;a&&a.shadowRoot&&(a=a.shadowRoot.elementFromPoint(An.clientX,An.clientY),a!==c);)c=a;if(Ke.parentNode[Rr]._isOutsideThisEl(a),c)do{if(c[Rr]){var b=void 0;if(b=c[Rr]._onDragOver({clientX:An.clientX,clientY:An.clientY,target:a,rootEl:c}),b&&!this.options.dragoverBubble)break}a=c}while(c=c.parentNode);o_()}},_onTouchMove:function(a){if(Gi){var c=this.options,b=c.fallbackTolerance,S=c.fallbackOffset,x=a.touches?a.touches[0]:a,l=mt&&qi(mt,!0),t=mt&&l&&l.a,n=mt&&l&&l.d,i=Ja&&Or&&lv(Or),h=(x.clientX-Gi.clientX+S.x)/(t||1)+(i?i[0]-Ou[0]:0)/(t||1),o=(x.clientY-Gi.clientY+S.y)/(n||1)+(i?i[1]-Ou[1]:0)/(n||1);if(!ft.active&&!Ms){if(b&&Math.max(Math.abs(x.clientX-this._lastX),Math.abs(x.clientY-this._lastY))<b)return;this._onDragStart(a,!0)}if(mt){l?(l.e+=h-(Tu||0),l.f+=o-(Lu||0)):l={a:1,b:0,c:0,d:1,e:h,f:o};var u="matrix(".concat(l.a,",").concat(l.b,",").concat(l.c,",").concat(l.d,",").concat(l.e,",").concat(l.f,")");nt(mt,"webkitTransform",u),nt(mt,"mozTransform",u),nt(mt,"msTransform",u),nt(mt,"transform",u),Tu=h,Lu=o,An=x}a.cancelable&&a.preventDefault()}},_appendGhost:function(){if(!mt){var a=this.options.fallbackOnBody?document.body:Jt,c=Qt(Ke,!0,Ja,!0,a),b=this.options;if(Ja){for(Or=a;nt(Or,"position")==="static"&&nt(Or,"transform")==="none"&&Or!==document;)Or=Or.parentNode;Or!==document.body&&Or!==document.documentElement?(Or===document&&(Or=Wn()),c.top+=Or.scrollTop,c.left+=Or.scrollLeft):Or=Wn(),Ou=lv(Or)}mt=Ke.cloneNode(!0),Zt(mt,b.ghostClass,!1),Zt(mt,b.fallbackClass,!0),Zt(mt,b.dragClass,!0),nt(mt,"transition",""),nt(mt,"transform",""),nt(mt,"box-sizing","border-box"),nt(mt,"margin",0),nt(mt,"top",c.top),nt(mt,"left",c.left),nt(mt,"width",c.width),nt(mt,"height",c.height),nt(mt,"opacity","0.8"),nt(mt,"position",Ja?"absolute":"fixed"),nt(mt,"zIndex","100000"),nt(mt,"pointerEvents","none"),ft.ghost=mt,a.appendChild(mt),nt(mt,"transform-origin",uv/parseInt(mt.style.width)*100+"% "+hv/parseInt(mt.style.height)*100+"%")}},_onDragStart:function(a,c){var b=this,S=a.dataTransfer,x=b.options;if(Hr("dragStart",this,{evt:a}),ft.eventCanceled){this._onDrop();return}Hr("setupClone",this),ft.eventCanceled||(ir=Rh(Ke),ir.draggable=!1,ir.style["will-change"]="",this._hideClone(),Zt(ir,this.options.chosenClass,!1),ft.clone=ir),b.cloneId=al(function(){Hr("clone",b),!ft.eventCanceled&&(b.options.removeCloneOnHide||Jt.insertBefore(ir,Ke),b._hideClone(),Pr({sortable:b,name:"clone"}))}),!c&&Zt(Ke,x.dragClass,!0),c?(ml=!0,b._loopId=setInterval(b._emulateDragOver,50)):(xt(document,"mouseup",b._onDrop),xt(document,"touchend",b._onDrop),xt(document,"touchcancel",b._onDrop),S&&(S.effectAllowed="move",x.setData&&x.setData.call(b,S,Ke)),Lt(document,"drop",b),nt(Ke,"transform","translateZ(0)")),Ms=!0,b._dragStartId=al(b._dragStarted.bind(b,c,a)),Lt(document,"selectstart",b),wo=!0,Do&&nt(document.body,"user-select","none")},_onDragOver:function(a){var c=this.el,b=a.target,S,x,l,t=this.options,n=t.group,i=ft.active,h=Ya===n,o=t.sort,u=xr||i,g,_=this,m=!1;if(Xu)return;function r(k,H){Hr(k,_,Vn({evt:a,isOwner:h,axis:g?"vertical":"horizontal",revert:l,dragRect:S,targetRect:x,canSort:o,fromSortable:u,target:b,completed:p,onMove:function(X,te){return Qa(Jt,c,Ke,S,X,Qt(X),a,te)},changed:v},H))}function f(){r("dragOverAnimationCapture"),_.captureAnimationState(),_!==u&&u.captureAnimationState()}function p(k){return r("dragOverCompleted",{insertion:k}),k&&(h?i._hideClone():i._showClone(_),_!==u&&(Zt(Ke,xr?xr.options.ghostClass:i.options.ghostClass,!1),Zt(Ke,t.ghostClass,!0)),xr!==_&&_!==ft.active?xr=_:_===ft.active&&xr&&(xr=null),u===_&&(_._ignoreWhileAnimating=b),_.animateAll(function(){r("dragOverAnimationComplete"),_._ignoreWhileAnimating=null}),_!==u&&(u.animateAll(),u._ignoreWhileAnimating=null)),(b===Ke&&!Ke.animated||b===c&&!b.animated)&&(Rs=null),!t.dragoverBubble&&!a.rootEl&&b!==document&&(Ke.parentNode[Rr]._isOutsideThisEl(a.target),!k&&Vi(a)),!t.dragoverBubble&&a.stopPropagation&&a.stopPropagation(),m=!0}function v(){tn=sr(Ke),Li=sr(Ke,t.draggable),Pr({sortable:_,name:"change",toEl:c,newIndex:tn,newDraggableIndex:Li,originalEvent:a})}if(a.preventDefault!==void 0&&a.cancelable&&a.preventDefault(),b=Ln(b,t.draggable,c,!0),r("dragOver"),ft.eventCanceled)return m;if(Ke.contains(a.target)||b.animated&&b.animatingX&&b.animatingY||_._ignoreWhileAnimating===b)return p(!1);if(ml=!1,i&&!t.disabled&&(h?o||(l=nr!==Jt):xr===this||(this.lastPutMode=Ya.checkPull(this,i,Ke,a))&&n.checkPut(this,i,Ke,a))){if(g=this._getDirection(a,b)==="vertical",S=Qt(Ke),r("dragOverValid"),ft.eventCanceled)return m;if(l)return nr=Jt,f(),this._hideClone(),r("revert"),ft.eventCanceled||(Xi?Jt.insertBefore(Ke,Xi):Jt.appendChild(Ke)),p(!0);var d=Oh(c,t.draggable);if(!d||g4(a,g,this)&&!d.animated){if(d===Ke)return p(!1);if(d&&c===a.target&&(b=d),b&&(x=Qt(b)),Qa(Jt,c,Ke,S,b,x,a,!!b)!==!1)return f(),c.appendChild(Ke),nr=c,v(),p(!0)}else if(d&&v4(a,g,this)){var C=Vs(c,0,t,!0);if(C===Ke)return p(!1);if(b=C,x=Qt(b),Qa(Jt,c,Ke,S,b,x,a,!1)!==!1)return f(),c.insertBefore(Ke,C),nr=c,v(),p(!0)}else if(b.parentNode===c){x=Qt(b);var w=0,A,E=Ke.parentNode!==c,L=!u4(Ke.animated&&Ke.toRect||S,b.animated&&b.toRect||x,g),D=g?"top":"left",R=av(b,"top","top")||av(Ke,"top","top"),I=R?R.scrollTop:void 0;Rs!==b&&(A=x[D],Bo=!1,Xa=!L&&t.invertSwap||E),w=_4(a,b,x,g,L?1:t.swapThreshold,t.invertedSwapThreshold==null?t.swapThreshold:t.invertedSwapThreshold,Xa,Rs===b);var P;if(w!==0){var $=sr(Ke);do $-=w,P=nr.children[$];while(P&&(nt(P,"display")==="none"||P===mt))}if(w===0||P===b)return p(!1);Rs=b,Po=w;var F=b.nextElementSibling,U=!1;U=w===1;var Y=Qa(Jt,c,Ke,S,b,x,a,U);if(Y!==!1)return(Y===1||Y===-1)&&(U=Y===1),Xu=!0,setTimeout(p4,30),f(),U&&!F?c.appendChild(Ke):b.parentNode.insertBefore(Ke,U?F:b),R&&t_(R,0,I-R.scrollTop),nr=Ke.parentNode,A!==void 0&&!Xa&&(ol=Math.abs(A-Qt(b)[D])),v(),p(!0)}if(c.contains(Ke))return p(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){xt(document,"mousemove",this._onTouchMove),xt(document,"touchmove",this._onTouchMove),xt(document,"pointermove",this._onTouchMove),xt(document,"dragover",Vi),xt(document,"mousemove",Vi),xt(document,"touchmove",Vi)},_offUpEvents:function(){var a=this.el.ownerDocument;xt(a,"mouseup",this._onDrop),xt(a,"touchend",this._onDrop),xt(a,"pointerup",this._onDrop),xt(a,"touchcancel",this._onDrop),xt(document,"selectstart",this)},_onDrop:function(a){var c=this.el,b=this.options;if(tn=sr(Ke),Li=sr(Ke,b.draggable),Hr("drop",this,{evt:a}),nr=Ke&&Ke.parentNode,tn=sr(Ke),Li=sr(Ke,b.draggable),ft.eventCanceled){this._nulling();return}Ms=!1,Xa=!1,Bo=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ju(this.cloneId),Ju(this._dragStartId),this.nativeDraggable&&(xt(document,"drop",this),xt(c,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Do&&nt(document.body,"user-select",""),nt(Ke,"transform",""),a&&(wo&&(a.cancelable&&a.preventDefault(),!b.dropBubble&&a.stopPropagation()),mt&&mt.parentNode&&mt.parentNode.removeChild(mt),(Jt===nr||xr&&xr.lastPutMode!=="clone")&&ir&&ir.parentNode&&ir.parentNode.removeChild(ir),Ke&&(this.nativeDraggable&&xt(Ke,"dragend",this),Ru(Ke),Ke.style["will-change"]="",wo&&!Ms&&Zt(Ke,xr?xr.options.ghostClass:this.options.ghostClass,!1),Zt(Ke,this.options.chosenClass,!1),Pr({sortable:this,name:"unchoose",toEl:nr,newIndex:null,newDraggableIndex:null,originalEvent:a}),Jt!==nr?(tn>=0&&(Pr({rootEl:nr,name:"add",toEl:nr,fromEl:Jt,originalEvent:a}),Pr({sortable:this,name:"remove",toEl:nr,originalEvent:a}),Pr({rootEl:nr,name:"sort",toEl:nr,fromEl:Jt,originalEvent:a}),Pr({sortable:this,name:"sort",toEl:nr,originalEvent:a})),xr&&xr.save()):tn!==Ps&&tn>=0&&(Pr({sortable:this,name:"update",toEl:nr,originalEvent:a}),Pr({sortable:this,name:"sort",toEl:nr,originalEvent:a})),ft.active&&((tn==null||tn===-1)&&(tn=Ps,Li=Mo),Pr({sortable:this,name:"end",toEl:nr,originalEvent:a}),this.save()))),this._nulling()},_nulling:function(){Hr("nulling",this),Jt=Ke=nr=mt=Xi=ir=sl=Oi=Gi=An=wo=tn=Li=Ps=Mo=Rs=Po=xr=Ya=ft.dragged=ft.ghost=ft.clone=ft.active=null,bl.forEach(function(a){a.checked=!0}),bl.length=Tu=Lu=0},handleEvent:function(a){switch(a.type){case"drop":case"dragend":this._onDrop(a);break;case"dragenter":case"dragover":Ke&&(this._onDragOver(a),d4(a));break;case"selectstart":a.preventDefault();break}},toArray:function(){for(var a=[],c,b=this.el.children,S=0,x=b.length,l=this.options;S<x;S++)c=b[S],Ln(c,l.draggable,this.el,!1)&&a.push(c.getAttribute(l.dataIdAttr)||y4(c));return a},sort:function(a,c){var b={},S=this.el;this.toArray().forEach(function(x,l){var t=S.children[l];Ln(t,this.options.draggable,S,!1)&&(b[x]=t)},this),c&&this.captureAnimationState(),a.forEach(function(x){b[x]&&(S.removeChild(b[x]),S.appendChild(b[x]))}),c&&this.animateAll()},save:function(){var a=this.options.store;a&&a.set&&a.set(this)},closest:function(a,c){return Ln(a,c||this.options.draggable,this.el,!1)},option:function(a,c){var b=this.options;if(c===void 0)return b[a];var S=Ko.modifyOption(this,a,c);typeof S<"u"?b[a]=S:b[a]=c,a==="group"&&i_(b)},destroy:function(){Hr("destroy",this);var a=this.el;a[Rr]=null,xt(a,"mousedown",this._onTapStart),xt(a,"touchstart",this._onTapStart),xt(a,"pointerdown",this._onTapStart),this.nativeDraggable&&(xt(a,"dragover",this),xt(a,"dragenter",this)),Array.prototype.forEach.call(a.querySelectorAll("[draggable]"),function(c){c.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),yl.splice(yl.indexOf(this.el),1),this.el=a=null},_hideClone:function(){if(!Oi){if(Hr("hideClone",this),ft.eventCanceled)return;nt(ir,"display","none"),this.options.removeCloneOnHide&&ir.parentNode&&ir.parentNode.removeChild(ir),Oi=!0}},_showClone:function(a){if(a.lastPutMode!=="clone"){this._hideClone();return}if(Oi){if(Hr("showClone",this),ft.eventCanceled)return;Ke.parentNode==Jt&&!this.options.group.revertClone?Jt.insertBefore(ir,Ke):Xi?Jt.insertBefore(ir,Xi):Jt.appendChild(ir),this.options.group.revertClone&&this.animate(Ke,ir),nt(ir,"display",""),Oi=!1}}};function d4(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Qa(e,a,c,b,S,x,l,t){var n,i=e[Rr],h=i.options.onMove,o;return window.CustomEvent&&!fi&&!Vo?n=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(n=document.createEvent("Event"),n.initEvent("move",!0,!0)),n.to=a,n.from=e,n.dragged=c,n.draggedRect=b,n.related=S||a,n.relatedRect=x||Qt(a),n.willInsertAfter=t,n.originalEvent=l,e.dispatchEvent(n),h&&(o=h.call(i,n,l)),o}function Ru(e){e.draggable=!1}function p4(){Xu=!1}function v4(e,a,c){var b=Qt(Vs(c.el,0,c.options,!0)),S=10;return a?e.clientX<b.left-S||e.clientY<b.top&&e.clientX<b.right:e.clientY<b.top-S||e.clientY<b.bottom&&e.clientX<b.left}function g4(e,a,c){var b=Qt(Oh(c.el,c.options.draggable)),S=10;return a?e.clientX>b.right+S||e.clientX<=b.right&&e.clientY>b.bottom&&e.clientX>=b.left:e.clientX>b.right&&e.clientY>b.top||e.clientX<=b.right&&e.clientY>b.bottom+S}function _4(e,a,c,b,S,x,l,t){var n=b?e.clientY:e.clientX,i=b?c.height:c.width,h=b?c.top:c.left,o=b?c.bottom:c.right,u=!1;if(!l){if(t&&ol<i*S){if(!Bo&&(Po===1?n>h+i*x/2:n<o-i*x/2)&&(Bo=!0),Bo)u=!0;else if(Po===1?n<h+ol:n>o-ol)return-Po}else if(n>h+i*(1-S)/2&&n<o-i*(1-S)/2)return m4(a)}return u=u||l,u&&(n<h+i*x/2||n>o-i*x/2)?n>h+i/2?1:-1:0}function m4(e){return sr(Ke)<sr(e)?1:-1}function y4(e){for(var a=e.tagName+e.className+e.src+e.href+e.textContent,c=a.length,b=0;c--;)b+=a.charCodeAt(c);return b.toString(36)}function b4(e){bl.length=0;for(var a=e.getElementsByTagName("input"),c=a.length;c--;){var b=a[c];b.checked&&bl.push(b)}}function al(e){return setTimeout(e,0)}function Ju(e){return clearTimeout(e)}$l&&Lt(document,"touchmove",function(e){(ft.active||Ms)&&e.cancelable&&e.preventDefault()});ft.utils={on:Lt,off:xt,css:nt,find:Zg,is:function(a,c){return!!Ln(a,c,a,!1)},extend:n4,throttle:e_,closest:Ln,toggleClass:Zt,clone:Rh,index:sr,nextTick:al,cancelNextTick:Ju,detectDirection:n_,getChild:Vs};ft.get=function(e){return e[Rr]};ft.mount=function(){for(var e=arguments.length,a=new Array(e),c=0;c<e;c++)a[c]=arguments[c];a[0].constructor===Array&&(a=a[0]),a.forEach(function(b){if(!b.prototype||!b.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(b));b.utils&&(ft.utils=Vn(Vn({},ft.utils),b.utils)),Ko.mount(b)})};ft.create=function(e,a){return new ft(e,a)};ft.version=ZP;var dr=[],xo,Qu,qu=!1,ku,Du,Sl,Eo;function S4(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var a in this)a.charAt(0)==="_"&&typeof this[a]=="function"&&(this[a]=this[a].bind(this))}return e.prototype={dragStarted:function(c){var b=c.originalEvent;this.sortable.nativeDraggable?Lt(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Lt(document,"pointermove",this._handleFallbackAutoScroll):b.touches?Lt(document,"touchmove",this._handleFallbackAutoScroll):Lt(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(c){var b=c.originalEvent;!this.options.dragOverBubble&&!b.rootEl&&this._handleAutoScroll(b)},drop:function(){this.sortable.nativeDraggable?xt(document,"dragover",this._handleAutoScroll):(xt(document,"pointermove",this._handleFallbackAutoScroll),xt(document,"touchmove",this._handleFallbackAutoScroll),xt(document,"mousemove",this._handleFallbackAutoScroll)),dv(),ll(),i4()},nulling:function(){Sl=Qu=xo=qu=Eo=ku=Du=null,dr.length=0},_handleFallbackAutoScroll:function(c){this._handleAutoScroll(c,!0)},_handleAutoScroll:function(c,b){var S=this,x=(c.touches?c.touches[0]:c).clientX,l=(c.touches?c.touches[0]:c).clientY,t=document.elementFromPoint(x,l);if(Sl=c,b||this.options.forceAutoScrollFallback||Vo||fi||Do){Iu(c,this.options,t,b);var n=Ri(t,!0);qu&&(!Eo||x!==ku||l!==Du)&&(Eo&&dv(),Eo=setInterval(function(){var i=Ri(document.elementFromPoint(x,l),!0);i!==n&&(n=i,ll()),Iu(c,S.options,i,b)},10),ku=x,Du=l)}else{if(!this.options.bubbleScroll||Ri(t,!0)===Wn()){ll();return}Iu(c,this.options,Ri(t,!1),!1)}}},bn(e,{pluginName:"scroll",initializeByDefault:!0})}function ll(){dr.forEach(function(e){clearInterval(e.pid)}),dr=[]}function dv(){clearInterval(Eo)}var Iu=e_(function(e,a,c,b){if(a.scroll){var S=(e.touches?e.touches[0]:e).clientX,x=(e.touches?e.touches[0]:e).clientY,l=a.scrollSensitivity,t=a.scrollSpeed,n=Wn(),i=!1,h;Qu!==c&&(Qu=c,ll(),xo=a.scroll,h=a.scrollFn,xo===!0&&(xo=Ri(c,!0)));var o=0,u=xo;do{var g=u,_=Qt(g),m=_.top,r=_.bottom,f=_.left,p=_.right,v=_.width,d=_.height,C=void 0,w=void 0,A=g.scrollWidth,E=g.scrollHeight,L=nt(g),D=g.scrollLeft,R=g.scrollTop;g===n?(C=v<A&&(L.overflowX==="auto"||L.overflowX==="scroll"||L.overflowX==="visible"),w=d<E&&(L.overflowY==="auto"||L.overflowY==="scroll"||L.overflowY==="visible")):(C=v<A&&(L.overflowX==="auto"||L.overflowX==="scroll"),w=d<E&&(L.overflowY==="auto"||L.overflowY==="scroll"));var I=C&&(Math.abs(p-S)<=l&&D+v<A)-(Math.abs(f-S)<=l&&!!D),P=w&&(Math.abs(r-x)<=l&&R+d<E)-(Math.abs(m-x)<=l&&!!R);if(!dr[o])for(var $=0;$<=o;$++)dr[$]||(dr[$]={});(dr[o].vx!=I||dr[o].vy!=P||dr[o].el!==g)&&(dr[o].el=g,dr[o].vx=I,dr[o].vy=P,clearInterval(dr[o].pid),(I!=0||P!=0)&&(i=!0,dr[o].pid=setInterval((function(){b&&this.layer===0&&ft.active._onTouchMove(Sl);var F=dr[this.layer].vy?dr[this.layer].vy*t:0,U=dr[this.layer].vx?dr[this.layer].vx*t:0;typeof h=="function"&&h.call(ft.dragged.parentNode[Rr],U,F,e,Sl,dr[this.layer].el)!=="continue"||t_(dr[this.layer].el,U,F)}).bind({layer:o}),24))),o++}while(a.bubbleScroll&&u!==n&&(u=Ri(u,!1)));qu=i}},30),a_=function(a){var c=a.originalEvent,b=a.putSortable,S=a.dragEl,x=a.activeSortable,l=a.dispatchSortableEvent,t=a.hideGhostForTarget,n=a.unhideGhostForTarget;if(c){var i=b||x;t();var h=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:c,o=document.elementFromPoint(h.clientX,h.clientY);n(),i&&!i.el.contains(o)&&(l("spill"),this.onSpill({dragEl:S,putSortable:b}))}};function kh(){}kh.prototype={startIndex:null,dragStart:function(a){var c=a.oldDraggableIndex;this.startIndex=c},onSpill:function(a){var c=a.dragEl,b=a.putSortable;this.sortable.captureAnimationState(),b&&b.captureAnimationState();var S=Vs(this.sortable.el,this.startIndex,this.options);S?this.sortable.el.insertBefore(c,S):this.sortable.el.appendChild(c),this.sortable.animateAll(),b&&b.animateAll()},drop:a_};bn(kh,{pluginName:"revertOnSpill"});function Dh(){}Dh.prototype={onSpill:function(a){var c=a.dragEl,b=a.putSortable,S=b||this.sortable;S.captureAnimationState(),c.parentNode&&c.parentNode.removeChild(c),S.animateAll()},drop:a_};bn(Dh,{pluginName:"removeOnSpill"});var fn;function C4(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(c){var b=c.dragEl;fn=b},dragOverValid:function(c){var b=c.completed,S=c.target,x=c.onMove,l=c.activeSortable,t=c.changed,n=c.cancel;if(l.options.swap){var i=this.sortable.el,h=this.options;if(S&&S!==i){var o=fn;x(S)!==!1?(Zt(S,h.swapClass,!0),fn=S):fn=null,o&&o!==fn&&Zt(o,h.swapClass,!1)}t(),b(!0),n()}},drop:function(c){var b=c.activeSortable,S=c.putSortable,x=c.dragEl,l=S||this.sortable,t=this.options;fn&&Zt(fn,t.swapClass,!1),fn&&(t.swap||S&&S.options.swap)&&x!==fn&&(l.captureAnimationState(),l!==b&&b.captureAnimationState(),w4(x,fn),l.animateAll(),l!==b&&b.animateAll())},nulling:function(){fn=null}},bn(e,{pluginName:"swap",eventProperties:function(){return{swapItem:fn}}})}function w4(e,a){var c=e.parentNode,b=a.parentNode,S,x;!c||!b||c.isEqualNode(a)||b.isEqualNode(e)||(S=sr(e),x=sr(a),c.isEqualNode(b)&&S<x&&x++,c.insertBefore(a,c.children[S]),b.insertBefore(e,b.children[x]))}var gt=[],en=[],go,Tn,_o=!1,Ur=!1,ks=!1,Ut,mo,qa;function x4(){function e(a){for(var c in this)c.charAt(0)==="_"&&typeof this[c]=="function"&&(this[c]=this[c].bind(this));a.options.supportPointer?Lt(document,"pointerup",this._deselectMultiDrag):(Lt(document,"mouseup",this._deselectMultiDrag),Lt(document,"touchend",this._deselectMultiDrag)),Lt(document,"keydown",this._checkKeyDown),Lt(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(S,x){var l="";gt.length&&Tn===a?gt.forEach(function(t,n){l+=(n?", ":"")+t.textContent}):l=x.textContent,S.setData("Text",l)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(c){var b=c.dragEl;Ut=b},delayEnded:function(){this.isMultiDrag=~gt.indexOf(Ut)},setupClone:function(c){var b=c.sortable,S=c.cancel;if(this.isMultiDrag){for(var x=0;x<gt.length;x++)en.push(Rh(gt[x])),en[x].sortableIndex=gt[x].sortableIndex,en[x].draggable=!1,en[x].style["will-change"]="",Zt(en[x],this.options.selectedClass,!1),gt[x]===Ut&&Zt(en[x],this.options.chosenClass,!1);b._hideClone(),S()}},clone:function(c){var b=c.sortable,S=c.rootEl,x=c.dispatchSortableEvent,l=c.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||gt.length&&Tn===b&&(pv(!0,S),x("clone"),l()))},showClone:function(c){var b=c.cloneNowShown,S=c.rootEl,x=c.cancel;this.isMultiDrag&&(pv(!1,S),en.forEach(function(l){nt(l,"display","")}),b(),qa=!1,x())},hideClone:function(c){var b=this;c.sortable;var S=c.cloneNowHidden,x=c.cancel;this.isMultiDrag&&(en.forEach(function(l){nt(l,"display","none"),b.options.removeCloneOnHide&&l.parentNode&&l.parentNode.removeChild(l)}),S(),qa=!0,x())},dragStartGlobal:function(c){c.sortable,!this.isMultiDrag&&Tn&&Tn.multiDrag._deselectMultiDrag(),gt.forEach(function(b){b.sortableIndex=sr(b)}),gt=gt.sort(function(b,S){return b.sortableIndex-S.sortableIndex}),ks=!0},dragStarted:function(c){var b=this,S=c.sortable;if(this.isMultiDrag){if(this.options.sort&&(S.captureAnimationState(),this.options.animation)){gt.forEach(function(l){l!==Ut&&nt(l,"position","absolute")});var x=Qt(Ut,!1,!0,!0);gt.forEach(function(l){l!==Ut&&cv(l,x)}),Ur=!0,_o=!0}S.animateAll(function(){Ur=!1,_o=!1,b.options.animation&&gt.forEach(function(l){Eu(l)}),b.options.sort&&Za()})}},dragOver:function(c){var b=c.target,S=c.completed,x=c.cancel;Ur&&~gt.indexOf(b)&&(S(!1),x())},revert:function(c){var b=c.fromSortable,S=c.rootEl,x=c.sortable,l=c.dragRect;gt.length>1&&(gt.forEach(function(t){x.addAnimationState({target:t,rect:Ur?Qt(t):l}),Eu(t),t.fromRect=l,b.removeAnimationState(t)}),Ur=!1,E4(!this.options.removeCloneOnHide,S))},dragOverCompleted:function(c){var b=c.sortable,S=c.isOwner,x=c.insertion,l=c.activeSortable,t=c.parentEl,n=c.putSortable,i=this.options;if(x){if(S&&l._hideClone(),_o=!1,i.animation&&gt.length>1&&(Ur||!S&&!l.options.sort&&!n)){var h=Qt(Ut,!1,!0,!0);gt.forEach(function(u){u!==Ut&&(cv(u,h),t.appendChild(u))}),Ur=!0}if(!S)if(Ur||Za(),gt.length>1){var o=qa;l._showClone(b),l.options.animation&&!qa&&o&&en.forEach(function(u){l.addAnimationState({target:u,rect:mo}),u.fromRect=mo,u.thisAnimationDuration=null})}else l._showClone(b)}},dragOverAnimationCapture:function(c){var b=c.dragRect,S=c.isOwner,x=c.activeSortable;if(gt.forEach(function(t){t.thisAnimationDuration=null}),x.options.animation&&!S&&x.multiDrag.isMultiDrag){mo=bn({},b);var l=qi(Ut,!0);mo.top-=l.f,mo.left-=l.e}},dragOverAnimationComplete:function(){Ur&&(Ur=!1,Za())},drop:function(c){var b=c.originalEvent,S=c.rootEl,x=c.parentEl,l=c.sortable,t=c.dispatchSortableEvent,n=c.oldIndex,i=c.putSortable,h=i||this.sortable;if(b){var o=this.options,u=x.children;if(!ks)if(o.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),Zt(Ut,o.selectedClass,!~gt.indexOf(Ut)),~gt.indexOf(Ut))gt.splice(gt.indexOf(Ut),1),go=null,Co({sortable:l,rootEl:S,name:"deselect",targetEl:Ut,originalEvt:b});else{if(gt.push(Ut),Co({sortable:l,rootEl:S,name:"select",targetEl:Ut,originalEvt:b}),b.shiftKey&&go&&l.el.contains(go)){var g=sr(go),_=sr(Ut);if(~g&&~_&&g!==_){var m,r;for(_>g?(r=g,m=_):(r=_,m=g+1);r<m;r++)~gt.indexOf(u[r])||(Zt(u[r],o.selectedClass,!0),gt.push(u[r]),Co({sortable:l,rootEl:S,name:"select",targetEl:u[r],originalEvt:b}))}}else go=Ut;Tn=h}if(ks&&this.isMultiDrag){if(Ur=!1,(x[Rr].options.sort||x!==S)&&gt.length>1){var f=Qt(Ut),p=sr(Ut,":not(."+this.options.selectedClass+")");if(!_o&&o.animation&&(Ut.thisAnimationDuration=null),h.captureAnimationState(),!_o&&(o.animation&&(Ut.fromRect=f,gt.forEach(function(d){if(d.thisAnimationDuration=null,d!==Ut){var C=Ur?Qt(d):f;d.fromRect=C,h.addAnimationState({target:d,rect:C})}})),Za(),gt.forEach(function(d){u[p]?x.insertBefore(d,u[p]):x.appendChild(d),p++}),n===sr(Ut))){var v=!1;gt.forEach(function(d){if(d.sortableIndex!==sr(d)){v=!0;return}}),v&&t("update")}gt.forEach(function(d){Eu(d)}),h.animateAll()}Tn=h}(S===x||i&&i.lastPutMode!=="clone")&&en.forEach(function(d){d.parentNode&&d.parentNode.removeChild(d)})}},nullingGlobal:function(){this.isMultiDrag=ks=!1,en.length=0},destroyGlobal:function(){this._deselectMultiDrag(),xt(document,"pointerup",this._deselectMultiDrag),xt(document,"mouseup",this._deselectMultiDrag),xt(document,"touchend",this._deselectMultiDrag),xt(document,"keydown",this._checkKeyDown),xt(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(c){if(!(typeof ks<"u"&&ks)&&Tn===this.sortable&&!(c&&Ln(c.target,this.options.draggable,this.sortable.el,!1))&&!(c&&c.button!==0))for(;gt.length;){var b=gt[0];Zt(b,this.options.selectedClass,!1),gt.shift(),Co({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:b,originalEvt:c})}},_checkKeyDown:function(c){c.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(c){c.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},bn(e,{pluginName:"multiDrag",utils:{select:function(c){var b=c.parentNode[Rr];!b||!b.options.multiDrag||~gt.indexOf(c)||(Tn&&Tn!==b&&(Tn.multiDrag._deselectMultiDrag(),Tn=b),Zt(c,b.options.selectedClass,!0),gt.push(c))},deselect:function(c){var b=c.parentNode[Rr],S=gt.indexOf(c);!b||!b.options.multiDrag||!~S||(Zt(c,b.options.selectedClass,!1),gt.splice(S,1))}},eventProperties:function(){var c=this,b=[],S=[];return gt.forEach(function(x){b.push({multiDragElement:x,index:x.sortableIndex});var l;Ur&&x!==Ut?l=-1:Ur?l=sr(x,":not(."+c.options.selectedClass+")"):l=sr(x),S.push({multiDragElement:x,index:l})}),{items:YP(gt),clones:[].concat(en),oldIndicies:b,newIndicies:S}},optionListeners:{multiDragKey:function(c){return c=c.toLowerCase(),c==="ctrl"?c="Control":c.length>1&&(c=c.charAt(0).toUpperCase()+c.substr(1)),c}}})}function E4(e,a){gt.forEach(function(c,b){var S=a.children[c.sortableIndex+(e?Number(b):0)];S?a.insertBefore(c,S):a.appendChild(c)})}function pv(e,a){en.forEach(function(c,b){var S=a.children[c.sortableIndex+(e?Number(b):0)];S?a.insertBefore(c,S):a.appendChild(c)})}function Za(){gt.forEach(function(e){e!==Ut&&e.parentNode&&e.parentNode.removeChild(e)})}ft.mount(new S4);ft.mount(Dh,kh);const A4=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:x4,Sortable:ft,Swap:C4,default:ft},Symbol.toStringTag,{value:"Module"})),T4=pC(A4);(function(e,a){(function(b,S){e.exports=S(mv,T4)})(typeof self<"u"?self:Ar,function(c,b){return function(S){var x={};function l(t){if(x[t])return x[t].exports;var n=x[t]={i:t,l:!1,exports:{}};return S[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}return l.m=S,l.c=x,l.d=function(t,n,i){l.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},l.r=function(t){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,n){if(n&1&&(t=l(t)),n&8||n&4&&typeof t=="object"&&t&&t.__esModule)return t;var i=Object.create(null);if(l.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),n&2&&typeof t!="string")for(var h in t)l.d(i,h,(function(o){return t[o]}).bind(null,h));return i},l.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return l.d(n,"a",n),n},l.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},l.p="",l(l.s="fb15")}({"00ee":function(S,x,l){var t=l("b622"),n=t("toStringTag"),i={};i[n]="z",S.exports=String(i)==="[object z]"},"0366":function(S,x,l){var t=l("1c0b");S.exports=function(n,i,h){if(t(n),i===void 0)return n;switch(h){case 0:return function(){return n.call(i)};case 1:return function(o){return n.call(i,o)};case 2:return function(o,u){return n.call(i,o,u)};case 3:return function(o,u,g){return n.call(i,o,u,g)}}return function(){return n.apply(i,arguments)}}},"057f":function(S,x,l){var t=l("fc6a"),n=l("241c").f,i={}.toString,h=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],o=function(u){try{return n(u)}catch{return h.slice()}};S.exports.f=function(g){return h&&i.call(g)=="[object Window]"?o(g):n(t(g))}},"06cf":function(S,x,l){var t=l("83ab"),n=l("d1e7"),i=l("5c6c"),h=l("fc6a"),o=l("c04e"),u=l("5135"),g=l("0cfb"),_=Object.getOwnPropertyDescriptor;x.f=t?_:function(r,f){if(r=h(r),f=o(f,!0),g)try{return _(r,f)}catch{}if(u(r,f))return i(!n.f.call(r,f),r[f])}},"0cfb":function(S,x,l){var t=l("83ab"),n=l("d039"),i=l("cc12");S.exports=!t&&!n(function(){return Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(S,x,l){var t=l("23e7"),n=l("d58f").left,i=l("a640"),h=l("ae40"),o=i("reduce"),u=h("reduce",{1:0});t({target:"Array",proto:!0,forced:!o||!u},{reduce:function(_){return n(this,_,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(S,x,l){var t=l("c6b6"),n=l("9263");S.exports=function(i,h){var o=i.exec;if(typeof o=="function"){var u=o.call(i,h);if(typeof u!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return u}if(t(i)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return n.call(i,h)}},"159b":function(S,x,l){var t=l("da84"),n=l("fdbc"),i=l("17c2"),h=l("9112");for(var o in n){var u=t[o],g=u&&u.prototype;if(g&&g.forEach!==i)try{h(g,"forEach",i)}catch{g.forEach=i}}},"17c2":function(S,x,l){var t=l("b727").forEach,n=l("a640"),i=l("ae40"),h=n("forEach"),o=i("forEach");S.exports=!h||!o?function(g){return t(this,g,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(S,x,l){var t=l("d066");S.exports=t("document","documentElement")},"1c0b":function(S,x){S.exports=function(l){if(typeof l!="function")throw TypeError(String(l)+" is not a function");return l}},"1c7e":function(S,x,l){var t=l("b622"),n=t("iterator"),i=!1;try{var h=0,o={next:function(){return{done:!!h++}},return:function(){i=!0}};o[n]=function(){return this},Array.from(o,function(){throw 2})}catch{}S.exports=function(u,g){if(!g&&!i)return!1;var _=!1;try{var m={};m[n]=function(){return{next:function(){return{done:_=!0}}}},u(m)}catch{}return _}},"1d80":function(S,x){S.exports=function(l){if(l==null)throw TypeError("Can't call method on "+l);return l}},"1dde":function(S,x,l){var t=l("d039"),n=l("b622"),i=l("2d00"),h=n("species");S.exports=function(o){return i>=51||!t(function(){var u=[],g=u.constructor={};return g[h]=function(){return{foo:1}},u[o](Boolean).foo!==1})}},"23cb":function(S,x,l){var t=l("a691"),n=Math.max,i=Math.min;S.exports=function(h,o){var u=t(h);return u<0?n(u+o,0):i(u,o)}},"23e7":function(S,x,l){var t=l("da84"),n=l("06cf").f,i=l("9112"),h=l("6eeb"),o=l("ce4e"),u=l("e893"),g=l("94ca");S.exports=function(_,m){var r=_.target,f=_.global,p=_.stat,v,d,C,w,A,E;if(f?d=t:p?d=t[r]||o(r,{}):d=(t[r]||{}).prototype,d)for(C in m){if(A=m[C],_.noTargetGet?(E=n(d,C),w=E&&E.value):w=d[C],v=g(f?C:r+(p?".":"#")+C,_.forced),!v&&w!==void 0){if(typeof A==typeof w)continue;u(A,w)}(_.sham||w&&w.sham)&&i(A,"sham",!0),h(d,C,A,_)}}},"241c":function(S,x,l){var t=l("ca84"),n=l("7839"),i=n.concat("length","prototype");x.f=Object.getOwnPropertyNames||function(o){return t(o,i)}},"25f0":function(S,x,l){var t=l("6eeb"),n=l("825a"),i=l("d039"),h=l("ad6d"),o="toString",u=RegExp.prototype,g=u[o],_=i(function(){return g.call({source:"a",flags:"b"})!="/a/b"}),m=g.name!=o;(_||m)&&t(RegExp.prototype,o,function(){var f=n(this),p=String(f.source),v=f.flags,d=String(v===void 0&&f instanceof RegExp&&!("flags"in u)?h.call(f):v);return"/"+p+"/"+d},{unsafe:!0})},"2ca0":function(S,x,l){var t=l("23e7"),n=l("06cf").f,i=l("50c4"),h=l("5a34"),o=l("1d80"),u=l("ab13"),g=l("c430"),_="".startsWith,m=Math.min,r=u("startsWith"),f=!g&&!r&&!!function(){var p=n(String.prototype,"startsWith");return p&&!p.writable}();t({target:"String",proto:!0,forced:!f&&!r},{startsWith:function(v){var d=String(o(this));h(v);var C=i(m(arguments.length>1?arguments[1]:void 0,d.length)),w=String(v);return _?_.call(d,w,C):d.slice(C,C+w.length)===w}})},"2d00":function(S,x,l){var t=l("da84"),n=l("342f"),i=t.process,h=i&&i.versions,o=h&&h.v8,u,g;o?(u=o.split("."),g=u[0]+u[1]):n&&(u=n.match(/Edge\/(\d+)/),(!u||u[1]>=74)&&(u=n.match(/Chrome\/(\d+)/),u&&(g=u[1]))),S.exports=g&&+g},"342f":function(S,x,l){var t=l("d066");S.exports=t("navigator","userAgent")||""},"35a1":function(S,x,l){var t=l("f5df"),n=l("3f8c"),i=l("b622"),h=i("iterator");S.exports=function(o){if(o!=null)return o[h]||o["@@iterator"]||n[t(o)]}},"37e8":function(S,x,l){var t=l("83ab"),n=l("9bf2"),i=l("825a"),h=l("df75");S.exports=t?Object.defineProperties:function(u,g){i(u);for(var _=h(g),m=_.length,r=0,f;m>r;)n.f(u,f=_[r++],g[f]);return u}},"3bbe":function(S,x,l){var t=l("861d");S.exports=function(n){if(!t(n)&&n!==null)throw TypeError("Can't set "+String(n)+" as a prototype");return n}},"3ca3":function(S,x,l){var t=l("6547").charAt,n=l("69f3"),i=l("7dd0"),h="String Iterator",o=n.set,u=n.getterFor(h);i(String,"String",function(g){o(this,{type:h,string:String(g),index:0})},function(){var _=u(this),m=_.string,r=_.index,f;return r>=m.length?{value:void 0,done:!0}:(f=t(m,r),_.index+=f.length,{value:f,done:!1})})},"3f8c":function(S,x){S.exports={}},4160:function(S,x,l){var t=l("23e7"),n=l("17c2");t({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},"428f":function(S,x,l){var t=l("da84");S.exports=t},"44ad":function(S,x,l){var t=l("d039"),n=l("c6b6"),i="".split;S.exports=t(function(){return!Object("z").propertyIsEnumerable(0)})?function(h){return n(h)=="String"?i.call(h,""):Object(h)}:Object},"44d2":function(S,x,l){var t=l("b622"),n=l("7c73"),i=l("9bf2"),h=t("unscopables"),o=Array.prototype;o[h]==null&&i.f(o,h,{configurable:!0,value:n(null)}),S.exports=function(u){o[h][u]=!0}},"44e7":function(S,x,l){var t=l("861d"),n=l("c6b6"),i=l("b622"),h=i("match");S.exports=function(o){var u;return t(o)&&((u=o[h])!==void 0?!!u:n(o)=="RegExp")}},4930:function(S,x,l){var t=l("d039");S.exports=!!Object.getOwnPropertySymbols&&!t(function(){return!String(Symbol())})},"4d64":function(S,x,l){var t=l("fc6a"),n=l("50c4"),i=l("23cb"),h=function(o){return function(u,g,_){var m=t(u),r=n(m.length),f=i(_,r),p;if(o&&g!=g){for(;r>f;)if(p=m[f++],p!=p)return!0}else for(;r>f;f++)if((o||f in m)&&m[f]===g)return o||f||0;return!o&&-1}};S.exports={includes:h(!0),indexOf:h(!1)}},"4de4":function(S,x,l){var t=l("23e7"),n=l("b727").filter,i=l("1dde"),h=l("ae40"),o=i("filter"),u=h("filter");t({target:"Array",proto:!0,forced:!o||!u},{filter:function(_){return n(this,_,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(S,x,l){var t=l("0366"),n=l("7b0b"),i=l("9bdd"),h=l("e95a"),o=l("50c4"),u=l("8418"),g=l("35a1");S.exports=function(m){var r=n(m),f=typeof this=="function"?this:Array,p=arguments.length,v=p>1?arguments[1]:void 0,d=v!==void 0,C=g(r),w=0,A,E,L,D,R,I;if(d&&(v=t(v,p>2?arguments[2]:void 0,2)),C!=null&&!(f==Array&&h(C)))for(D=C.call(r),R=D.next,E=new f;!(L=R.call(D)).done;w++)I=d?i(D,v,[L.value,w],!0):L.value,u(E,w,I);else for(A=o(r.length),E=new f(A);A>w;w++)I=d?v(r[w],w):r[w],u(E,w,I);return E.length=w,E}},"4fad":function(S,x,l){var t=l("23e7"),n=l("6f53").entries;t({target:"Object",stat:!0},{entries:function(h){return n(h)}})},"50c4":function(S,x,l){var t=l("a691"),n=Math.min;S.exports=function(i){return i>0?n(t(i),9007199254740991):0}},5135:function(S,x){var l={}.hasOwnProperty;S.exports=function(t,n){return l.call(t,n)}},5319:function(S,x,l){var t=l("d784"),n=l("825a"),i=l("7b0b"),h=l("50c4"),o=l("a691"),u=l("1d80"),g=l("8aa5"),_=l("14c3"),m=Math.max,r=Math.min,f=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g,d=function(C){return C===void 0?C:String(C)};t("replace",2,function(C,w,A,E){var L=E.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,D=E.REPLACE_KEEPS_$0,R=L?"$":"$0";return[function($,F){var U=u(this),Y=$==null?void 0:$[C];return Y!==void 0?Y.call($,U,F):w.call(String(U),$,F)},function(P,$){if(!L&&D||typeof $=="string"&&$.indexOf(R)===-1){var F=A(w,P,this,$);if(F.done)return F.value}var U=n(P),Y=String(this),k=typeof $=="function";k||($=String($));var H=U.global;if(H){var z=U.unicode;U.lastIndex=0}for(var X=[];;){var te=_(U,Y);if(te===null||(X.push(te),!H))break;var J=String(te[0]);J===""&&(U.lastIndex=g(Y,h(U.lastIndex),z))}for(var V="",se=0,be=0;be<X.length;be++){te=X[be];for(var B=String(te[0]),j=m(r(o(te.index),Y.length),0),N=[],Q=1;Q<te.length;Q++)N.push(d(te[Q]));var ce=te.groups;if(k){var ue=[B].concat(N,j,Y);ce!==void 0&&ue.push(ce);var pe=String($.apply(void 0,ue))}else pe=I(B,Y,j,N,ce,$);j>=se&&(V+=Y.slice(se,j)+pe,se=j+B.length)}return V+Y.slice(se)}];function I(P,$,F,U,Y,k){var H=F+P.length,z=U.length,X=v;return Y!==void 0&&(Y=i(Y),X=p),w.call(k,X,function(te,J){var V;switch(J.charAt(0)){case"$":return"$";case"&":return P;case"`":return $.slice(0,F);case"'":return $.slice(H);case"<":V=Y[J.slice(1,-1)];break;default:var se=+J;if(se===0)return te;if(se>z){var be=f(se/10);return be===0?te:be<=z?U[be-1]===void 0?J.charAt(1):U[be-1]+J.charAt(1):te}V=U[se-1]}return V===void 0?"":V})}})},5692:function(S,x,l){var t=l("c430"),n=l("c6cd");(S.exports=function(i,h){return n[i]||(n[i]=h!==void 0?h:{})})("versions",[]).push({version:"3.6.5",mode:t?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(S,x,l){var t=l("d066"),n=l("241c"),i=l("7418"),h=l("825a");S.exports=t("Reflect","ownKeys")||function(u){var g=n.f(h(u)),_=i.f;return _?g.concat(_(u)):g}},"5a34":function(S,x,l){var t=l("44e7");S.exports=function(n){if(t(n))throw TypeError("The method doesn't accept regular expressions");return n}},"5c6c":function(S,x){S.exports=function(l,t){return{enumerable:!(l&1),configurable:!(l&2),writable:!(l&4),value:t}}},"5db7":function(S,x,l){var t=l("23e7"),n=l("a2bf"),i=l("7b0b"),h=l("50c4"),o=l("1c0b"),u=l("65f0");t({target:"Array",proto:!0},{flatMap:function(_){var m=i(this),r=h(m.length),f;return o(_),f=u(m,0),f.length=n(f,m,m,r,0,1,_,arguments.length>1?arguments[1]:void 0),f}})},6547:function(S,x,l){var t=l("a691"),n=l("1d80"),i=function(h){return function(o,u){var g=String(n(o)),_=t(u),m=g.length,r,f;return _<0||_>=m?h?"":void 0:(r=g.charCodeAt(_),r<55296||r>56319||_+1===m||(f=g.charCodeAt(_+1))<56320||f>57343?h?g.charAt(_):r:h?g.slice(_,_+2):(r-55296<<10)+(f-56320)+65536)}};S.exports={codeAt:i(!1),charAt:i(!0)}},"65f0":function(S,x,l){var t=l("861d"),n=l("e8b5"),i=l("b622"),h=i("species");S.exports=function(o,u){var g;return n(o)&&(g=o.constructor,typeof g=="function"&&(g===Array||n(g.prototype))?g=void 0:t(g)&&(g=g[h],g===null&&(g=void 0))),new(g===void 0?Array:g)(u===0?0:u)}},"69f3":function(S,x,l){var t=l("7f9a"),n=l("da84"),i=l("861d"),h=l("9112"),o=l("5135"),u=l("f772"),g=l("d012"),_=n.WeakMap,m,r,f,p=function(L){return f(L)?r(L):m(L,{})},v=function(L){return function(D){var R;if(!i(D)||(R=r(D)).type!==L)throw TypeError("Incompatible receiver, "+L+" required");return R}};if(t){var d=new _,C=d.get,w=d.has,A=d.set;m=function(L,D){return A.call(d,L,D),D},r=function(L){return C.call(d,L)||{}},f=function(L){return w.call(d,L)}}else{var E=u("state");g[E]=!0,m=function(L,D){return h(L,E,D),D},r=function(L){return o(L,E)?L[E]:{}},f=function(L){return o(L,E)}}S.exports={set:m,get:r,has:f,enforce:p,getterFor:v}},"6eeb":function(S,x,l){var t=l("da84"),n=l("9112"),i=l("5135"),h=l("ce4e"),o=l("8925"),u=l("69f3"),g=u.get,_=u.enforce,m=String(String).split("String");(S.exports=function(r,f,p,v){var d=v?!!v.unsafe:!1,C=v?!!v.enumerable:!1,w=v?!!v.noTargetGet:!1;if(typeof p=="function"&&(typeof f=="string"&&!i(p,"name")&&n(p,"name",f),_(p).source=m.join(typeof f=="string"?f:"")),r===t){C?r[f]=p:h(f,p);return}else d?!w&&r[f]&&(C=!0):delete r[f];C?r[f]=p:n(r,f,p)})(Function.prototype,"toString",function(){return typeof this=="function"&&g(this).source||o(this)})},"6f53":function(S,x,l){var t=l("83ab"),n=l("df75"),i=l("fc6a"),h=l("d1e7").f,o=function(u){return function(g){for(var _=i(g),m=n(_),r=m.length,f=0,p=[],v;r>f;)v=m[f++],(!t||h.call(_,v))&&p.push(u?[v,_[v]]:_[v]);return p}};S.exports={entries:o(!0),values:o(!1)}},"73d9":function(S,x,l){var t=l("44d2");t("flatMap")},7418:function(S,x){x.f=Object.getOwnPropertySymbols},"746f":function(S,x,l){var t=l("428f"),n=l("5135"),i=l("e538"),h=l("9bf2").f;S.exports=function(o){var u=t.Symbol||(t.Symbol={});n(u,o)||h(u,o,{value:i.f(o)})}},7839:function(S,x){S.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(S,x,l){var t=l("1d80");S.exports=function(n){return Object(t(n))}},"7c73":function(S,x,l){var t=l("825a"),n=l("37e8"),i=l("7839"),h=l("d012"),o=l("1be4"),u=l("cc12"),g=l("f772"),_=">",m="<",r="prototype",f="script",p=g("IE_PROTO"),v=function(){},d=function(L){return m+f+_+L+m+"/"+f+_},C=function(L){L.write(d("")),L.close();var D=L.parentWindow.Object;return L=null,D},w=function(){var L=u("iframe"),D="java"+f+":",R;return L.style.display="none",o.appendChild(L),L.src=String(D),R=L.contentWindow.document,R.open(),R.write(d("document.F=Object")),R.close(),R.F},A,E=function(){try{A=document.domain&&new ActiveXObject("htmlfile")}catch{}E=A?C(A):w();for(var L=i.length;L--;)delete E[r][i[L]];return E()};h[p]=!0,S.exports=Object.create||function(D,R){var I;return D!==null?(v[r]=t(D),I=new v,v[r]=null,I[p]=D):I=E(),R===void 0?I:n(I,R)}},"7dd0":function(S,x,l){var t=l("23e7"),n=l("9ed3"),i=l("e163"),h=l("d2bb"),o=l("d44e"),u=l("9112"),g=l("6eeb"),_=l("b622"),m=l("c430"),r=l("3f8c"),f=l("ae93"),p=f.IteratorPrototype,v=f.BUGGY_SAFARI_ITERATORS,d=_("iterator"),C="keys",w="values",A="entries",E=function(){return this};S.exports=function(L,D,R,I,P,$,F){n(R,D,I);var U=function(be){if(be===P&&X)return X;if(!v&&be in H)return H[be];switch(be){case C:return function(){return new R(this,be)};case w:return function(){return new R(this,be)};case A:return function(){return new R(this,be)}}return function(){return new R(this)}},Y=D+" Iterator",k=!1,H=L.prototype,z=H[d]||H["@@iterator"]||P&&H[P],X=!v&&z||U(P),te=D=="Array"&&H.entries||z,J,V,se;if(te&&(J=i(te.call(new L)),p!==Object.prototype&&J.next&&(!m&&i(J)!==p&&(h?h(J,p):typeof J[d]!="function"&&u(J,d,E)),o(J,Y,!0,!0),m&&(r[Y]=E))),P==w&&z&&z.name!==w&&(k=!0,X=function(){return z.call(this)}),(!m||F)&&H[d]!==X&&u(H,d,X),r[D]=X,P)if(V={values:U(w),keys:$?X:U(C),entries:U(A)},F)for(se in V)(v||k||!(se in H))&&g(H,se,V[se]);else t({target:D,proto:!0,forced:v||k},V);return V}},"7f9a":function(S,x,l){var t=l("da84"),n=l("8925"),i=t.WeakMap;S.exports=typeof i=="function"&&/native code/.test(n(i))},"825a":function(S,x,l){var t=l("861d");S.exports=function(n){if(!t(n))throw TypeError(String(n)+" is not an object");return n}},"83ab":function(S,x,l){var t=l("d039");S.exports=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(S,x,l){var t=l("c04e"),n=l("9bf2"),i=l("5c6c");S.exports=function(h,o,u){var g=t(o);g in h?n.f(h,g,i(0,u)):h[g]=u}},"861d":function(S,x){S.exports=function(l){return typeof l=="object"?l!==null:typeof l=="function"}},8875:function(S,x,l){var t,n,i;(function(h,o){n=[],t=o,i=typeof t=="function"?t.apply(x,n):t,i!==void 0&&(S.exports=i)})(typeof self<"u"?self:this,function(){function h(){var o=Object.getOwnPropertyDescriptor(document,"currentScript");if(!o&&"currentScript"in document&&document.currentScript||o&&o.get!==h&&document.currentScript)return document.currentScript;try{throw new Error}catch(A){var u=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,g=/@([^@]*):(\d+):(\d+)\s*$/ig,_=u.exec(A.stack)||g.exec(A.stack),m=_&&_[1]||!1,r=_&&_[2]||!1,f=document.location.href.replace(document.location.hash,""),p,v,d,C=document.getElementsByTagName("script");m===f&&(p=document.documentElement.outerHTML,v=new RegExp("(?:[^\\n]+?\\n){0,"+(r-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),d=p.replace(v,"$1").trim());for(var w=0;w<C.length;w++)if(C[w].readyState==="interactive"||C[w].src===m||m===f&&C[w].innerHTML&&C[w].innerHTML.trim()===d)return C[w];return null}}return h})},8925:function(S,x,l){var t=l("c6cd"),n=Function.toString;typeof t.inspectSource!="function"&&(t.inspectSource=function(i){return n.call(i)}),S.exports=t.inspectSource},"8aa5":function(S,x,l){var t=l("6547").charAt;S.exports=function(n,i,h){return i+(h?t(n,i).length:1)}},"8bbf":function(S,x){S.exports=c},"90e3":function(S,x){var l=0,t=Math.random();S.exports=function(n){return"Symbol("+String(n===void 0?"":n)+")_"+(++l+t).toString(36)}},9112:function(S,x,l){var t=l("83ab"),n=l("9bf2"),i=l("5c6c");S.exports=t?function(h,o,u){return n.f(h,o,i(1,u))}:function(h,o,u){return h[o]=u,h}},9263:function(S,x,l){var t=l("ad6d"),n=l("9f7f"),i=RegExp.prototype.exec,h=String.prototype.replace,o=i,u=function(){var r=/a/,f=/b*/g;return i.call(r,"a"),i.call(f,"a"),r.lastIndex!==0||f.lastIndex!==0}(),g=n.UNSUPPORTED_Y||n.BROKEN_CARET,_=/()??/.exec("")[1]!==void 0,m=u||_||g;m&&(o=function(f){var p=this,v,d,C,w,A=g&&p.sticky,E=t.call(p),L=p.source,D=0,R=f;return A&&(E=E.replace("y",""),E.indexOf("g")===-1&&(E+="g"),R=String(f).slice(p.lastIndex),p.lastIndex>0&&(!p.multiline||p.multiline&&f[p.lastIndex-1]!==`
`)&&(L="(?: "+L+")",R=" "+R,D++),d=new RegExp("^(?:"+L+")",E)),_&&(d=new RegExp("^"+L+"$(?!\\s)",E)),u&&(v=p.lastIndex),C=i.call(A?d:p,R),A?C?(C.input=C.input.slice(D),C[0]=C[0].slice(D),C.index=p.lastIndex,p.lastIndex+=C[0].length):p.lastIndex=0:u&&C&&(p.lastIndex=p.global?C.index+C[0].length:v),_&&C&&C.length>1&&h.call(C[0],d,function(){for(w=1;w<arguments.length-2;w++)arguments[w]===void 0&&(C[w]=void 0)}),C}),S.exports=o},"94ca":function(S,x,l){var t=l("d039"),n=/#|\.prototype\./,i=function(_,m){var r=o[h(_)];return r==g?!0:r==u?!1:typeof m=="function"?t(m):!!m},h=i.normalize=function(_){return String(_).replace(n,".").toLowerCase()},o=i.data={},u=i.NATIVE="N",g=i.POLYFILL="P";S.exports=i},"99af":function(S,x,l){var t=l("23e7"),n=l("d039"),i=l("e8b5"),h=l("861d"),o=l("7b0b"),u=l("50c4"),g=l("8418"),_=l("65f0"),m=l("1dde"),r=l("b622"),f=l("2d00"),p=r("isConcatSpreadable"),v=9007199254740991,d="Maximum allowed index exceeded",C=f>=51||!n(function(){var L=[];return L[p]=!1,L.concat()[0]!==L}),w=m("concat"),A=function(L){if(!h(L))return!1;var D=L[p];return D!==void 0?!!D:i(L)},E=!C||!w;t({target:"Array",proto:!0,forced:E},{concat:function(D){var R=o(this),I=_(R,0),P=0,$,F,U,Y,k;for($=-1,U=arguments.length;$<U;$++)if(k=$===-1?R:arguments[$],A(k)){if(Y=u(k.length),P+Y>v)throw TypeError(d);for(F=0;F<Y;F++,P++)F in k&&g(I,P,k[F])}else{if(P>=v)throw TypeError(d);g(I,P++,k)}return I.length=P,I}})},"9bdd":function(S,x,l){var t=l("825a");S.exports=function(n,i,h,o){try{return o?i(t(h)[0],h[1]):i(h)}catch(g){var u=n.return;throw u!==void 0&&t(u.call(n)),g}}},"9bf2":function(S,x,l){var t=l("83ab"),n=l("0cfb"),i=l("825a"),h=l("c04e"),o=Object.defineProperty;x.f=t?o:function(g,_,m){if(i(g),_=h(_,!0),i(m),n)try{return o(g,_,m)}catch{}if("get"in m||"set"in m)throw TypeError("Accessors not supported");return"value"in m&&(g[_]=m.value),g}},"9ed3":function(S,x,l){var t=l("ae93").IteratorPrototype,n=l("7c73"),i=l("5c6c"),h=l("d44e"),o=l("3f8c"),u=function(){return this};S.exports=function(g,_,m){var r=_+" Iterator";return g.prototype=n(t,{next:i(1,m)}),h(g,r,!1,!0),o[r]=u,g}},"9f7f":function(S,x,l){var t=l("d039");function n(i,h){return RegExp(i,h)}x.UNSUPPORTED_Y=t(function(){var i=n("a","y");return i.lastIndex=2,i.exec("abcd")!=null}),x.BROKEN_CARET=t(function(){var i=n("^r","gy");return i.lastIndex=2,i.exec("str")!=null})},a2bf:function(S,x,l){var t=l("e8b5"),n=l("50c4"),i=l("0366"),h=function(o,u,g,_,m,r,f,p){for(var v=m,d=0,C=f?i(f,p,3):!1,w;d<_;){if(d in g){if(w=C?C(g[d],d,u):g[d],r>0&&t(w))v=h(o,u,w,n(w.length),v,r-1)-1;else{if(v>=9007199254740991)throw TypeError("Exceed the acceptable array length");o[v]=w}v++}d++}return v};S.exports=h},a352:function(S,x){S.exports=b},a434:function(S,x,l){var t=l("23e7"),n=l("23cb"),i=l("a691"),h=l("50c4"),o=l("7b0b"),u=l("65f0"),g=l("8418"),_=l("1dde"),m=l("ae40"),r=_("splice"),f=m("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,v=Math.min,d=9007199254740991,C="Maximum allowed length exceeded";t({target:"Array",proto:!0,forced:!r||!f},{splice:function(A,E){var L=o(this),D=h(L.length),R=n(A,D),I=arguments.length,P,$,F,U,Y,k;if(I===0?P=$=0:I===1?(P=0,$=D-R):(P=I-2,$=v(p(i(E),0),D-R)),D+P-$>d)throw TypeError(C);for(F=u(L,$),U=0;U<$;U++)Y=R+U,Y in L&&g(F,U,L[Y]);if(F.length=$,P<$){for(U=R;U<D-$;U++)Y=U+$,k=U+P,Y in L?L[k]=L[Y]:delete L[k];for(U=D;U>D-$+P;U--)delete L[U-1]}else if(P>$)for(U=D-$;U>R;U--)Y=U+$-1,k=U+P-1,Y in L?L[k]=L[Y]:delete L[k];for(U=0;U<P;U++)L[U+R]=arguments[U+2];return L.length=D-$+P,F}})},a4d3:function(S,x,l){var t=l("23e7"),n=l("da84"),i=l("d066"),h=l("c430"),o=l("83ab"),u=l("4930"),g=l("fdbf"),_=l("d039"),m=l("5135"),r=l("e8b5"),f=l("861d"),p=l("825a"),v=l("7b0b"),d=l("fc6a"),C=l("c04e"),w=l("5c6c"),A=l("7c73"),E=l("df75"),L=l("241c"),D=l("057f"),R=l("7418"),I=l("06cf"),P=l("9bf2"),$=l("d1e7"),F=l("9112"),U=l("6eeb"),Y=l("5692"),k=l("f772"),H=l("d012"),z=l("90e3"),X=l("b622"),te=l("e538"),J=l("746f"),V=l("d44e"),se=l("69f3"),be=l("b727").forEach,B=k("hidden"),j="Symbol",N="prototype",Q=X("toPrimitive"),ce=se.set,ue=se.getterFor(j),pe=Object[N],Te=n.Symbol,ve=i("JSON","stringify"),Ce=I.f,xe=P.f,qe=D.f,lt=$.f,Ve=Y("symbols"),tt=Y("op-symbols"),Be=Y("string-to-symbol-registry"),Qe=Y("symbol-to-string-registry"),Fe=Y("wks"),Ge=n.QObject,ot=!Ge||!Ge[N]||!Ge[N].findChild,Ye=o&&_(function(){return A(xe({},"a",{get:function(){return xe(this,"a",{value:7}).a}})).a!=7})?function(Ee,Ie,je){var Ne=Ce(pe,Ie);Ne&&delete pe[Ie],xe(Ee,Ie,je),Ne&&Ee!==pe&&xe(pe,Ie,Ne)}:xe,Xe=function(Ee,Ie){var je=Ve[Ee]=A(Te[N]);return ce(je,{type:j,tag:Ee,description:Ie}),o||(je.description=Ie),je},_e=g?function(Ee){return typeof Ee=="symbol"}:function(Ee){return Object(Ee)instanceof Te},le=function(Ie,je,Ne){Ie===pe&&le(tt,je,Ne),p(Ie);var et=C(je,!0);return p(Ne),m(Ve,et)?(Ne.enumerable?(m(Ie,B)&&Ie[B][et]&&(Ie[B][et]=!1),Ne=A(Ne,{enumerable:w(0,!1)})):(m(Ie,B)||xe(Ie,B,w(1,{})),Ie[B][et]=!0),Ye(Ie,et,Ne)):xe(Ie,et,Ne)},me=function(Ie,je){p(Ie);var Ne=d(je),et=E(Ne).concat(de(Ne));return be(et,function(dt){(!o||Re.call(Ne,dt))&&le(Ie,dt,Ne[dt])}),Ie},fe=function(Ie,je){return je===void 0?A(Ie):me(A(Ie),je)},Re=function(Ie){var je=C(Ie,!0),Ne=lt.call(this,je);return this===pe&&m(Ve,je)&&!m(tt,je)?!1:Ne||!m(this,je)||!m(Ve,je)||m(this,B)&&this[B][je]?Ne:!0},q=function(Ie,je){var Ne=d(Ie),et=C(je,!0);if(!(Ne===pe&&m(Ve,et)&&!m(tt,et))){var dt=Ce(Ne,et);return dt&&m(Ve,et)&&!(m(Ne,B)&&Ne[B][et])&&(dt.enumerable=!0),dt}},ne=function(Ie){var je=qe(d(Ie)),Ne=[];return be(je,function(et){!m(Ve,et)&&!m(H,et)&&Ne.push(et)}),Ne},de=function(Ie){var je=Ie===pe,Ne=qe(je?tt:d(Ie)),et=[];return be(Ne,function(dt){m(Ve,dt)&&(!je||m(pe,dt))&&et.push(Ve[dt])}),et};if(u||(Te=function(){if(this instanceof Te)throw TypeError("Symbol is not a constructor");var Ie=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),je=z(Ie),Ne=function(et){this===pe&&Ne.call(tt,et),m(this,B)&&m(this[B],je)&&(this[B][je]=!1),Ye(this,je,w(1,et))};return o&&ot&&Ye(pe,je,{configurable:!0,set:Ne}),Xe(je,Ie)},U(Te[N],"toString",function(){return ue(this).tag}),U(Te,"withoutSetter",function(Ee){return Xe(z(Ee),Ee)}),$.f=Re,P.f=le,I.f=q,L.f=D.f=ne,R.f=de,te.f=function(Ee){return Xe(X(Ee),Ee)},o&&(xe(Te[N],"description",{configurable:!0,get:function(){return ue(this).description}}),h||U(pe,"propertyIsEnumerable",Re,{unsafe:!0}))),t({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:Te}),be(E(Fe),function(Ee){J(Ee)}),t({target:j,stat:!0,forced:!u},{for:function(Ee){var Ie=String(Ee);if(m(Be,Ie))return Be[Ie];var je=Te(Ie);return Be[Ie]=je,Qe[je]=Ie,je},keyFor:function(Ie){if(!_e(Ie))throw TypeError(Ie+" is not a symbol");if(m(Qe,Ie))return Qe[Ie]},useSetter:function(){ot=!0},useSimple:function(){ot=!1}}),t({target:"Object",stat:!0,forced:!u,sham:!o},{create:fe,defineProperty:le,defineProperties:me,getOwnPropertyDescriptor:q}),t({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:ne,getOwnPropertySymbols:de}),t({target:"Object",stat:!0,forced:_(function(){R.f(1)})},{getOwnPropertySymbols:function(Ie){return R.f(v(Ie))}}),ve){var we=!u||_(function(){var Ee=Te();return ve([Ee])!="[null]"||ve({a:Ee})!="{}"||ve(Object(Ee))!="{}"});t({target:"JSON",stat:!0,forced:we},{stringify:function(Ie,je,Ne){for(var et=[Ie],dt=1,tr;arguments.length>dt;)et.push(arguments[dt++]);if(tr=je,!(!f(je)&&Ie===void 0||_e(Ie)))return r(je)||(je=function(hr,mr){if(typeof tr=="function"&&(mr=tr.call(this,hr,mr)),!_e(mr))return mr}),et[1]=je,ve.apply(null,et)}})}Te[N][Q]||F(Te[N],Q,Te[N].valueOf),V(Te,j),H[B]=!0},a630:function(S,x,l){var t=l("23e7"),n=l("4df4"),i=l("1c7e"),h=!i(function(o){Array.from(o)});t({target:"Array",stat:!0,forced:h},{from:n})},a640:function(S,x,l){var t=l("d039");S.exports=function(n,i){var h=[][n];return!!h&&t(function(){h.call(null,i||function(){throw 1},1)})}},a691:function(S,x){var l=Math.ceil,t=Math.floor;S.exports=function(n){return isNaN(n=+n)?0:(n>0?t:l)(n)}},ab13:function(S,x,l){var t=l("b622"),n=t("match");S.exports=function(i){var h=/./;try{"/./"[i](h)}catch{try{return h[n]=!1,"/./"[i](h)}catch{}}return!1}},ac1f:function(S,x,l){var t=l("23e7"),n=l("9263");t({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},ad6d:function(S,x,l){var t=l("825a");S.exports=function(){var n=t(this),i="";return n.global&&(i+="g"),n.ignoreCase&&(i+="i"),n.multiline&&(i+="m"),n.dotAll&&(i+="s"),n.unicode&&(i+="u"),n.sticky&&(i+="y"),i}},ae40:function(S,x,l){var t=l("83ab"),n=l("d039"),i=l("5135"),h=Object.defineProperty,o={},u=function(g){throw g};S.exports=function(g,_){if(i(o,g))return o[g];_||(_={});var m=[][g],r=i(_,"ACCESSORS")?_.ACCESSORS:!1,f=i(_,0)?_[0]:u,p=i(_,1)?_[1]:void 0;return o[g]=!!m&&!n(function(){if(r&&!t)return!0;var v={length:-1};r?h(v,1,{enumerable:!0,get:u}):v[1]=1,m.call(v,f,p)})}},ae93:function(S,x,l){var t=l("e163"),n=l("9112"),i=l("5135"),h=l("b622"),o=l("c430"),u=h("iterator"),g=!1,_=function(){return this},m,r,f;[].keys&&(f=[].keys(),"next"in f?(r=t(t(f)),r!==Object.prototype&&(m=r)):g=!0),m==null&&(m={}),!o&&!i(m,u)&&n(m,u,_),S.exports={IteratorPrototype:m,BUGGY_SAFARI_ITERATORS:g}},b041:function(S,x,l){var t=l("00ee"),n=l("f5df");S.exports=t?{}.toString:function(){return"[object "+n(this)+"]"}},b0c0:function(S,x,l){var t=l("83ab"),n=l("9bf2").f,i=Function.prototype,h=i.toString,o=/^\s*function ([^ (]*)/,u="name";t&&!(u in i)&&n(i,u,{configurable:!0,get:function(){try{return h.call(this).match(o)[1]}catch{return""}}})},b622:function(S,x,l){var t=l("da84"),n=l("5692"),i=l("5135"),h=l("90e3"),o=l("4930"),u=l("fdbf"),g=n("wks"),_=t.Symbol,m=u?_:_&&_.withoutSetter||h;S.exports=function(r){return i(g,r)||(o&&i(_,r)?g[r]=_[r]:g[r]=m("Symbol."+r)),g[r]}},b64b:function(S,x,l){var t=l("23e7"),n=l("7b0b"),i=l("df75"),h=l("d039"),o=h(function(){i(1)});t({target:"Object",stat:!0,forced:o},{keys:function(g){return i(n(g))}})},b727:function(S,x,l){var t=l("0366"),n=l("44ad"),i=l("7b0b"),h=l("50c4"),o=l("65f0"),u=[].push,g=function(_){var m=_==1,r=_==2,f=_==3,p=_==4,v=_==6,d=_==5||v;return function(C,w,A,E){for(var L=i(C),D=n(L),R=t(w,A,3),I=h(D.length),P=0,$=E||o,F=m?$(C,I):r?$(C,0):void 0,U,Y;I>P;P++)if((d||P in D)&&(U=D[P],Y=R(U,P,L),_)){if(m)F[P]=Y;else if(Y)switch(_){case 3:return!0;case 5:return U;case 6:return P;case 2:u.call(F,U)}else if(p)return!1}return v?-1:f||p?p:F}};S.exports={forEach:g(0),map:g(1),filter:g(2),some:g(3),every:g(4),find:g(5),findIndex:g(6)}},c04e:function(S,x,l){var t=l("861d");S.exports=function(n,i){if(!t(n))return n;var h,o;if(i&&typeof(h=n.toString)=="function"&&!t(o=h.call(n))||typeof(h=n.valueOf)=="function"&&!t(o=h.call(n))||!i&&typeof(h=n.toString)=="function"&&!t(o=h.call(n)))return o;throw TypeError("Can't convert object to primitive value")}},c430:function(S,x){S.exports=!1},c6b6:function(S,x){var l={}.toString;S.exports=function(t){return l.call(t).slice(8,-1)}},c6cd:function(S,x,l){var t=l("da84"),n=l("ce4e"),i="__core-js_shared__",h=t[i]||n(i,{});S.exports=h},c740:function(S,x,l){var t=l("23e7"),n=l("b727").findIndex,i=l("44d2"),h=l("ae40"),o="findIndex",u=!0,g=h(o);o in[]&&Array(1)[o](function(){u=!1}),t({target:"Array",proto:!0,forced:u||!g},{findIndex:function(m){return n(this,m,arguments.length>1?arguments[1]:void 0)}}),i(o)},c8ba:function(S,x){var l;l=function(){return this}();try{l=l||new Function("return this")()}catch{typeof window=="object"&&(l=window)}S.exports=l},c975:function(S,x,l){var t=l("23e7"),n=l("4d64").indexOf,i=l("a640"),h=l("ae40"),o=[].indexOf,u=!!o&&1/[1].indexOf(1,-0)<0,g=i("indexOf"),_=h("indexOf",{ACCESSORS:!0,1:0});t({target:"Array",proto:!0,forced:u||!g||!_},{indexOf:function(r){return u?o.apply(this,arguments)||0:n(this,r,arguments.length>1?arguments[1]:void 0)}})},ca84:function(S,x,l){var t=l("5135"),n=l("fc6a"),i=l("4d64").indexOf,h=l("d012");S.exports=function(o,u){var g=n(o),_=0,m=[],r;for(r in g)!t(h,r)&&t(g,r)&&m.push(r);for(;u.length>_;)t(g,r=u[_++])&&(~i(m,r)||m.push(r));return m}},caad:function(S,x,l){var t=l("23e7"),n=l("4d64").includes,i=l("44d2"),h=l("ae40"),o=h("indexOf",{ACCESSORS:!0,1:0});t({target:"Array",proto:!0,forced:!o},{includes:function(g){return n(this,g,arguments.length>1?arguments[1]:void 0)}}),i("includes")},cc12:function(S,x,l){var t=l("da84"),n=l("861d"),i=t.document,h=n(i)&&n(i.createElement);S.exports=function(o){return h?i.createElement(o):{}}},ce4e:function(S,x,l){var t=l("da84"),n=l("9112");S.exports=function(i,h){try{n(t,i,h)}catch{t[i]=h}return h}},d012:function(S,x){S.exports={}},d039:function(S,x){S.exports=function(l){try{return!!l()}catch{return!0}}},d066:function(S,x,l){var t=l("428f"),n=l("da84"),i=function(h){return typeof h=="function"?h:void 0};S.exports=function(h,o){return arguments.length<2?i(t[h])||i(n[h]):t[h]&&t[h][o]||n[h]&&n[h][o]}},d1e7:function(S,x,l){var t={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!t.call({1:2},1);x.f=i?function(o){var u=n(this,o);return!!u&&u.enumerable}:t},d28b:function(S,x,l){var t=l("746f");t("iterator")},d2bb:function(S,x,l){var t=l("825a"),n=l("3bbe");S.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,h={},o;try{o=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,o.call(h,[]),i=h instanceof Array}catch{}return function(g,_){return t(g),n(_),i?o.call(g,_):g.__proto__=_,g}}():void 0)},d3b7:function(S,x,l){var t=l("00ee"),n=l("6eeb"),i=l("b041");t||n(Object.prototype,"toString",i,{unsafe:!0})},d44e:function(S,x,l){var t=l("9bf2").f,n=l("5135"),i=l("b622"),h=i("toStringTag");S.exports=function(o,u,g){o&&!n(o=g?o:o.prototype,h)&&t(o,h,{configurable:!0,value:u})}},d58f:function(S,x,l){var t=l("1c0b"),n=l("7b0b"),i=l("44ad"),h=l("50c4"),o=function(u){return function(g,_,m,r){t(_);var f=n(g),p=i(f),v=h(f.length),d=u?v-1:0,C=u?-1:1;if(m<2)for(;;){if(d in p){r=p[d],d+=C;break}if(d+=C,u?d<0:v<=d)throw TypeError("Reduce of empty array with no initial value")}for(;u?d>=0:v>d;d+=C)d in p&&(r=_(r,p[d],d,f));return r}};S.exports={left:o(!1),right:o(!0)}},d784:function(S,x,l){l("ac1f");var t=l("6eeb"),n=l("d039"),i=l("b622"),h=l("9263"),o=l("9112"),u=i("species"),g=!n(function(){var p=/./;return p.exec=function(){var v=[];return v.groups={a:"7"},v},"".replace(p,"$<a>")!=="7"}),_=function(){return"a".replace(/./,"$0")==="$0"}(),m=i("replace"),r=function(){return/./[m]?/./[m]("a","$0")==="":!1}(),f=!n(function(){var p=/(?:)/,v=p.exec;p.exec=function(){return v.apply(this,arguments)};var d="ab".split(p);return d.length!==2||d[0]!=="a"||d[1]!=="b"});S.exports=function(p,v,d,C){var w=i(p),A=!n(function(){var P={};return P[w]=function(){return 7},""[p](P)!=7}),E=A&&!n(function(){var P=!1,$=/a/;return p==="split"&&($={},$.constructor={},$.constructor[u]=function(){return $},$.flags="",$[w]=/./[w]),$.exec=function(){return P=!0,null},$[w](""),!P});if(!A||!E||p==="replace"&&!(g&&_&&!r)||p==="split"&&!f){var L=/./[w],D=d(w,""[p],function(P,$,F,U,Y){return $.exec===h?A&&!Y?{done:!0,value:L.call($,F,U)}:{done:!0,value:P.call(F,$,U)}:{done:!1}},{REPLACE_KEEPS_$0:_,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:r}),R=D[0],I=D[1];t(String.prototype,p,R),t(RegExp.prototype,w,v==2?function(P,$){return I.call(P,this,$)}:function(P){return I.call(P,this)})}C&&o(RegExp.prototype[w],"sham",!0)}},d81d:function(S,x,l){var t=l("23e7"),n=l("b727").map,i=l("1dde"),h=l("ae40"),o=i("map"),u=h("map");t({target:"Array",proto:!0,forced:!o||!u},{map:function(_){return n(this,_,arguments.length>1?arguments[1]:void 0)}})},da84:function(S,x,l){(function(t){var n=function(i){return i&&i.Math==Math&&i};S.exports=n(typeof globalThis=="object"&&globalThis)||n(typeof window=="object"&&window)||n(typeof self=="object"&&self)||n(typeof t=="object"&&t)||Function("return this")()}).call(this,l("c8ba"))},dbb4:function(S,x,l){var t=l("23e7"),n=l("83ab"),i=l("56ef"),h=l("fc6a"),o=l("06cf"),u=l("8418");t({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(_){for(var m=h(_),r=o.f,f=i(m),p={},v=0,d,C;f.length>v;)C=r(m,d=f[v++]),C!==void 0&&u(p,d,C);return p}})},dbf1:function(S,x,l){(function(t){l.d(x,"a",function(){return i});function n(){return typeof window<"u"?window.console:t.console}var i=n()}).call(this,l("c8ba"))},ddb0:function(S,x,l){var t=l("da84"),n=l("fdbc"),i=l("e260"),h=l("9112"),o=l("b622"),u=o("iterator"),g=o("toStringTag"),_=i.values;for(var m in n){var r=t[m],f=r&&r.prototype;if(f){if(f[u]!==_)try{h(f,u,_)}catch{f[u]=_}if(f[g]||h(f,g,m),n[m]){for(var p in i)if(f[p]!==i[p])try{h(f,p,i[p])}catch{f[p]=i[p]}}}}},df75:function(S,x,l){var t=l("ca84"),n=l("7839");S.exports=Object.keys||function(h){return t(h,n)}},e01a:function(S,x,l){var t=l("23e7"),n=l("83ab"),i=l("da84"),h=l("5135"),o=l("861d"),u=l("9bf2").f,g=l("e893"),_=i.Symbol;if(n&&typeof _=="function"&&(!("description"in _.prototype)||_().description!==void 0)){var m={},r=function(){var w=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),A=this instanceof r?new _(w):w===void 0?_():_(w);return w===""&&(m[A]=!0),A};g(r,_);var f=r.prototype=_.prototype;f.constructor=r;var p=f.toString,v=String(_("test"))=="Symbol(test)",d=/^Symbol\((.*)\)[^)]+$/;u(f,"description",{configurable:!0,get:function(){var w=o(this)?this.valueOf():this,A=p.call(w);if(h(m,w))return"";var E=v?A.slice(7,-1):A.replace(d,"$1");return E===""?void 0:E}}),t({global:!0,forced:!0},{Symbol:r})}},e163:function(S,x,l){var t=l("5135"),n=l("7b0b"),i=l("f772"),h=l("e177"),o=i("IE_PROTO"),u=Object.prototype;S.exports=h?Object.getPrototypeOf:function(g){return g=n(g),t(g,o)?g[o]:typeof g.constructor=="function"&&g instanceof g.constructor?g.constructor.prototype:g instanceof Object?u:null}},e177:function(S,x,l){var t=l("d039");S.exports=!t(function(){function n(){}return n.prototype.constructor=null,Object.getPrototypeOf(new n)!==n.prototype})},e260:function(S,x,l){var t=l("fc6a"),n=l("44d2"),i=l("3f8c"),h=l("69f3"),o=l("7dd0"),u="Array Iterator",g=h.set,_=h.getterFor(u);S.exports=o(Array,"Array",function(m,r){g(this,{type:u,target:t(m),index:0,kind:r})},function(){var m=_(this),r=m.target,f=m.kind,p=m.index++;return!r||p>=r.length?(m.target=void 0,{value:void 0,done:!0}):f=="keys"?{value:p,done:!1}:f=="values"?{value:r[p],done:!1}:{value:[p,r[p]],done:!1}},"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},e439:function(S,x,l){var t=l("23e7"),n=l("d039"),i=l("fc6a"),h=l("06cf").f,o=l("83ab"),u=n(function(){h(1)}),g=!o||u;t({target:"Object",stat:!0,forced:g,sham:!o},{getOwnPropertyDescriptor:function(m,r){return h(i(m),r)}})},e538:function(S,x,l){var t=l("b622");x.f=t},e893:function(S,x,l){var t=l("5135"),n=l("56ef"),i=l("06cf"),h=l("9bf2");S.exports=function(o,u){for(var g=n(u),_=h.f,m=i.f,r=0;r<g.length;r++){var f=g[r];t(o,f)||_(o,f,m(u,f))}}},e8b5:function(S,x,l){var t=l("c6b6");S.exports=Array.isArray||function(i){return t(i)=="Array"}},e95a:function(S,x,l){var t=l("b622"),n=l("3f8c"),i=t("iterator"),h=Array.prototype;S.exports=function(o){return o!==void 0&&(n.Array===o||h[i]===o)}},f5df:function(S,x,l){var t=l("00ee"),n=l("c6b6"),i=l("b622"),h=i("toStringTag"),o=n(function(){return arguments}())=="Arguments",u=function(g,_){try{return g[_]}catch{}};S.exports=t?n:function(g){var _,m,r;return g===void 0?"Undefined":g===null?"Null":typeof(m=u(_=Object(g),h))=="string"?m:o?n(_):(r=n(_))=="Object"&&typeof _.callee=="function"?"Arguments":r}},f772:function(S,x,l){var t=l("5692"),n=l("90e3"),i=t("keys");S.exports=function(h){return i[h]||(i[h]=n(h))}},fb15:function(S,x,l){if(l.r(x),typeof window<"u"){var t=window.document.currentScript;{var n=l("8875");t=n(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:n})}var i=t&&t.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);i&&(l.p=i[1])}l("99af"),l("4de4"),l("4160"),l("c975"),l("d81d"),l("a434"),l("159b"),l("a4d3"),l("e439"),l("dbb4"),l("b64b");function h(_e,le,me){return le in _e?Object.defineProperty(_e,le,{value:me,enumerable:!0,configurable:!0,writable:!0}):_e[le]=me,_e}function o(_e,le){var me=Object.keys(_e);if(Object.getOwnPropertySymbols){var fe=Object.getOwnPropertySymbols(_e);le&&(fe=fe.filter(function(Re){return Object.getOwnPropertyDescriptor(_e,Re).enumerable})),me.push.apply(me,fe)}return me}function u(_e){for(var le=1;le<arguments.length;le++){var me=arguments[le]!=null?arguments[le]:{};le%2?o(Object(me),!0).forEach(function(fe){h(_e,fe,me[fe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(me)):o(Object(me)).forEach(function(fe){Object.defineProperty(_e,fe,Object.getOwnPropertyDescriptor(me,fe))})}return _e}function g(_e){if(Array.isArray(_e))return _e}l("e01a"),l("d28b"),l("e260"),l("d3b7"),l("3ca3"),l("ddb0");function _(_e,le){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(_e)))){var me=[],fe=!0,Re=!1,q=void 0;try{for(var ne=_e[Symbol.iterator](),de;!(fe=(de=ne.next()).done)&&(me.push(de.value),!(le&&me.length===le));fe=!0);}catch(we){Re=!0,q=we}finally{try{!fe&&ne.return!=null&&ne.return()}finally{if(Re)throw q}}return me}}l("a630"),l("fb6a"),l("b0c0"),l("25f0");function m(_e,le){(le==null||le>_e.length)&&(le=_e.length);for(var me=0,fe=new Array(le);me<le;me++)fe[me]=_e[me];return fe}function r(_e,le){if(_e){if(typeof _e=="string")return m(_e,le);var me=Object.prototype.toString.call(_e).slice(8,-1);if(me==="Object"&&_e.constructor&&(me=_e.constructor.name),me==="Map"||me==="Set")return Array.from(_e);if(me==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(me))return m(_e,le)}}function f(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p(_e,le){return g(_e)||_(_e,le)||r(_e,le)||f()}function v(_e){if(Array.isArray(_e))return m(_e)}function d(_e){if(typeof Symbol<"u"&&Symbol.iterator in Object(_e))return Array.from(_e)}function C(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w(_e){return v(_e)||d(_e)||r(_e)||C()}var A=l("a352"),E=l.n(A);function L(_e){_e.parentElement!==null&&_e.parentElement.removeChild(_e)}function D(_e,le,me){var fe=me===0?_e.children[0]:_e.children[me-1].nextSibling;_e.insertBefore(le,fe)}var R=l("dbf1");l("13d5"),l("4fad"),l("ac1f"),l("5319");function I(_e){var le=Object.create(null);return function(fe){var Re=le[fe];return Re||(le[fe]=_e(fe))}}var P=/-(\w)/g,$=I(function(_e){return _e.replace(P,function(le,me){return me.toUpperCase()})});l("5db7"),l("73d9");var F=["Start","Add","Remove","Update","End"],U=["Choose","Unchoose","Sort","Filter","Clone"],Y=["Move"],k=[Y,F,U].flatMap(function(_e){return _e}).map(function(_e){return"on".concat(_e)}),H={manage:Y,manageAndEmit:F,emit:U};function z(_e){return k.indexOf(_e)!==-1}l("caad"),l("2ca0");var X=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function te(_e){return X.includes(_e)}function J(_e){return["transition-group","TransitionGroup"].includes(_e)}function V(_e){return["id","class","role","style"].includes(_e)||_e.startsWith("data-")||_e.startsWith("aria-")||_e.startsWith("on")}function se(_e){return _e.reduce(function(le,me){var fe=p(me,2),Re=fe[0],q=fe[1];return le[Re]=q,le},{})}function be(_e){var le=_e.$attrs,me=_e.componentData,fe=me===void 0?{}:me,Re=se(Object.entries(le).filter(function(q){var ne=p(q,2),de=ne[0];return ne[1],V(de)}));return u(u({},Re),fe)}function B(_e){var le=_e.$attrs,me=_e.callBackBuilder,fe=se(j(le));Object.entries(me).forEach(function(q){var ne=p(q,2),de=ne[0],we=ne[1];H[de].forEach(function(Ee){fe["on".concat(Ee)]=we(Ee)})});var Re="[data-draggable]".concat(fe.draggable||"");return u(u({},fe),{},{draggable:Re})}function j(_e){return Object.entries(_e).filter(function(le){var me=p(le,2),fe=me[0];return me[1],!V(fe)}).map(function(le){var me=p(le,2),fe=me[0],Re=me[1];return[$(fe),Re]}).filter(function(le){var me=p(le,2),fe=me[0];return me[1],!z(fe)})}l("c740");function N(_e,le){if(!(_e instanceof le))throw new TypeError("Cannot call a class as a function")}function Q(_e,le){for(var me=0;me<le.length;me++){var fe=le[me];fe.enumerable=fe.enumerable||!1,fe.configurable=!0,"value"in fe&&(fe.writable=!0),Object.defineProperty(_e,fe.key,fe)}}function ce(_e,le,me){return le&&Q(_e.prototype,le),me&&Q(_e,me),_e}var ue=function(le){var me=le.el;return me},pe=function(le,me){return le.__draggable_context=me},Te=function(le){return le.__draggable_context},ve=function(){function _e(le){var me=le.nodes,fe=me.header,Re=me.default,q=me.footer,ne=le.root,de=le.realList;N(this,_e),this.defaultNodes=Re,this.children=[].concat(w(fe),w(Re),w(q)),this.externalComponent=ne.externalComponent,this.rootTransition=ne.transition,this.tag=ne.tag,this.realList=de}return ce(_e,[{key:"render",value:function(me,fe){var Re=this.tag,q=this.children,ne=this._isRootComponent,de=ne?{default:function(){return q}}:q;return me(Re,fe,de)}},{key:"updated",value:function(){var me=this.defaultNodes,fe=this.realList;me.forEach(function(Re,q){pe(ue(Re),{element:fe[q],index:q})})}},{key:"getUnderlyingVm",value:function(me){return Te(me)}},{key:"getVmIndexFromDomIndex",value:function(me,fe){var Re=this.defaultNodes,q=Re.length,ne=fe.children,de=ne.item(me);if(de===null)return q;var we=Te(de);if(we)return we.index;if(q===0)return 0;var Ee=ue(Re[0]),Ie=w(ne).findIndex(function(je){return je===Ee});return me<Ie?0:q}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),_e}(),Ce=l("8bbf");function xe(_e,le){var me=_e[le];return me?me():[]}function qe(_e){var le=_e.$slots,me=_e.realList,fe=_e.getKey,Re=me||[],q=["header","footer"].map(function(je){return xe(le,je)}),ne=p(q,2),de=ne[0],we=ne[1],Ee=le.item;if(!Ee)throw new Error("draggable element must have an item slot");var Ie=Re.flatMap(function(je,Ne){return Ee({element:je,index:Ne}).map(function(et){return et.key=fe(je),et.props=u(u({},et.props||{}),{},{"data-draggable":!0}),et})});if(Ie.length!==Re.length)throw new Error("Item slot must have only one child");return{header:de,footer:we,default:Ie}}function lt(_e){var le=J(_e),me=!te(_e)&&!le;return{transition:le,externalComponent:me,tag:me?Object(Ce.resolveComponent)(_e):le?Ce.TransitionGroup:_e}}function Ve(_e){var le=_e.$slots,me=_e.tag,fe=_e.realList,Re=_e.getKey,q=qe({$slots:le,realList:fe,getKey:Re}),ne=lt(me);return new ve({nodes:q,root:ne,realList:fe})}function tt(_e,le){var me=this;Object(Ce.nextTick)(function(){return me.$emit(_e.toLowerCase(),le)})}function Be(_e){var le=this;return function(me,fe){if(le.realList!==null)return le["onDrag".concat(_e)](me,fe)}}function Qe(_e){var le=this,me=Be.call(this,_e);return function(fe,Re){me.call(le,fe,Re),tt.call(le,_e,fe)}}var Fe=null,Ge={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(le){return le}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},ot=["update:modelValue","change"].concat(w([].concat(w(H.manageAndEmit),w(H.emit)).map(function(_e){return _e.toLowerCase()}))),Ye=Object(Ce.defineComponent)({name:"draggable",inheritAttrs:!1,props:Ge,emits:ot,data:function(){return{error:!1}},render:function(){try{this.error=!1;var le=this.$slots,me=this.$attrs,fe=this.tag,Re=this.componentData,q=this.realList,ne=this.getKey,de=Ve({$slots:le,tag:fe,realList:q,getKey:ne});this.componentStructure=de;var we=be({$attrs:me,componentData:Re});return de.render(Ce.h,we)}catch(Ee){return this.error=!0,Object(Ce.h)("pre",{style:{color:"red"}},Ee.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&R.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var le=this;if(!this.error){var me=this.$attrs,fe=this.$el,Re=this.componentStructure;Re.updated();var q=B({$attrs:me,callBackBuilder:{manageAndEmit:function(we){return Qe.call(le,we)},emit:function(we){return tt.bind(le,we)},manage:function(we){return Be.call(le,we)}}}),ne=fe.nodeType===1?fe:fe.parentElement;this._sortable=new E.a(ne,q),this.targetDomElement=ne,ne.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var le=this.list;return le||this.modelValue},getKey:function(){var le=this.itemKey;return typeof le=="function"?le:function(me){return me[le]}}},watch:{$attrs:{handler:function(le){var me=this._sortable;me&&j(le).forEach(function(fe){var Re=p(fe,2),q=Re[0],ne=Re[1];me.option(q,ne)})},deep:!0}},methods:{getUnderlyingVm:function(le){return this.componentStructure.getUnderlyingVm(le)||null},getUnderlyingPotencialDraggableComponent:function(le){return le.__draggable_component__},emitChanges:function(le){var me=this;Object(Ce.nextTick)(function(){return me.$emit("change",le)})},alterList:function(le){if(this.list){le(this.list);return}var me=w(this.modelValue);le(me),this.$emit("update:modelValue",me)},spliceList:function(){var le=arguments,me=function(Re){return Re.splice.apply(Re,w(le))};this.alterList(me)},updatePosition:function(le,me){var fe=function(q){return q.splice(me,0,q.splice(le,1)[0])};this.alterList(fe)},getRelatedContextFromMoveEvent:function(le){var me=le.to,fe=le.related,Re=this.getUnderlyingPotencialDraggableComponent(me);if(!Re)return{component:Re};var q=Re.realList,ne={list:q,component:Re};if(me!==fe&&q){var de=Re.getUnderlyingVm(fe)||{};return u(u({},de),ne)}return ne},getVmIndexFromDomIndex:function(le){return this.componentStructure.getVmIndexFromDomIndex(le,this.targetDomElement)},onDragStart:function(le){this.context=this.getUnderlyingVm(le.item),le.item._underlying_vm_=this.clone(this.context.element),Fe=le.item},onDragAdd:function(le){var me=le.item._underlying_vm_;if(me!==void 0){L(le.item);var fe=this.getVmIndexFromDomIndex(le.newIndex);this.spliceList(fe,0,me);var Re={element:me,newIndex:fe};this.emitChanges({added:Re})}},onDragRemove:function(le){if(D(this.$el,le.item,le.oldIndex),le.pullMode==="clone"){L(le.clone);return}var me=this.context,fe=me.index,Re=me.element;this.spliceList(fe,1);var q={element:Re,oldIndex:fe};this.emitChanges({removed:q})},onDragUpdate:function(le){L(le.item),D(le.from,le.item,le.oldIndex);var me=this.context.index,fe=this.getVmIndexFromDomIndex(le.newIndex);this.updatePosition(me,fe);var Re={element:this.context.element,oldIndex:me,newIndex:fe};this.emitChanges({moved:Re})},computeFutureIndex:function(le,me){if(!le.element)return 0;var fe=w(me.to.children).filter(function(de){return de.style.display!=="none"}),Re=fe.indexOf(me.related),q=le.component.getVmIndexFromDomIndex(Re),ne=fe.indexOf(Fe)!==-1;return ne||!me.willInsertAfter?q:q+1},onDragMove:function(le,me){var fe=this.move,Re=this.realList;if(!fe||!Re)return!0;var q=this.getRelatedContextFromMoveEvent(le),ne=this.computeFutureIndex(q,le),de=u(u({},this.context),{},{futureIndex:ne}),we=u(u({},le),{},{relatedContext:q,draggedContext:de});return fe(we,me)},onDragEnd:function(){Fe=null}}}),Xe=Ye;x.default=Xe},fb6a:function(S,x,l){var t=l("23e7"),n=l("861d"),i=l("e8b5"),h=l("23cb"),o=l("50c4"),u=l("fc6a"),g=l("8418"),_=l("b622"),m=l("1dde"),r=l("ae40"),f=m("slice"),p=r("slice",{ACCESSORS:!0,0:0,1:2}),v=_("species"),d=[].slice,C=Math.max;t({target:"Array",proto:!0,forced:!f||!p},{slice:function(A,E){var L=u(this),D=o(L.length),R=h(A,D),I=h(E===void 0?D:E,D),P,$,F;if(i(L)&&(P=L.constructor,typeof P=="function"&&(P===Array||i(P.prototype))?P=void 0:n(P)&&(P=P[v],P===null&&(P=void 0)),P===Array||P===void 0))return d.call(L,R,I);for($=new(P===void 0?Array:P)(C(I-R,0)),F=0;R<I;R++,F++)R in L&&g($,F,L[R]);return $.length=F,$}})},fc6a:function(S,x,l){var t=l("44ad"),n=l("1d80");S.exports=function(i){return t(n(i))}},fdbc:function(S,x){S.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(S,x,l){var t=l("4930");S.exports=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})})(Jg);var L4=Jg.exports;const O4=ci(L4),Yo=e=>(Vt("data-v-0cd4fc0f"),e=e(),Kt(),e),R4={key:0,class:"column-root"},k4={class:"column-header"},D4={class:"actions"},I4=Yo(()=>W("i",{class:"fas fa-trash"},null,-1)),M4=[I4],P4={class:"cards"},B4=Yo(()=>W("i",{class:"fas fa-plus"},null,-1)),$4=["onClick"],F4=["onClick"],j4=Yo(()=>W("i",{class:"fas fa-trash"},null,-1)),N4=[j4],H4={class:"input-container"},U4=Yo(()=>W("label",null,"Nom",-1)),W4=["onUpdate:modelValue"],z4={class:"input-container"},G4=Yo(()=>W("label",null,"Description",-1)),V4=["onUpdate:modelValue"],K4={__name:"Column",props:{board:{required:!0,type:null},columnId:{required:!0,type:String}},emits:["refresh"],setup(e,{emit:a}){const c=Al(),b=Di();function S(p){const v=p.target;v&&(v.style.width=`${v.value.length}em`)}const x=e,l=Le(null),t=Le(null),n=Le(null),i=Le(!1),h=Le([]),o=Le();vn(()=>c.query.cardId,()=>{if(!c.query.cardId)return;const p=h.value.find(v=>(v==null?void 0:v.id)===c.query.cardId);p&&r(p)},{immediate:!0}),er(async()=>{await _(),m()});async function u(p){var v;(v=t.value)==null||v.open(p).subscribe(async d=>{d&&(await We.delete(`/kanban/boards/${x.board.id}/columns/${x.columnId}/cards/${p.id}`),await _(),await m())})}async function g(p){var v;(v=n.value)==null||v.open(p).subscribe(async d=>{d&&(await We.delete(`/kanban/boards/${x.board.id}/columns/${x.columnId}/`),await _(),await m())})}async function _(){const{data:p}=await We.get(`/kanban/boards/${x.board.id}/columns/${x.columnId}`);o.value=p}async function m(){const{data:p}=await We.get(`/kanban/boards/${x.board.id}/columns/${x.columnId}/cards`);h.value=p;const v=h.value.find(d=>(d==null?void 0:d.id)===c.query.cardId);v&&r(v)}async function r(p={}){var v;p=zP.cloneDeep(p),p.id&&b.push({query:{...c.query,cardId:p.id}}),(v=l.value)==null||v.open(p).subscribe(async d=>{b.push({query:{...c.query,cardId:void 0}}),d&&(await We.post(`/kanban/boards/${x.board.id}/columns/${x.columnId}/cards`,p),await _(),await m())})}async function f(p){var d;const v=p.target;v&&v.blur(),(d=o.value)!=null&&d.cardIds&&(o.value.cardIds=h.value.map(C=>C.id)),await We.post(`/kanban/boards/${x.board.id}/columns/`,o.value),await _()}return(p,v)=>(re(),oe(it,null,[o.value?(re(),oe("div",R4,[W("div",k4,[W("h2",null,[Rt(W("input",{class:"invisible",type:"text","onUpdate:modelValue":v[0]||(v[0]=d=>o.value.name=d),onFocusout:f,onKeypress:gn(f,["enter"]),placeholder:"Name of column...",onInput:S},null,544),[[or,o.value.name]])]),W("div",D4,[W("button",{class:"small",onClick:v[1]||(v[1]=_r(d=>g(o.value),["stop"]))},M4)])]),W("div",P4,[W("div",{class:"add-card",onClick:v[2]||(v[2]=d=>r())},[B4,Ue("Create a card")]),at(Er(O4),{modelValue:h.value,"onUpdate:modelValue":v[3]||(v[3]=d=>h.value=d),group:"column",onStart:v[4]||(v[4]=d=>i.value=!0),onEnd:v[5]||(v[5]=d=>i.value=!1),onChange:f,class:"droppable","item-key":"id"},{item:rt(({element:d})=>[W("div",{class:"card",onClick:C=>r(d)},[Ue(De(d.name)+" ",1),W("button",{class:"small",onClick:_r(C=>u(d),["stop"])},N4,8,F4)],8,$4)]),_:1},8,["modelValue"])])])):He("",!0),at(Ji,{ref_key:"createCardModal",ref:l,cancelString:"No",validateString:"Yes"},{header:rt(({data:d})=>[Ue(De(d!=null&&d.id?"Update card":"Create card"),1)]),body:rt(({data:d})=>[W("div",H4,[U4,Rt(W("input",{type:"text",placeholder:"Nom...","onUpdate:modelValue":C=>d.name=C},null,8,W4),[[or,d.name]])]),W("div",z4,[G4,Rt(W("textarea",{placeholder:"Description...","onUpdate:modelValue":C=>d.description=C},null,8,V4),[[or,d.description]])])]),_:1},512),at(Ji,{ref_key:"deleteCardModal",ref:t,cancelString:"No",validateString:"Yes"},{header:rt(({data:d})=>[Ue(" Delete "+De(d.name),1)]),_:1},512),at(Ji,{ref_key:"deleteColumnModal",ref:n,cancelString:"No",validateString:"Yes"},{header:rt(({data:d})=>[Ue(" Delete "+De(d.name),1)]),_:1},512)],64))}},Y4=Pt(K4,[["__scopeId","data-v-0cd4fc0f"]]),Ih=e=>(Vt("data-v-00290e01"),e=e(),Kt(),e),X4={class:"uuid-root"},J4=Ih(()=>W("h1",null,"Kanban",-1)),Q4={class:"section-content"},q4={class:"boards-container"},Z4={class:"boards"},e6=["onClick"],t6=["onClick"],r6=Ih(()=>W("i",{class:"fas fa-trash"},null,-1)),n6=[r6],i6={key:0,class:"columns"},s6=Ih(()=>W("i",{class:"fas fa-plus"},null,-1)),o6={__name:"Index",props:{plugin:{}},setup(e){const a=Al(),c=Le([]),b=Le(),S=Le(""),x=Le("");vn(()=>a.query.boardId,()=>{b.value=c.value.find(o=>(o==null?void 0:o.id)===a.query.boardId)},{immediate:!0}),er(t);async function l(){const{data:o}=await We.get("/kanban/boards");c.value=o,b.value=c.value.find(u=>(u==null?void 0:u.id)===a.query.boardId)}async function t(){await l()}async function n(o){x.value.open(o).subscribe(async u=>{u&&(await We.delete(`/kanban/boards/${o.id}`),await l())})}async function i(){S.value&&await We.post("/kanban/boards",{name:S.value}),S.value="",await t()}async function h(){var o;await We.post(`/kanban/boards/${(o=b.value)==null?void 0:o.id}/columns`,{}),await t()}return(o,u)=>(re(),oe(it,null,[W("div",X4,[J4,W("div",Q4,[W("div",q4,[Rt(W("input",{type:"text","onUpdate:modelValue":u[0]||(u[0]=g=>S.value=g),onKeypress:gn(i,["enter"]),placeholder:"New Board..."},null,544),[[or,S.value]]),W("div",Z4,[(re(!0),oe(it,null,pt(c.value,g=>{var _;return re(),oe("div",{class:St(["board",{active:((_=b.value)==null?void 0:_.id)===(g==null?void 0:g.id)}]),key:g==null?void 0:g.id,onClick:m=>o.$router.push({query:{boardId:g==null?void 0:g.id}})},[Ue(De(g==null?void 0:g.name)+" ",1),W("button",{class:"small",onClick:m=>n(g)},n6,8,t6)],10,e6)}),128))])]),b.value?(re(),oe("div",i6,[(re(!0),oe(it,null,pt(b.value.columnIds,g=>(re(),jt(Y4,{board:b.value,key:g,"column-id":g,onRefresh:u[1]||(u[1]=_=>l())},null,8,["board","column-id"]))),128)),W("div",{class:"add-column",onClick:h},[s6,Ue("New column")])])):He("",!0)])]),at(Ji,{ref_key:"deleteBoardModal",ref:x,cancelString:"No",validateString:"Yes"},{header:rt(({data:g})=>[Ue(" Delete "+De(g.name),1)]),_:1},512)],64))}},a6=Pt(o6,[["__scopeId","data-v-00290e01"]]),l6={name:"multiselect",$_veeValidate:{value(){return this.value},name(){return this.name}},props:{options:{default:()=>[]},value:{default:()=>[]},initialValue:{default:()=>[]},customLabel:{default:null},customKey:{default:null},width:{default:"auto"},single:{default:!1},categories:{default:!1},name:{default:"name"},reorder:{default:!1},placeholder:{default:"Cliquez pour choisir..."},max:{default:1/0},dynamic:{default:!1},column:{default:!1},oninput:{default:()=>{}},random:{default:!1}},components:{spinner:li},setup(e,a){var f;const c=(f=hC())==null?void 0:f.proxy,b=Le(!1),S=Le([]),x=Le(null),l=Le(0),t=Le(!1),n=Le(null),i=Le(e.value);i.value.push(...e.initialValue),vn(()=>e.value,()=>i.value=e.value,{deep:!0});function h(){a.emit("update:value",e.value),e.oninput&&e.oninput(i.value)}const o=p=>{var v;return(v=x.value)!=null&&v.customLabel?p[x.value.customLabel]:p[e.customLabel]||p},u=p=>{var v;return(v=x.value)!=null&&v.customKey?p[x.value.customKey]:p[e.customKey]||p},g=()=>{var d;const p=(d=n.value)!=null&&d.value?n.value.value.toUpperCase():"";let v=e.options;e.categories&&x.value&&(v=e.options.filter(C=>C.name===x.value.name).pop().values),S.value=v.filter(C=>{if(FM(e.value,C)||e.value.includes(C))return!1;const w=o(C),A=u(C);return w&&typeof w=="string"&&w.toUpperCase().includes(p)||A&&typeof A=="string"&&A.toUpperCase().includes(p)})};er(()=>{S.value=e.options,e.categories&&(x.value=e.options[0]),g()});const _=p=>{if(i.value.length>=e.max)return;const v=S.value.indexOf(p);let d;v!==-1?(S.value.splice(v,1),d=p):e.dynamic&&!i.value.includes(p)&&(d=p),e.single&&(i.value.pop(),b.value=!1),d&&(i.value.push(d),n.value&&(n.value.value="",g()),g(),c.$forceUpdate()),h()},m=()=>{const p=S.value[Math.floor(Math.random()*S.value.length)];_(p)};let r=null;return{isOpen:b,filteredOptions:S,currentCateg:x,count:l,opening:t,filterRef:n,getKey:u,getLabel:o,filter:g,selectRandom:m,drag(p){r=p},drop(p){const v=i.value.indexOf(p),d=e.value.indexOf(r);if(v>-1&&d>-1&&p!==r){const C=i.value[d];i.value[d]=i.value[v],i.value[v]=C}h()},changeCategory(p){x.value=p,g()},async open(){t.value=!0,await si(),b.value=!0,g(),await si(),await si(),n.value&&n.value.focus();const p=()=>{b.value=!1,document.removeEventListener("click",p)};document.addEventListener("click",p,!1),t.value=!1},select:_,deleteTag(p){const v=e.value.indexOf(p);i.value.splice(v,1),S.value.push(p),g(),c.$forceUpdate(),h()}}}},Mh=e=>(Vt("data-v-fe2a49b5"),e=e(),Kt(),e),c6={key:0,class:"placeholder"},u6={key:1,class:"placeholder"},h6={class:"labels"},f6=["onDragstart","onDragenter","draggable"],d6={class:"label"},p6=["onClick"],v6=Mh(()=>W("i",{class:"fas fa-trash"},null,-1)),g6=[v6],_6=Mh(()=>W("i",{class:"fas fa-sync"},null,-1)),m6=[_6],y6={key:0,class:"container"},b6={class:"search-actions"},S6={key:0,class:"add-button"},C6=Mh(()=>W("em",{class:"fas fa-plus"},null,-1)),w6=[C6],x6={key:0,class:"categories"},E6=["onClick"],A6={class:"options-container"},T6=["id","onClick"],L6={key:0},O6={key:1,class:"count"};function R6(e,a,c,b,S,x){const l=br("spinner");return re(),oe("div",{class:St(["root",{column:c.column,reorder:c.reorder}]),onClick:a[4]||(a[4]=_r(()=>{},["stop"])),style:Br({width:c.width})},[W("div",{ref:"input",class:St(["input",{open:b.isOpen}]),onClick:a[1]||(a[1]=_r(t=>b.open(),["stop"]))},[!c.value.length&&!b.isOpen?(re(),oe("div",c6,De(c.placeholder),1)):He("",!0),!c.value.length&&b.isOpen?(re(),oe("div",u6," Choisir une entrée ci-dessous... ")):He("",!0),b.opening?(re(),jt(l,{key:2,class:"spinner",size:20})):He("",!0),W("div",h6,[(re(!0),oe(it,null,pt(c.value,t=>(re(),oe("div",{key:b.getKey(t),class:"item-container",onDragstart:n=>b.drag(t),onDragenter:n=>b.drop(t),draggable:c.reorder},[W("div",d6,De(b.getLabel(t)),1),W("div",{class:"delete",onClick:_r(n=>b.deleteTag(t),["stop"])},g6,8,p6)],40,f6))),128)),c.random?(re(),oe("div",{key:0,class:"random",onClick:a[0]||(a[0]=_r((...t)=>b.selectRandom&&b.selectRandom(...t),["stop"]))},m6)):He("",!0)])],2),at(wl,{name:"fade"},{default:rt(()=>[b.isOpen?(re(),oe("div",y6,[W("div",b6,[W("input",{type:"text",ref:"filterRef",placeholder:"Rechercher...",onInput:a[2]||(a[2]=t=>b.filter()),onKeypress:a[3]||(a[3]=gn(t=>b.select(t.target.value),["enter"]))},null,544),c.dynamic?(re(),oe("button",S6,w6)):He("",!0)]),c.categories&&e.option.values&&e.option.values.length?(re(),oe("div",x6,[(re(!0),oe(it,null,pt(c.options,t=>(re(),oe("div",{onClick:n=>b.changeCategory(t),class:St(["category",{active:t.name===b.currentCateg.name&&t.name!==void 0}]),key:t.name},De(t.name),11,E6))),128))])):He("",!0),W("div",A6,[(re(!0),oe(it,null,pt(b.filteredOptions,t=>(re(),oe("div",{key:b.getKey(t),class:"item",id:"multiselect-item-"+b.getLabel(t),onClick:n=>b.select(t)},[W("span",null,De(b.getLabel(t)),1),t.additionnal?(re(),oe("span",L6,De(t.additionnal),1)):He("",!0)],8,T6))),128))]),b.filteredOptions&&b.filteredOptions.length?(re(),oe("div",O6,De(b.filteredOptions.length)+" entrée ",1)):He("",!0)])):He("",!0)]),_:1})],6)}const vv=Pt(l6,[["render",R6],["__scopeId","data-v-fe2a49b5"]]),k6=e=>(Vt("data-v-6966445e"),e=e(),Kt(),e),D6={class:"diff-root"},I6=k6(()=>W("h1",null,"GlobalScripts",-1)),M6={class:"content"},P6={class:"rooms"},B6=["onClick"],$6={key:0,class:"chat-container"},F6={class:"pipelines"},j6=["innerHTML"],N6=["innerHTML"],H6={__name:"Index",setup(e){const a=Di(),c=Al(),b=Le([]),S=Le({currentStep:"",loadingStep:"",steps:{},output:{},prompts:{},scriptId:""}),x=Le(""),l=Le(null);er(t),vn(c,()=>{const u=a.currentRoute.value.query.script;u&&i(b.value.find(g=>g.label===u)||b.value[0])}),dn.socket.on("reloadScripts",t);async function t(){var g;const{data:u}=await We.get("/global-scripts/");if(b.value=u||[],!l.value&&((g=b.value)!=null&&g.length)){const _=a.currentRoute.value.query.script;_?await i(b.value.find(m=>m.label===_)||b.value[0]):await i(b.value[0])}}const n=At(()=>{var g,_;const u=(((g=l.value)==null?void 0:g.pipeline)||[]).findIndex(m=>m.id===S.value.currentStep);return(((_=l.value)==null?void 0:_.pipeline)||[]).filter((m,r)=>{var f;return(u===-1||r<u+1)&&!((f=S.value.steps[m.id])!=null&&f.skipped)})});async function i(u){a.push({query:{script:u.label}}),l.value=u,S.value={currentStep:"",loadingStep:"",steps:{},output:{},prompts:{},scriptId:""}}async function h(){var g;if(!((g=l.value)!=null&&g.label))return;const{data:u}=await We.post("/global-scripts/"+l.value.label);dn.socket.on(u,(_,m)=>{_==="track"&&(S.value=m)}),x.value=u,dn.socket.emit(x.value,"launch")}async function o(){dn.socket.emit(x.value,"validate-prompt",S.value.steps[S.value.currentStep].promptValue)}return(u,g)=>(re(),oe("div",D6,[I6,W("div",M6,[W("div",P6,[(re(!0),oe(it,null,pt(b.value,_=>{var m;return re(),oe("div",{class:St(["room",{active:((m=l.value)==null?void 0:m.label)===_.label}]),key:_.label,onClick:r=>i(_)},[W("div",null,De(_.label),1)],10,B6)}),128))]),l.value?(re(),oe("div",$6,[at(ar,{header:l.value.label,actions:[{label:"Launch",icon:"fas fa-play",click:h}]},{default:rt(()=>[W("div",F6,[(re(!0),oe(it,null,pt(n.value,_=>{var m,r,f,p;return re(),oe("div",{key:_.label,class:St(["pipeline",{valid:(m=S.value.steps[_.id])==null?void 0:m.isValidated,error:!!((r=S.value.steps[_.id])!=null&&r.error),current:S.value.currentStep===_.id,loading:S.value.loadingStep===_.id,skipped:((f=S.value.steps[_.id])==null?void 0:f.skipped)===!0}])},[W("h2",null,De(_.label),1),S.value.currentStep===_.id&&_.prompt&&_.id!==S.value.loadingStep?(re(),oe(it,{key:0},[W("div",null,De(_.prompt.question),1),_.prompt.type==="boolean"?Rt((re(),oe("input",{key:0,type:"checkbox","onUpdate:modelValue":g[0]||(g[0]=v=>S.value.steps[S.value.currentStep].promptValue=v)},null,512)),[[Nn,S.value.steps[S.value.currentStep].promptValue]]):_.prompt.type==="number"?Rt((re(),oe("input",{key:1,type:"number","onUpdate:modelValue":g[1]||(g[1]=v=>S.value.steps[S.value.currentStep].promptValue=v)},null,512)),[[or,S.value.steps[S.value.currentStep].promptValue]]):_.prompt.type==="select"?(re(),jt(vv,{key:2,options:S.value.steps[S.value.currentStep].promptOptions,customLabel:"label",single:!0,initialValue:S.value.steps[S.value.currentStep].promptValue?[S.value.steps[S.value.currentStep].promptValue]:[],"onUpdate:value":g[2]||(g[2]=v=>{var d;return S.value.steps[S.value.currentStep].promptValue=(d=v[0])==null?void 0:d.value})},null,8,["options","initialValue"])):_.prompt.type==="multi-select"?(re(),jt(vv,{key:3,options:S.value.steps[S.value.currentStep].promptOptions,customLabel:"label",initialValue:S.value.steps[S.value.currentStep].promptValue,"onUpdate:value":g[3]||(g[3]=v=>S.value.steps[S.value.currentStep].promptValue=v.map(d=>d==null?void 0:d.value))},null,8,["options","initialValue"])):Rt((re(),oe("input",{key:4,type:"text","onUpdate:modelValue":g[4]||(g[4]=v=>S.value.steps[S.value.currentStep].promptValue=v)},null,512)),[[or,S.value.steps[S.value.currentStep].promptValue]]),W("button",{onClick:o},"Validate")],64)):_.id===S.value.loadingStep?(re(),jt(li,{key:1})):He("",!0),(p=S.value.steps[_.id])!=null&&p.error?(re(),oe("div",{key:2,innerHTML:S.value.steps[_.id].error},null,8,j6)):He("",!0),S.value.steps[_.id]?(re(),oe("div",{key:3,innerHTML:S.value.steps[_.id].printData},null,8,N6)):He("",!0)],2)}),128))])]),_:1},8,["header","actions"])])):He("",!0)])]))}},U6=Pt(H6,[["__scopeId","data-v-6966445e"]]),W6={key:0,class:"hint"},z6={class:"groups"},G6={class:"choices"},V6=["onClick"],K6={class:"left"},Y6={class:"icon"},X6={class:"title"},J6={class:"description"},Q6={class:"right"},q6={class:"title"},Z6={class:"description"},eB={class:"left"},tB={key:0},rB={class:"title"},nB={class:"description"},iB={__name:"Index",setup(e){const a=Di(),c=async u=>{u.ctrlKey&&u.altKey&&u.code==="KeyP"&&(u.preventDefault(),l.value=!l.value,S.value="",await si(),x.value.focus()),u.code==="Escape"&&(u.preventDefault(),l.value=!1)};window.addEventListener("keyup",c),th(()=>window.removeEventListener("keyup",c));const b=Le({}),S=Le(""),x=Le(),l=Le(!1),t=At(()=>a.currentRoute.value.path.includes("/Finder"));vn(()=>l.value,()=>{t.value&&(l.value=!0)},{immediate:!0});const n=At(()=>Object.keys(b.value).map(u=>{var _,m,r;const g=b.value[u];return{label:g.label,choices:(_=g.choices)==null?void 0:_.slice(0,4),otherChoices:(r=g.choices)==null?void 0:r.slice(4,(m=g.choices)==null?void 0:m.length)}}));async function i(){const{data:u}=await We.get("/finder/search",{params:{q:S.value}}),g={};u[0]&&(u[0].active=!0),u.map(_=>{_.group||(_.group="Others"),g[_.group]||(g[_.group]={label:_.group,choices:[],otherChoices:[]}),g[_.group].choices.push(_)}),b.value=g}er(i),vn(()=>S.value,fl(i,200));function h(u){u!=null&&u.url&&(a.push(u.url),l.value=!1)}async function o(u){const g=n.value.flatMap(_=>_.choices);if(["ArrowUp","ArrowDown"].includes(u.code))for(let _=0;_<g.length;_++){const m=g[_];if(m.active){m.active=!1;const r=u.code==="ArrowUp"?g[g.length-1]:g[0],f=(u.code==="ArrowUp"?g[_-1]:g[_+1])||r;f.active=!0;break}}u.code==="Enter"&&h(g.find(_=>_.active))}return(u,g)=>Rt((re(),oe("div",{class:St(["finder-root",{isComponent:t.value}]),onClick:g[3]||(g[3]=_=>l.value=!1)},[t.value?(re(),oe("div",W6," Press Ctrl+Alt+P To open it anywhere ")):He("",!0),W("div",{class:"finder-container",onClick:g[2]||(g[2]=_r(()=>{},["stop"]))},[Rt(W("input",{type:"text",autofocus:"","onUpdate:modelValue":g[0]||(g[0]=_=>S.value=_),placeholder:"Type to find something...",ref_key:"inputRef",ref:x,onKeyup:o},null,544),[[or,S.value]]),W("div",z6,[(re(!0),oe(it,null,pt(n.value,_=>{var m;return re(),oe("div",{class:"group",key:`${_}`},[W("h2",null,De(_.label),1),W("div",G6,[(re(!0),oe(it,null,pt(_.choices,r=>(re(),oe("div",{class:St(["choice",{active:r.active}]),key:`${r}`,onClick:_r(f=>h(r),["stop"])},[W("div",K6,[W("div",Y6,[W("i",{class:St(r.icon||"fas fa-cog")},null,2)]),W("div",null,[W("div",X6,De(r.title),1),W("div",J6,De(r.description),1)])]),W("div",Q6,[W("div",q6,De(r.secondaryTitle),1),W("div",Z6,De(r.secondaryDescription),1)])],10,V6))),128)),W("div",{class:"choice",onClick:g[1]||(g[1]=_r(()=>{},["stop"]))},[W("div",eB,[(m=_.otherChoices)!=null&&m.length?(re(),oe("div",tB,[W("div",rB,"And "+De(_.otherChoices.length)+" others...",1),W("div",nB,De(_.otherChoices.map(r=>r.title).slice(0,20).map(r=>r.slice(0,40)+"...").join(", "))+" ... ",1)])):He("",!0)])])])])}),128))])])],2)),[[fC,l.value]])}},sB=Pt(iB,[["__scopeId","data-v-dcbe5cb8"]]),oB=[{name:"JWT",component:EO},{name:"Finder",component:sB},{name:"Git-NotUpToDate",component:WA},{name:"Regex",component:sR},{name:"UUID",component:pO},{name:"JSONFormatter",component:gR},{name:"Diff",component:XO},{name:"NodeREPL",component:zO},{name:"Mongo",component:IO},{name:"OpenAI",component:JL},{name:"GlobalScripts",component:U6},{name:"Kanban",component:a6},{name:"Toolbox",component:lO,children:[{path:":plugin",props:!0,component:Uu}]},{name:"DevOps",component:HR,children:[{path:":plugin",props:!0,component:Uu}]}],l_=[{name:"DynamicComponent",cmp:Uu},...oB.map(({name:e,component:a,children:c})=>({name:e,cmp:a,routes:[{path:`/${e}`,name:e,component:a,children:c}]})),{name:"Logs",cmp:y5},{name:"Git",cmp:iA},{name:"Github",cmp:WP},{name:"Documentation",cmp:OR},{name:"Npm",cmp:mT},{name:"Bugs",cmp:ET},{name:"Configuration",cmp:mL}],gB=Object.freeze(Object.defineProperty({__proto__:null,default:l_},Symbol.toStringTag,{value:"Module"})),aB=l_.map(e=>e.routes).filter(e=>e).flat(),lB=[{path:"/stack-chooser",name:"stack-chooser",component:()=>Ha(()=>import("./StackChooser-2sMuHq7a.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12]))},{path:"/stack-single/:label",name:"stack-single",component:()=>Ha(()=>import("./StackSingle-8MnOQeQm.js"),__vite__mapDeps([13,1,2,3,4,5,9,7,14,15,6,11,16]))},{path:"/stack-multiple",name:"stack-multiple",component:()=>Ha(()=>import("./StackMultiple-FtGt7Urb.js"),__vite__mapDeps([17,2,14,9,7,15,3,4,5,6,11,18]))},{path:"/import-create",name:"import-create",component:()=>Ha(()=>import("./ImportCreate-_40PPWh4.js"),__vite__mapDeps([19,2,8,7,6,9,10,1,3,4,5,11,20]))},...aB,{name:"not-found",path:"/:pathMatch(.*)*",redirect:{name:"stack-chooser"}}],Zu=_w({history:IC(),routes:lB}),_B=Object.freeze(Object.defineProperty({__proto__:null,default:Zu},Symbol.toStringTag,{value:"Module"}));export{Ji as M,Va as P,Ls as S,li as a,ar as b,O4 as d,ME as f,Dt as n,_B as r,bo as s,Di as u,gB as v};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/StackChooser-2sMuHq7a.js","assets/system-lKZWhhFR.js","assets/reactivity.esm-bundler-LrxtCAaW.js","assets/axios-_p75_7XV.js","assets/index-sqC47xDA.js","assets/index-KTfeMTgo.css","assets/vue.runtime.esm-bundler-9Vkzbhtf.js","assets/runtime-core.esm-bundler-MKLD6zL_.js","assets/LeftLogo-wdgTmoHR.js","assets/_plugin-vue_export-helper-x3n3nnut.js","assets/LeftLogo-0Qh03TJE.css","assets/vue3-markdown-it.umd.min-7JKSWcHD.js","assets/StackChooser-R9OsuiI7.css","assets/StackSingle-8MnOQeQm.js","assets/Tabs-3f5gQ-aT.js","assets/Tabs-Y3CsYXJ2.css","assets/StackSingle-QPEVVnJh.css","assets/StackMultiple-FtGt7Urb.js","assets/StackMultiple--UWpJkD_.css","assets/ImportCreate-_40PPWh4.js","assets/ImportCreate-tOUtfBA3.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
