import{r as u,t as _}from"./reactivity.esm-bundler-LrxtCAaW.js";import{B as F,L}from"./LeftLogo-wdgTmoHR.js";import{f as C,b as A,M as N,u as R,S as p}from"./router-dRrCuWpc.js";import{f as x,c as y,o as a,a as n,e as t,F as h,g as v,b as k,p as $,d as S,r as l,j as d,k as w}from"./runtime-core.esm-bundler-MKLD6zL_.js";import{_ as b}from"./_plugin-vue_export-helper-x3n3nnut.js";import T from"./system-lKZWhhFR.js";import{a as V}from"./vue.runtime.esm-bundler-9Vkzbhtf.js";import"./index-sqC47xDA.js";import"./vue3-markdown-it.umd.min-7JKSWcHD.js";import"./axios-_p75_7XV.js";const E={name:"explorer",props:{},setup(){const e=u([]),r=u(""),c=async o=>{r.value=o,e.value=await C.ls(o)};return x(async()=>{const o=await C.homeDir();await c(o)}),{dir:e,ls:c,currentPath:r,directories:y(()=>e.value.filter(o=>o.isDirectory)),files:y(()=>e.value.filter(o=>!o.isDirectory&&o.isStack))}}},g=e=>($("data-v-1eda87d7"),e=e(),S(),e),j={class:"explorer-root"},q={class:"explorer-content"},z={class:"header"},G={class:"current-directory"},H=g(()=>t("i",{class:"fas fa-folder-open","aria-hidden":"true"},null,-1)),J={class:"current-path"},K={class:"explorer-view"},O=["onClick"],Q={key:0,class:"fas fa-arrow-left","aria-hidden":"true"},U={key:1,class:"fas fa-folder","aria-hidden":"true"},W={key:2,class:"fab fa-npm","aria-hidden":"true"},X=["onClick"],Y=g(()=>t("i",{class:"fas fa-cog","aria-hidden":"true"},null,-1));function Z(e,r,c,o,f,I){return a(),n("div",j,[t("div",q,[t("div",z,[t("div",G,[H,t("div",J,_(o.currentPath),1)])]),t("div",K,[t("ul",null,[(a(!0),n(h,null,v(o.directories,s=>(a(),n("li",{key:s.name,onClick:m=>o.ls(s.absolutePath)},[s.name===".."?(a(),n("i",Q)):s.npmInfos?(a(),n("i",W)):(a(),n("i",U)),k(" "+_(s.name),1)],8,O))),128))]),t("ul",null,[(a(!0),n(h,null,v(o.files,s=>(a(),n("li",{key:s.name,class:"success",onClick:m=>e.$emit("file",s.absolutePath)},[Y,k(" "+_(s.name),1)],8,X))),128))])])])])}const oo=b(E,[["render",Z],["__scopeId","data-v-1eda87d7"]]),eo={name:"StackChooser",components:{BackgroundStackChooser:F,SectionCmp:A,Modal:N,Explorer:oo,LeftLogo:L},setup(){const e=R(),r=u([]);x(async()=>{r.value=await p.getAllConfsPath()});const c=u(null);return{modalRef:c,recents:r,System:T,async deleteConf(o){await p.deleteConf(o),r.value=await p.getAllConfsPath()},openModal(){var o;(o=c.value)==null||o.open().subscribe(f=>{})},async openPath(o){await p.selectConf(o),setTimeout(()=>{e.push({name:"stack-chooser"})},100)}}}},to=e=>($("data-v-e426e65e"),e=e(),S(),e),so={class:"import-export-root"},ao={class:"import-export-container"},no=["onClick"],ro=["onClick"],co={class:"version"},io=to(()=>t("i",{class:"fas fa-toolbox"},null,-1)),lo=[io];function _o(e,r,c,o,f,I){const s=l("background-stack-chooser"),m=l("left-logo"),P=l("section-cmp"),M=l("explorer"),B=l("modal");return a(),n("div",so,[d(s,{"low-resources":!0}),d(m),t("div",ao,[d(P,{header:"Choose configuration",class:"section-recent",actions:[{label:"Import",icon:"fas fa-download",click:()=>o.openModal()}]},{default:w(()=>[(a(!0),n(h,null,v(o.recents,i=>(a(),n("div",{key:i,onClick:D=>o.openPath(i),class:"recent"},[t("i",{class:"fas fa-times","aria-hidden":"true",onClick:V(D=>o.deleteConf(i),["stop"])},null,8,ro),k(" "+_(i),1)],8,no))),128))]),_:1},8,["actions"])]),t("div",co,_(o.System.version.value),1),t("div",{class:"tools",onClick:r[0]||(r[0]=i=>e.$router.push({name:"Toolbox"}))},lo),d(B,{ref:"modalRef",noActions:!0},{body:w(()=>[d(M,{onFile:o.openPath},null,8,["onFile"])]),_:1},512)])}const xo=b(eo,[["render",_o],["__scopeId","data-v-e426e65e"]]);export{xo as default};
