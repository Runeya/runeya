import{r as u}from"./reactivity.esm-bundler-LrxtCAaW.js";import{b as v,d as k,P as y,S as V}from"./router-dRrCuWpc.js";import{T as h}from"./Tabs-3f5gQ-aT.js";import{f as w,t as T,r as p,o as g,a as S,j as f,k as b,e as B,ai as C,h as P,z as x}from"./runtime-core.esm-bundler-MKLD6zL_.js";import{a as _}from"./axios-_p75_7XV.js";import{_ as I}from"./_plugin-vue_export-helper-x3n3nnut.js";import"./index-sqC47xDA.js";import"./vue.runtime.esm-bundler-9Vkzbhtf.js";import"./vue3-markdown-it.umd.min-7JKSWcHD.js";const M={components:{SectionCmp:v,Tabs:h,draggableVue:k},name:"StackSingle",setup(){const i=u([]),s=u([]),t=u(null);return w(async()=>{const{data:e}=await _.get("/plugins/services");s.value=e.sort((a,n)=>(a.order||0)-(n.order||0)).map(a=>({label:a.name,id:a.name,icon:a.icon})),T(()=>{var a,n;return(n=(a=t.value)==null?void 0:a.currentTab)==null?void 0:n.id},async()=>{var a,n;(n=(a=t.value)==null?void 0:a.currentTab)!=null&&n.id&&(i.value=await y.filter(V.services.value,async r=>{var c,l;if((l=(c=t==null?void 0:t.value)==null?void 0:c.currentTab)!=null&&l.id){const d=t.value.currentTab.id;if(!r.enabled)return!1;const{data:o}=await _.get("/plugins/services/"+r.label);return!!o.map(m=>m.name).find(m=>m===d)}return!1}))})}),{tabRef:t,services:i,tabs:s,async restart(e){await e.restart()},async stop(e){await e.stop()},goTo(e){var a;(a=window.open(e,"_blank"))==null||a.focus()},async openInVsCode(e){e.openInVsCode()},async openFolder(e){e.openFolder()}}}},F={class:"stack-multiple"},N={class:"tab"};function j(i,s,t,e,a,n){const r=p("section-cmp"),c=p("draggableVue"),l=p("tabs");return g(),S("div",F,[f(l,{tabs:e.tabs,showLabels:!1,ref:"tabRef"},{default:b(({tab:d})=>[B("div",N,[f(c,C({modelValue:e.services,"onUpdate:modelValue":s[0]||(s[0]=o=>e.services=o)},{animation:800},{"item-key":"label",class:"services"}),{item:b(({element:o})=>[f(r,{class:"service-container",headerBold:!0,noBodyPadding:!0,header:o.label,actions:[{click:()=>e.goTo(o.git.home),icon:"fab fa-github"},{click:()=>e.goTo(o.url),icon:"fas fa-globe"},{click:()=>e.openInVsCode(o),icon:"fas fa-file-code"},{click:()=>e.openFolder(o),icon:"fas fa-folder"}]},{default:b(()=>[(g(),P(x(d.id),{service:o,key:o.label,isInMultiMode:!0,noStyle:!0},null,8,["service"]))]),_:2},1032,["header","actions"])]),_:2},1040,["modelValue"])])]),_:1},8,["tabs"])])}const O=I(M,[["render",j],["__scopeId","data-v-0b4f0c2a"]]);export{O as default};
